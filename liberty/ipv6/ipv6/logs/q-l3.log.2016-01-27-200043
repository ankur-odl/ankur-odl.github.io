vagrant@vagrant-ubuntu-trusty-64:/opt/stack/opendaylight$ /usr/local/bin/neutron -l3-agent --config-file /etc/neutron/neutron.conf --config-file=/etc/neutron/l3_ agent.ini & echo $! >/opt/stack/status/stack/q-l3.pid; fg || echo "q-l3 failed t o start" | tee "/opt/stack/status/stack/q-l3.failure"
[1] 15159
/usr/local/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file=/etc/neutron/l3_agent.ini
Option "verbose" from group "DEFAULT" is deprecated for removal.  Its value may be silently ignored in the future.
2016-01-27 20:32:01.459 [00;36mINFO neutron.common.config [[00;36m-[00;36m] [01;35m[00;36mLogging enabled![00m
2016-01-27 20:32:01.460 [00;36mINFO neutron.common.config [[00;36m-[00;36m] [01;35m[00;36m/usr/local/bin/neutron-l3-agent version 7.0.3.dev1[00m
2016-01-27 20:32:01.460 [00;32mDEBUG neutron.common.config [[00;36m-[00;32m] [01;35m[00;32mcommand line: /usr/local/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file=/etc/neutron/l3_agent.ini[00m [00;33mfrom (pid=15159) setup_logging /opt/stack/neutron/neutron/common/config.py:219[00m
2016-01-27 20:32:01.529 [01;33mWARNING oslo_config.cfg [[00;36m-[01;33m] [01;35m[01;33mOption "use_namespaces" from group "DEFAULT" is deprecated for removal.  Its value may be silently ignored in the future.[00m
2016-01-27 20:32:01.531 [00;32mDEBUG oslo_messaging._drivers.amqp [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mPool creating new connection[00m [00;33mfrom (pid=15159) create /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqp.py:103[00m
2016-01-27 20:32:01.552 [00;32mDEBUG oslo_messaging._drivers.amqp [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mPool creating new connection[00m [00;33mfrom (pid=15159) create /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqp.py:103[00m
2016-01-27 20:32:01.566 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mCALL msg_id: 88d9ad24dad542f080c2f4738afa5144 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:01.596 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 88d9ad24dad542f080c2f4738afa5144[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:01.597 [00;32mDEBUG neutron.callbacks.manager [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mSubscribe: <function after_router_added at 0x7f6ec5e715f0> router after_create[00m [00;33mfrom (pid=15159) subscribe /opt/stack/neutron/neutron/callbacks/manager.py:41[00m
2016-01-27 20:32:01.598 [00;32mDEBUG neutron.callbacks.manager [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mSubscribe: <function before_router_removed at 0x7f6ec5e71aa0> router before_delete[00m [00;33mfrom (pid=15159) subscribe /opt/stack/neutron/neutron/callbacks/manager.py:41[00m
2016-01-27 20:32:01.599 [00;32mDEBUG neutron.services.firewall.agents.l3reference.firewall_l3_agent [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mInitializing firewall agent[00m [00;33mfrom (pid=15159) __init__ /opt/stack/neutron/neutron/services/firewall/agents/l3reference/firewall_l3_agent.py:56[00m
2016-01-27 20:32:01.612 [00;32mDEBUG neutron.callbacks.manager [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mSubscribe: <function add_router at 0x7f6ec5e71488> router before_create[00m [00;33mfrom (pid=15159) subscribe /opt/stack/neutron/neutron/callbacks/manager.py:41[00m
2016-01-27 20:32:01.612 [00;32mDEBUG neutron.callbacks.manager [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mSubscribe: <function remove_router at 0x7f6ec5e71320> router after_delete[00m [00;33mfrom (pid=15159) subscribe /opt/stack/neutron/neutron/callbacks/manager.py:41[00m
2016-01-27 20:32:01.613 [01;33mWARNING oslo_config.cfg [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[01;33m] [01;35m[01;33mOption "external_network_bridge" from group "DEFAULT" is deprecated for removal.  Its value may be silently ignored in the future.[00m
2016-01-27 20:32:01.614 [00;32mDEBUG oslo_concurrency.lockutils [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAcquired semaphore "singleton_lock"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:32:01.614 [00;32mDEBUG oslo_concurrency.lockutils [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mReleasing semaphore "singleton_lock"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:32:01.614 [00;32mDEBUG oslo_concurrency.lockutils [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAcquired semaphore "singleton_lock"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:32:01.616 [00;32mDEBUG oslo_concurrency.lockutils [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mReleasing semaphore "singleton_lock"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:32:01.616 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mFull set of CONF:[00m [00;33mfrom (pid=15159) _wait_for_exit_or_signal /usr/local/lib/python2.7/dist-packages/oslo_service/service.py:256[00m
2016-01-27 20:32:01.616 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32m********************************************************************************[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2320[00m
2016-01-27 20:32:01.617 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mConfiguration options gathered from:[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2321[00m
2016-01-27 20:32:01.617 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mcommand line args: ['--config-file', '/etc/neutron/neutron.conf', '--config-file=/etc/neutron/l3_agent.ini'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2322[00m
2016-01-27 20:32:01.617 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mconfig files: ['/etc/neutron/neutron.conf', '/etc/neutron/l3_agent.ini'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2323[00m
2016-01-27 20:32:01.617 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32m================================================================================[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2324[00m
2016-01-27 20:32:01.618 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32madvertise_mtu                  = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.618 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32magent_mode                     = legacy[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.618 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mallow_bulk                     = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.619 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mallow_overlapping_ips          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.619 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mallow_pagination               = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.619 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mallow_sorting                  = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.620 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mapi_extensions_path            = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.620 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mapi_paste_config               = api-paste.ini[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.620 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mapi_workers                    = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.621 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mauth_strategy                  = keystone[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.621 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mbackdoor_port                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.621 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mbacklog                        = 4096[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.621 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mbase_mac                       = fa:16:3e:00:00:00[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.622 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mbind_host                      = 0.0.0.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.622 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mbind_port                      = 9696[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.623 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mclient_socket_timeout          = 900[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.623 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mconfig_dir                     = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.623 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mconfig_file                    = ['/etc/neutron/neutron.conf', '/etc/neutron/l3_agent.ini'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.624 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mcontrol_exchange               = neutron[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.624 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mcore_plugin                    = neutron.plugins.ml2.plugin.Ml2Plugin[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.624 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdebug                          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.625 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdefault_ipv4_subnet_pool       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.625 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdefault_ipv6_subnet_pool       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.625 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdefault_log_levels             = ['amqp=WARN', 'amqplib=WARN', 'boto=WARN', 'qpid=WARN', 'sqlalchemy=WARN', 'suds=INFO', 'oslo.messaging=INFO', 'iso8601=WARN', 'requests.packages.urllib3.connectionpool=WARN', 'urllib3.connectionpool=WARN', 'websocket=WARN', 'requests.packages.urllib3.util.retry=WARN', 'urllib3.util.retry=WARN', 'keystonemiddleware=WARN', 'routes.middleware=WARN', 'stevedore=WARN', 'taskflow=WARN'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.626 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdhcp_agent_notification        = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.626 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdhcp_lease_duration            = 86400[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.626 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdns_domain                     = openstacklocal[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.627 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32menable_metadata_proxy          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.627 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mexternal_ingress_mark          = 0x2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.627 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mexternal_network_bridge        = br-ex[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.628 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mexternal_pids                  = /opt/stack/data/neutron/external/pids[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.628 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mforce_gateway_on_subnet        = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.628 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mgateway_external_network_id    = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.629 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mgraceful_shutdown_timeout      = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.629 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mha_confs_path                  = /opt/stack/data/neutron/ha_confs[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.629 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mha_vrrp_advert_int             = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.630 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mha_vrrp_auth_password          = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.630 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mha_vrrp_auth_type              = PASS[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.630 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mhandle_internal_only_routers   = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.630 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mhost                           = vagrant-ubuntu-trusty-64[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.631 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32minstance_format                = [instance: %(uuid)s] [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.631 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32minstance_uuid_format           = [instance: %(uuid)s] [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.631 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32minterface_driver               = neutron.agent.linux.interface.OVSInterfaceDriver[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.632 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mipam_driver                    = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.632 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mipv6_gateway                   = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.632 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlog_config_append              = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.633 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlog_date_format                = %Y-%m-%d %H:%M:%S[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.633 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlog_dir                        = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.634 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlog_file                       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.634 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlog_format                     = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.634 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlog_options                    = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.635 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlogging_context_format_string  = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_name)s %(project_id)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.635 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlogging_debug_format_suffix    = [00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.635 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlogging_default_format_string  = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.635 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlogging_exception_prefix       = %(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.636 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mlogging_user_identity_format   = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.636 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmac_generation_retries         = 16[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.636 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmax_dns_nameservers            = 5[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.637 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmax_fixed_ips_per_port         = 5[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.637 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmax_header_line                = 16384[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.637 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmax_subnet_host_routes         = 20[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.638 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmetadata_access_mark           = 0x1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.638 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmetadata_port                  = 9697[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.638 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmetadata_proxy_group           = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.639 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmetadata_proxy_socket          = /opt/stack/data/neutron/metadata_proxy[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.639 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmetadata_proxy_user            = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.639 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mmetadata_proxy_watch_log       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.640 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnetwork_device_mtu             = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.640 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnotification_driver            = [][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.640 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnotification_topics            = ['notifications'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.641 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnotification_transport_url     = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.641 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnotify_nova_on_port_data_changes = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.641 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnotify_nova_on_port_status_changes = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.641 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova_admin_auth_url            = http://localhost:5000/v2.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.642 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova_admin_password            = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.643 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova_admin_tenant_id           = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.643 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova_admin_tenant_name         = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.643 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova_admin_username            = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.643 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova_url                       = http://127.0.0.1:8774/v2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.644 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32movs_integration_bridge         = br-int[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.644 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32movs_use_veth                   = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.645 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32movs_vsctl_timeout              = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.645 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mpagination_max_limit           = -1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.645 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mpd_confs                       = /opt/stack/data/neutron/pd[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.646 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mpd_dhcp_driver                 = dibbler[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.646 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mperiodic_fuzzy_delay           = 5[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.646 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mperiodic_interval              = 40[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.647 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mprefix_delegation_driver       = dibbler[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.647 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mpublish_errors                 = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.647 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mra_confs                       = /opt/stack/data/neutron/ra[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.648 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mretry_until_window             = 30[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.648 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mrouter_delete_namespaces       = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.648 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mrouter_id                      = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.649 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mrpc_backend                    = rabbit[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.649 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mrpc_response_timeout           = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.649 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mrpc_workers                    = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.649 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mrun_external_periodic_tasks    = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.650 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32msend_arp_for_ha                = 3[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.650 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32msend_events_interval           = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.651 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mservice_plugins                = ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.651 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mssl_ca_file                    = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.651 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mssl_cert_file                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.652 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mssl_key_file                   = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.652 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mstate_path                     = /opt/stack/data/neutron[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.652 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32msyslog_log_facility            = LOG_USER[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.653 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mtcp_keepidle                   = 600[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.653 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mtransport_url                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.653 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32muse_namespaces                 = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.654 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32muse_ssl                        = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.654 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32muse_stderr                     = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.655 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32muse_syslog                     = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.655 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32muse_syslog_rfc_format          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.655 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mvendor_pen                     = 8888[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.656 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mverbose                        = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.656 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mvlan_transparent               = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.656 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mwatch_log_file                 = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.657 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mwsgi_keep_alive                = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.657 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mOVS.ovsdb_interface            = vsctl[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.657 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.amqp_auto_delete = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.657 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.amqp_durable_queues = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.658 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.fake_rabbit = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.658 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.heartbeat_rate = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.658 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.heartbeat_timeout_threshold = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.659 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_reconnect_delay = 1.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.659 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_reconnect_timeout = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.659 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_ca_certs = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.660 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_certfile = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.660 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_keyfile = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.660 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_version = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.661 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_ha_queues = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.661 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_host = localhost[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.661 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_hosts = ['10.4.1.3'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.662 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_login_method = AMQPLAIN[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.662 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_max_retries = 0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.663 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_password = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.664 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_port = 5672[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.664 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_retry_backoff = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.664 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_retry_interval = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.665 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_use_ssl = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.665 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_userid = stackrabbit[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.666 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_virtual_host = /[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.666 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.rpc_conn_pool_size = 30[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.666 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_messaging_rabbit.send_single_reply = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.667 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.auth_plugin               = password[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.667 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.auth_section              = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.667 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.cafile                    = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.668 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.certfile                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.668 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.insecure                  = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.668 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.keyfile                   = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.668 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.region_name               = RegionOne[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.669 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mnova.timeout                   = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.669 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.backend               = sqlalchemy[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.669 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.connection            = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.670 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.connection_debug      = 0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.670 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.connection_trace      = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.670 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.db_inc_retry_interval = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.671 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.db_max_retries        = 20[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.671 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.db_max_retry_interval = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.671 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.db_retry_interval     = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.672 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.idle_timeout          = 3600[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.672 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.max_overflow          = 20[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.672 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.max_pool_size         = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.673 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.max_retries           = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.673 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.min_pool_size         = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.673 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.mysql_sql_mode        = TRADITIONAL[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.673 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.pool_timeout          = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.674 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.retry_interval        = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.674 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.slave_connection      = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.675 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.sqlite_db             = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.676 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.sqlite_synchronous    = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.676 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mdatabase.use_db_reconnect      = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.676 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.check_child_processes_action = respawn[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.677 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.check_child_processes_interval = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.677 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.comment_iptables_rules   = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.677 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.log_agent_heartbeats     = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.678 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.report_interval          = 30.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.678 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.root_helper              = sudo /usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.678 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.root_helper_daemon       = sudo /usr/local/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.678 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mAGENT.use_helper_for_ns_read   = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.679 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mservice_providers.service_provider = [][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.679 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_concurrency.disable_process_locking = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.679 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32moslo_concurrency.lock_path     = /opt/stack/data/neutron/lock[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.680 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mfwaas.driver                   = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.680 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32mfwaas.enabled                  = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.680 [00;32mDEBUG oslo_service.service [[01;36mreq-440aa1d0-90e7-43dc-9be1-e188cc389259 [00;36mNone None[00;32m] [01;35m[00;32m********************************************************************************[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2343[00m
2016-01-27 20:32:01.681 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32m********************************************************************************[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2320[00m
2016-01-27 20:32:01.681 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mConfiguration options gathered from:[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2321[00m
2016-01-27 20:32:01.681 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mcommand line args: ['--config-file', '/etc/neutron/neutron.conf', '--config-file=/etc/neutron/l3_agent.ini'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2322[00m
2016-01-27 20:32:01.682 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mconfig files: ['/etc/neutron/neutron.conf', '/etc/neutron/l3_agent.ini'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2323[00m
2016-01-27 20:32:01.682 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32m================================================================================[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2324[00m
2016-01-27 20:32:01.682 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32madvertise_mtu                  = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.682 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32magent_mode                     = legacy[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.683 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mallow_bulk                     = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.683 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mallow_overlapping_ips          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.683 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mallow_pagination               = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.683 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mallow_sorting                  = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.684 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mapi_extensions_path            = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.684 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mapi_paste_config               = api-paste.ini[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.684 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mapi_workers                    = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.684 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mauth_strategy                  = keystone[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.685 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mbackdoor_port                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.685 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mbacklog                        = 4096[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.685 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mbase_mac                       = fa:16:3e:00:00:00[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.685 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mbind_host                      = 0.0.0.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.686 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mbind_port                      = 9696[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.686 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mclient_socket_timeout          = 900[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.686 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mconfig_dir                     = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.686 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mconfig_file                    = ['/etc/neutron/neutron.conf', '/etc/neutron/l3_agent.ini'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.687 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mcontrol_exchange               = neutron[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.687 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mcore_plugin                    = neutron.plugins.ml2.plugin.Ml2Plugin[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.687 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdebug                          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.687 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdefault_ipv4_subnet_pool       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.688 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdefault_ipv6_subnet_pool       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.688 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdefault_log_levels             = ['amqp=WARN', 'amqplib=WARN', 'boto=WARN', 'qpid=WARN', 'sqlalchemy=WARN', 'suds=INFO', 'oslo.messaging=INFO', 'iso8601=WARN', 'requests.packages.urllib3.connectionpool=WARN', 'urllib3.connectionpool=WARN', 'websocket=WARN', 'requests.packages.urllib3.util.retry=WARN', 'urllib3.util.retry=WARN', 'keystonemiddleware=WARN', 'routes.middleware=WARN', 'stevedore=WARN', 'taskflow=WARN'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.688 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdhcp_agent_notification        = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.688 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdhcp_lease_duration            = 86400[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.689 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdns_domain                     = openstacklocal[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.689 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32menable_metadata_proxy          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.689 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mexternal_ingress_mark          = 0x2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.689 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mexternal_network_bridge        = br-ex[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.690 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mexternal_pids                  = /opt/stack/data/neutron/external/pids[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.690 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mforce_gateway_on_subnet        = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.690 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mgateway_external_network_id    = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.690 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mgraceful_shutdown_timeout      = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.690 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mha_confs_path                  = /opt/stack/data/neutron/ha_confs[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.691 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mha_vrrp_advert_int             = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.691 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mha_vrrp_auth_password          = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.691 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mha_vrrp_auth_type              = PASS[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.691 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mhandle_internal_only_routers   = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.691 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mhost                           = vagrant-ubuntu-trusty-64[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.692 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32minstance_format                = [instance: %(uuid)s] [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.692 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32minstance_uuid_format           = [instance: %(uuid)s] [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.692 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32minterface_driver               = neutron.agent.linux.interface.OVSInterfaceDriver[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.692 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mipam_driver                    = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.693 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mipv6_gateway                   = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.693 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlog_config_append              = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.694 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlog_date_format                = %Y-%m-%d %H:%M:%S[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.694 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlog_dir                        = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.694 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlog_file                       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.694 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlog_format                     = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.695 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlog_options                    = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.695 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlogging_context_format_string  = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_name)s %(project_id)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.695 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlogging_debug_format_suffix    = [00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.695 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlogging_default_format_string  = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.696 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlogging_exception_prefix       = %(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.696 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mlogging_user_identity_format   = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.696 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmac_generation_retries         = 16[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.696 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmax_dns_nameservers            = 5[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.696 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmax_fixed_ips_per_port         = 5[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.697 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmax_header_line                = 16384[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.697 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmax_subnet_host_routes         = 20[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.697 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmetadata_access_mark           = 0x1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.697 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmetadata_port                  = 9697[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.698 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmetadata_proxy_group           = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.698 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmetadata_proxy_socket          = /opt/stack/data/neutron/metadata_proxy[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.698 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmetadata_proxy_user            = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.698 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mmetadata_proxy_watch_log       = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.699 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnetwork_device_mtu             = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.699 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnotification_driver            = [][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.699 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnotification_topics            = ['notifications'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.699 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnotification_transport_url     = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.699 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnotify_nova_on_port_data_changes = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.700 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnotify_nova_on_port_status_changes = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.700 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova_admin_auth_url            = http://localhost:5000/v2.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.700 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova_admin_password            = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.700 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova_admin_tenant_id           = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.701 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova_admin_tenant_name         = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.701 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova_admin_username            = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.701 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova_url                       = http://127.0.0.1:8774/v2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.701 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32movs_integration_bridge         = br-int[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.701 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32movs_use_veth                   = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.702 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32movs_vsctl_timeout              = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.703 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mpagination_max_limit           = -1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.703 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mpd_confs                       = /opt/stack/data/neutron/pd[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.703 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mpd_dhcp_driver                 = dibbler[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.703 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mperiodic_fuzzy_delay           = 5[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.704 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mperiodic_interval              = 40[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.704 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mprefix_delegation_driver       = dibbler[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.704 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mpublish_errors                 = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.705 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mra_confs                       = /opt/stack/data/neutron/ra[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.705 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mretry_until_window             = 30[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.705 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mrouter_delete_namespaces       = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.705 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mrouter_id                      = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.706 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mrpc_backend                    = rabbit[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.706 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mrpc_response_timeout           = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.706 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mrpc_workers                    = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.706 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mrun_external_periodic_tasks    = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.706 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32msend_arp_for_ha                = 3[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.707 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32msend_events_interval           = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.707 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mservice_plugins                = ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.707 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mssl_ca_file                    = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.707 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mssl_cert_file                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.708 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mssl_key_file                   = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.708 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mstate_path                     = /opt/stack/data/neutron[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.708 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32msyslog_log_facility            = LOG_USER[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.708 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mtcp_keepidle                   = 600[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.708 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mtransport_url                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.709 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32muse_namespaces                 = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.709 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32muse_ssl                        = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.709 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32muse_stderr                     = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.709 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32muse_syslog                     = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.710 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32muse_syslog_rfc_format          = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.710 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mvendor_pen                     = 8888[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.710 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mverbose                        = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.710 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mvlan_transparent               = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.710 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mwatch_log_file                 = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.711 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mwsgi_keep_alive                = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2333[00m
2016-01-27 20:32:01.711 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mOVS.ovsdb_interface            = vsctl[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.711 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.amqp_auto_delete = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.712 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.amqp_durable_queues = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.712 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.fake_rabbit = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.712 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.heartbeat_rate = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.712 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.heartbeat_timeout_threshold = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.713 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_reconnect_delay = 1.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.713 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_reconnect_timeout = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.713 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_ca_certs = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.713 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_certfile = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.713 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_keyfile = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.714 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.kombu_ssl_version = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.714 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_ha_queues = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.714 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_host = localhost[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.714 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_hosts = ['10.4.1.3'][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.715 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_login_method = AMQPLAIN[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.715 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_max_retries = 0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.715 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_password = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.715 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_port = 5672[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.715 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_retry_backoff = 2[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.716 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_retry_interval = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.716 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_use_ssl = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.716 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_userid = stackrabbit[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.716 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rabbit_virtual_host = /[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.717 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.rpc_conn_pool_size = 30[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.717 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_messaging_rabbit.send_single_reply = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.717 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.auth_plugin               = password[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.717 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.auth_section              = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.717 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.cafile                    = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.718 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.certfile                  = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.718 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.insecure                  = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.718 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.keyfile                   = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.718 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.region_name               = RegionOne[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.719 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mnova.timeout                   = None[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.719 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.backend               = sqlalchemy[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.719 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.connection            = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.719 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.connection_debug      = 0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.720 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.connection_trace      = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.720 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.db_inc_retry_interval = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.720 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.db_max_retries        = 20[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.720 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.db_max_retry_interval = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.721 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.db_retry_interval     = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.721 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.idle_timeout          = 3600[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.721 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.max_overflow          = 20[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.721 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.max_pool_size         = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.721 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.max_retries           = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.722 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.min_pool_size         = 1[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.722 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.mysql_sql_mode        = TRADITIONAL[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.722 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.pool_timeout          = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.722 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.retry_interval        = 10[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.722 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.slave_connection      = ****[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.723 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.sqlite_db             = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.723 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.sqlite_synchronous    = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.723 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mdatabase.use_db_reconnect      = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.723 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.check_child_processes_action = respawn[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.724 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.check_child_processes_interval = 60[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.724 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.comment_iptables_rules   = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.724 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.log_agent_heartbeats     = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.724 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.report_interval          = 30.0[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.725 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.root_helper              = sudo /usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.725 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.root_helper_daemon       = sudo /usr/local/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.725 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mAGENT.use_helper_for_ns_read   = True[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.725 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mservice_providers.service_provider = [][00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.725 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_concurrency.disable_process_locking = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.726 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32moslo_concurrency.lock_path     = /opt/stack/data/neutron/lock[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.726 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mfwaas.driver                   = [00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.726 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32mfwaas.enabled                  = False[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2341[00m
2016-01-27 20:32:01.726 [00;32mDEBUG neutron.wsgi [[00;36m-[00;32m] [01;35m[00;32m********************************************************************************[00m [00;33mfrom (pid=15159) log_opt_values /usr/local/lib/python2.7/dist-packages/oslo_config/cfg.py:2343[00m
2016-01-27 20:32:01.727 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for process, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:01.728 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 14ab67a6236f47e88b634e878d5b6568 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:01.728 [00;32mDEBUG neutron.common.rpc [[00;36m-[00;32m] [01;35m[00;32mCreating Consumer connection for Service l3_agent[00m [00;33mfrom (pid=15159) start /opt/stack/neutron/neutron/common/rpc.py:162[00m
2016-01-27 20:32:01.736 [00;32mDEBUG oslo_messaging._drivers.amqp [[00;36m-[00;32m] [01;35m[00;32mPool creating new connection[00m [00;33mfrom (pid=15159) create /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqp.py:103[00m
2016-01-27 20:32:01.745 [01;33mWARNING oslo_log.versionutils [[00;36m-[01;33m] [01;35m[01;33mDeprecated: WritableLogger() is deprecated as of Liberty and may be removed in Mitaka. It will not be superseded.[00m
2016-01-27 20:32:01.745 [00;36mINFO eventlet.wsgi.server [[00;36m-[00;36m] [01;35m[00;36m(15159) wsgi starting up on http:///:o/[00m
2016-01-27 20:32:01.765 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 14ab67a6236f47e88b634e878d5b6568[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:01.769 [00;36mINFO neutron.agent.l3.agent [[00;36m-[00;36m] [01;35m[00;36mL3 agent started[00m
2016-01-27 20:32:01.770 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: bd8b60830bd04f4e898689ff3fe49207 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:01.771 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting _process_routers_loop[00m [00;33mfrom (pid=15159) _process_routers_loop /opt/stack/neutron/neutron/agent/l3/agent.py:522[00m
2016-01-27 20:32:01.773 [00;32mDEBUG neutron.agent.linux.pd [[00;36m-[00;32m] [01;35m[00;32mSIGHUP signal handler set[00m [00;33mfrom (pid=15159) after_start /opt/stack/neutron/neutron/agent/linux/pd.py:282[00m
2016-01-27 20:32:06.772 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:32:06.772 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mStarting fullsync periodic_sync_routers_task[00m [00;33mfrom (pid=15159) periodic_sync_routers_task /opt/stack/neutron/neutron/agent/l3/agent.py:535[00m
2016-01-27 20:32:06.773 [00;32mDEBUG neutron.agent.linux.utils [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning command: ['ip', 'netns', 'list'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:06.780 [00;32mDEBUG neutron.agent.linux.utils [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:06.781 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mCALL msg_id: dbc60d52994a4075a9f0d251b5c2947c exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:06.863 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: dbc60d52994a4075a9f0d251b5c2947c[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:06.864 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mProcessing :[][00m [00;33mfrom (pid=15159) fetch_and_sync_all_routers /opt/stack/neutron/neutron/agent/l3/agent.py:567[00m
2016-01-27 20:32:06.865 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mperiodic_sync_routers_task successfully completed[00m [00;33mfrom (pid=15159) fetch_and_sync_all_routers /opt/stack/neutron/neutron/agent/l3/agent.py:582[00m
2016-01-27 20:32:09.169 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 7c0a92c5db29472484b6512237cc7b5e [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:32:09.170 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:32:14.289 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: d25006b21caa4aeba298982adb573ed8 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:32:14.290 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6ba7bd7b-c2ee-49dc-ac03-aa0bc9ae0e0e [00;36madmin 7c43d96e3e58477e8e2418739be03df3[00;32m] [01;35m[00;32mGot routers updated notification :[u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:32:14.291 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:32:14.292 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: f05c50f03d9347beb20e22d2b5190f1a exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:14.974 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: f05c50f03d9347beb20e22d2b5190f1a[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:14.975 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:14.985 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:14.986 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: df69b7d18b074b17bdda91005db0f60f exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:15.022 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: df69b7d18b074b17bdda91005db0f60f[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:15.023 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:15.025 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:32:15.025 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:32:15.026 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:32:15.027 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.033 [00;32mDEBUG oslo_rootwrap.client [[00;36m-[00;32m] [01;35m[00;32mPopen for ['sudo', '/usr/local/bin/neutron-rootwrap-daemon', '/etc/neutron/rootwrap.conf'] command has been instantiated[00m [00;33mfrom (pid=15159) _initialize /usr/local/lib/python2.7/dist-packages/oslo_rootwrap/client.py:67[00m
2016-01-27 20:32:15.140 [00;36mINFO oslo_rootwrap.client [[00;36m-[00;36m] [01;35m[00;36mSpawned new rootwrap daemon process with pid=15462[00m
2016-01-27 20:32:15.156 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.157 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.164 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.164 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.217 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.218 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.281 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.282 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.381 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.382 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:32:15.382 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(4be9f844-95d5-4cac-9ef7-191f607a19ea)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:32:15.383 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qr-4be9f844-95'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.433 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qr-4be9f844-95']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.433 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:15.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.446 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-4be9f844-95', '--', 'add-port', 'br-int', 'qr-4be9f844-95', '--', 'set', 'Interface', 'qr-4be9f844-95', 'type=internal', 'external_ids:iface-id=4be9f844-95d5-4cac-9ef7-191f607a19ea', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:19:fd:9e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.470 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-4be9f844-95', '--', 'add-port', 'br-int', u'qr-4be9f844-95', '--', 'set', 'Interface', u'qr-4be9f844-95', 'type=internal', u'external_ids:iface-id=4be9f844-95d5-4cac-9ef7-191f607a19ea', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:19:fd:9e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.470 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-4be9f844-95'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.479 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-4be9f844-95']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.480 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-4be9f844-95', 'address', 'fa:16:3e:19:fd:9e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.494 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-4be9f844-95', 'address', u'fa:16:3e:19:fd:9e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.495 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.499 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.500 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-4be9f844-95', 'netns', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-4be9f844-95', 'netns', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.538 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', 'qr-4be9f844-95', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', u'qr-4be9f844-95', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.614 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-4be9f844-95), namespace(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:32:15.615 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qr-4be9f844-95'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qr-4be9f844-95']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qr-4be9f844-95', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qr-4be9f844-95', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.738 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'addr', 'add', '10.0.0.1/24', 'scope', 'global', 'dev', 'qr-4be9f844-95', 'brd', '10.0.0.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.805 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'addr', 'add', '10.0.0.1/24', 'scope', 'global', 'dev', u'qr-4be9f844-95', 'brd', '10.0.0.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.805 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', 'qr-4be9f844-95', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.881 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', u'qr-4be9f844-95', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.882 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', 'qr-4be9f844-95', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.973 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', u'qr-4be9f844-95', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:15.973 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'b4ce4bc7-4306-436f-b89d-bd5224e73646', u'prefixlen': 24, u'ip_address': u'10.0.0.1'}], u'id': u'4be9f844-95d5-4cac-9ef7-191f607a19ea', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:19:fd:9e', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.0.0.0/24', u'gateway_ip': u'10.0.0.1', u'id': u'b4ce4bc7-4306-436f-b89d-bd5224e73646', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a', u'name': u'', u'admin_state_up': True, u'network_id': u'95840248-70cc-4b34-aaf8-e6186543aa82', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'4b80ff7ca2af44e496088ef9fa9ec8b5', u'extra_subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'fd41:603c:784c::/64', u'gateway_ip': u'fd41:603c:784c::1', u'id': u'9bc4cb89-0ae1-46d6-84af-45d2ea0ca4c9', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:32:15.973 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:15.974 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', 'qr-4be9f844-95', '-c', '3', '-w', '4.5', '10.0.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.045 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.046 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:32:16.047 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:32:16.047 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.099 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:32:16.100 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.153 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.155 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.234 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.314 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mUnable to find table raw[00m [00;33mfrom (pid=15159) _find_table /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:521[00m
2016-01-27 20:32:16.314 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.385 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.385 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 80 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:32:16.386 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:32:16.386 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:16.386 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:32:16.387 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:32:16.387 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.442 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.445 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.501 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.501 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:16.557 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:16.559 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:32:16.559 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:32:16.560 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:32:16.561 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=33481b7f-8c1f-42f6-a779-c2c8437f2f0a', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.233 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 4b98b67511034a509f863444d0a19768 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:32:17.235 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-62223de3-caba-4290-b27a-1b208110b595 [00;36madmin 7c43d96e3e58477e8e2418739be03df3[00;32m] [01;35m[00;32mGot routers updated notification :[u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:32:17.264 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=33481b7f-8c1f-42f6-a779-c2c8437f2f0a', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.264 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:32:17.265 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:32:17.265 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: ca46257cf17547419c1a9efee97d6ad6 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:17.627 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: ca46257cf17547419c1a9efee97d6ad6[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:17.628 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:17.636 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.637 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:17.638 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:32:17.638 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.697 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.697 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:32:17.698 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:32:17.698 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.2'}], u'id': u'd737a16d-9325-4991-8f34-452c8f739ada', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:5a:97:9b', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-d737a16d-93), ns(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:32:17.698 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qg-d737a16d-93']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:17.768 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-d737a16d-93', '--', 'add-port', 'br-ex', 'qg-d737a16d-93', '--', 'set', 'Interface', 'qg-d737a16d-93', 'type=internal', 'external_ids:iface-id=d737a16d-9325-4991-8f34-452c8f739ada', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:5a:97:9b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.787 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-d737a16d-93', '--', 'add-port', 'br-ex', u'qg-d737a16d-93', '--', 'set', 'Interface', u'qg-d737a16d-93', 'type=internal', u'external_ids:iface-id=d737a16d-9325-4991-8f34-452c8f739ada', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:5a:97:9b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.788 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.796 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.797 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-d737a16d-93', 'address', 'fa:16:3e:5a:97:9b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.803 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-d737a16d-93', 'address', u'fa:16:3e:5a:97:9b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.803 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.808 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.809 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-d737a16d-93', 'netns', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.854 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-d737a16d-93', 'netns', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.855 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', 'qg-d737a16d-93', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.913 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', u'qg-d737a16d-93', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.914 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-d737a16d-93), namespace(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:32:17.914 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:17.973 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:17.974 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qg-d737a16d-93', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.029 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qg-d737a16d-93', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.030 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'addr', 'add', '172.24.4.2/24', 'scope', 'global', 'dev', 'qg-d737a16d-93', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.037 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', u'qr-4be9f844-95', '-c', 3, '-w', 4.5, u'10.0.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.093 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'addr', 'add', '172.24.4.2/24', 'scope', 'global', 'dev', u'qg-d737a16d-93', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.094 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.150 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.150 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv6.conf.qg-d737a16d-93.accept_ra=2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.213 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', u'net.ipv6.conf.qg-d737a16d-93.accept_ra=2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.213 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', 'qg-d737a16d-93', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.269 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', u'qg-d737a16d-93', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.270 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', 'qg-d737a16d-93', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', u'qg-d737a16d-93', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.314 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:32:18.315 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:32:18.315 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.316 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', 'qg-d737a16d-93', '-c', '3', '-w', '4.5', '172.24.4.2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.381 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.381 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:32:18.382 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.445 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.448 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.529 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.529 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.598 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 14 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:32:18.598 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:32:18.598 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:18.649 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:18.649 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:18.649 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:32:19.605 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a33fc475cd2c4d0898781ace4e98093b [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:32:19.606 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-48d3851b-eb1f-4beb-80e3-bf8d6cdbb48b [00;36madmin 7c43d96e3e58477e8e2418739be03df3[00;32m] [01;35m[00;32mGot routers updated notification :[u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:32:19.607 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:32:19.608 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 63e720c4cfdc4ac98214e243689f1917 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:20.022 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 63e720c4cfdc4ac98214e243689f1917[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:20.022 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:20.029 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.030 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:20.031 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:32:20.031 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(9655d9aa-6314-4bc2-8709-892714be4fa8)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:32:20.031 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qr-9655d9aa-63'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qr-9655d9aa-63']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:20.104 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.105 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-9655d9aa-63', '--', 'add-port', 'br-int', 'qr-9655d9aa-63', '--', 'set', 'Interface', 'qr-9655d9aa-63', 'type=internal', 'external_ids:iface-id=9655d9aa-6314-4bc2-8709-892714be4fa8', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:e7:3e:15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.130 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-9655d9aa-63', '--', 'add-port', 'br-int', u'qr-9655d9aa-63', '--', 'set', 'Interface', u'qr-9655d9aa-63', 'type=internal', u'external_ids:iface-id=9655d9aa-6314-4bc2-8709-892714be4fa8', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:e7:3e:15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.131 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-9655d9aa-63'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-9655d9aa-63']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.138 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-9655d9aa-63', 'address', 'fa:16:3e:e7:3e:15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.145 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-9655d9aa-63', 'address', u'fa:16:3e:e7:3e:15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.145 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.153 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.154 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-9655d9aa-63', 'netns', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.207 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-9655d9aa-63', 'netns', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.208 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', 'qr-9655d9aa-63', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.277 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'link', 'set', u'qr-9655d9aa-63', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.277 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-9655d9aa-63), namespace(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:32:20.278 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qr-9655d9aa-63'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qr-9655d9aa-63']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.330 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qr-9655d9aa-63', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', u'qg-d737a16d-93', '-c', 3, '-w', 4.5, u'172.24.4.2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qr-9655d9aa-63', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.378 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'addr', 'add', 'fd41:603c:784c::1/64', 'scope', 'global', 'dev', 'qr-9655d9aa-63'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'addr', 'add', 'fd41:603c:784c::1/64', 'scope', 'global', 'dev', u'qr-9655d9aa-63']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', 'qr-9655d9aa-63', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.482 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', u'qr-9655d9aa-63', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.483 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', 'qr-9655d9aa-63', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', u'qr-9655d9aa-63', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.533 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'9bc4cb89-0ae1-46d6-84af-45d2ea0ca4c9', u'prefixlen': 64, u'ip_address': u'fd41:603c:784c::1'}], u'id': u'9655d9aa-6314-4bc2-8709-892714be4fa8', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:e7:3e:15', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'fd41:603c:784c::/64', u'gateway_ip': u'fd41:603c:784c::1', u'id': u'9bc4cb89-0ae1-46d6-84af-45d2ea0ca4c9', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a', u'name': u'', u'admin_state_up': True, u'network_id': u'95840248-70cc-4b34-aaf8-e6186543aa82', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'4b80ff7ca2af44e496088ef9fa9ec8b5', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.0.0.0/24', u'gateway_ip': u'10.0.0.1', u'id': u'b4ce4bc7-4306-436f-b89d-bd5224e73646', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:32:20.534 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 33481b7f-8c1f-42f6-a779-c2c8437f2f0a[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:32:20.534 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 33481b7f-8c1f-42f6-a779-c2c8437f2f0a[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:32:20.536 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:32:20.536 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'radvd', '-C', '/opt/stack/data/neutron/ra/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.555 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'radvd', '-C', u'/opt/stack/data/neutron/ra/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/33481b7f-8c1f-42f6-a779-c2c8437f2f0a.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.556 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 33481b7f-8c1f-42f6-a779-c2c8437f2f0a[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:32:20.556 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.601 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.602 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:32:20.602 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:32:20.603 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.2'}], u'id': u'd737a16d-9325-4991-8f34-452c8f739ada', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:5a:97:9b', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-d737a16d-93), ns(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:32:20.603 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.661 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.661 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-d737a16d-93 already exists[00m
2016-01-27 20:32:20.662 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-d737a16d-93), namespace(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:32:20.662 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qg-d737a16d-93', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qg-d737a16d-93', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.762 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.809 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.809 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', 'net.ipv6.conf.qg-d737a16d-93.accept_ra=2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.873 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'sysctl', '-w', u'net.ipv6.conf.qg-d737a16d-93.accept_ra=2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.874 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', 'qg-d737a16d-93', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.905 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', u'qg-d737a16d-93', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.905 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', 'qg-d737a16d-93', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.947 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a8573e6b11274e75857f9ecf11adcff2 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:32:20.949 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-8beeb0eb-cdff-4105-810c-72d99ab06560 [00;36madmin 7c43d96e3e58477e8e2418739be03df3[00;32m] [01;35m[00;32mGot routers updated notification :[u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:32:20.952 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', u'qg-d737a16d-93', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:20.953 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:20.954 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', 'qg-d737a16d-93', '-c', '3', '-w', '4.5', '172.24.4.2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.001 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.002 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:32:21.003 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.049 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.054 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.125 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.126 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.209 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.210 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:32:21.210 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:32:21.211 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.269 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.270 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:21.270 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:32:21.270 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:32:21.271 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: f9bb6d46c8c440679917d567b406e2ac exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:21.476 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: f9bb6d46c8c440679917d567b406e2ac[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:32:21.477 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:32:21.484 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.485 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:21.486 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:32:21.486 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.558 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.559 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:32:21.559 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:32:21.559 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.2'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::3'}], u'id': u'd737a16d-9325-4991-8f34-452c8f739ada', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:5a:97:9b', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'33481b7f-8c1f-42f6-a779-c2c8437f2f0a', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-d737a16d-93), ns(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:32:21.560 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.617 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-d737a16d-93 already exists[00m
2016-01-27 20:32:21.618 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-d737a16d-93), namespace(qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:32:21.618 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-o', 'link', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.674 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qg-d737a16d-93', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.734 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qg-d737a16d-93', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.735 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'addr', 'add', '2001:db8::3/64', 'scope', 'global', 'dev', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.802 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'addr', 'add', '2001:db8::3/64', 'scope', 'global', 'dev', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.802 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.865 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.866 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.921 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.922 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', 'qg-d737a16d-93', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:21.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-4', 'route', 'list', 'dev', u'qg-d737a16d-93', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:21.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', 'qg-d737a16d-93', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:22.029 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', '-6', 'route', 'list', 'dev', u'qg-d737a16d-93', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:22.030 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:22.031 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', 'qg-d737a16d-93', '-c', '3', '-w', '4.5', '172.24.4.2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:22.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:22.082 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:32:22.082 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:22.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:22.145 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:22.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:22.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:22.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:22.275 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:32:22.275 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:32:22.276 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', 'qg-d737a16d-93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:32:22.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'ip', 'addr', 'show', u'qg-d737a16d-93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:22.339 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:32:22.339 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 33481b7f-8c1f-42f6-a779-c2c8437f2f0a[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:32:23.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', u'qg-d737a16d-93', '-c', 3, '-w', 4.5, u'172.24.4.2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:24.069 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-33481b7f-8c1f-42f6-a779-c2c8437f2f0a', 'arping', '-A', '-I', u'qg-d737a16d-93', '-c', 3, '-w', 4.5, u'172.24.4.2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:32:31.728 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 150d96a5b1044e42b20c9b6b4382e092 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:32:46.776 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:33:01.542 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:33:01.543 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:33:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:33:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:33:01.731 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 620fdb5654a74452900d542c2a066ac1 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:33:26.777 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:33:31.727 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 03fb31854ace4eab9bc677da8f6bd7f5 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:34:01.543 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:34:01.544 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:34:01.681 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:34:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:34:01.722 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: ff5adb471f8749aa959aee8d8c1f6507 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:34:06.778 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:34:31.726 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 784de43944284851941a317e99ffba2b exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:34:46.779 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:35:01.543 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:35:01.544 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:35:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:35:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:35:01.730 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 9cef937839b44774acd25385ad74f75c exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:35:25.190 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: bce46ff7709141c5bbbf9a9363b2fcd5 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:35:25.191 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:35:25.549 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e3dd5ea0cead41309cf4595abcc731cc [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:35:25.552 [00;32mDEBUG oslo_policy._cache_handler [[01;36mreq-66f097ba-ba1d-4d7a-8d37-94f7abf2c24c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mReloading cached file /etc/neutron/policy.json[00m [00;33mfrom (pid=15159) read_cached_file /usr/local/lib/python2.7/dist-packages/oslo_policy/_cache_handler.py:38[00m
2016-01-27 20:35:25.560 [00;32mDEBUG oslo_policy.policy [[01;36mreq-66f097ba-ba1d-4d7a-8d37-94f7abf2c24c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mReloaded policy file: /etc/neutron/policy.json[00m [00;33mfrom (pid=15159) _load_policy_file /usr/local/lib/python2.7/dist-packages/oslo_policy/policy.py:475[00m
2016-01-27 20:35:25.562 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-66f097ba-ba1d-4d7a-8d37-94f7abf2c24c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:35:25.563 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:35:25.565 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: acb5769c32494826a88e826b961137eb exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:35:25.937 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: acb5769c32494826a88e826b961137eb[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:35:25.938 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:35:25.947 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 0610ddb1bf7e48dd8f0a6bd6740b4a5b [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:35:25.951 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-3b9572ce-e5e7-4e28-b429-dc97d3ef0285 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:35:25.952 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:25.954 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:35:25.954 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:35:25.955 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:35:25.955 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:35:25.956 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:25.964 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:25.965 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:25.972 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:25.972 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.094 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.095 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.157 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.158 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.221 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.221 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:35:26.222 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.289 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.290 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:35:26.290 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:35:26.291 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.3'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::4'}], u'id': u'25a7b83f-37e5-4889-aba6-4de2f7b31f62', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:61:df:67', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-25a7b83f-37), ns(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:35:26.291 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.353 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qg-25a7b83f-37']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.353 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:35:26.362 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.363 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-25a7b83f-37', '--', 'add-port', 'br-ex', 'qg-25a7b83f-37', '--', 'set', 'Interface', 'qg-25a7b83f-37', 'type=internal', 'external_ids:iface-id=25a7b83f-37e5-4889-aba6-4de2f7b31f62', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:61:df:67'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.386 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-25a7b83f-37', '--', 'add-port', 'br-ex', u'qg-25a7b83f-37', '--', 'set', 'Interface', u'qg-25a7b83f-37', 'type=internal', u'external_ids:iface-id=25a7b83f-37e5-4889-aba6-4de2f7b31f62', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:61:df:67']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.388 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.397 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.398 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-25a7b83f-37', 'address', 'fa:16:3e:61:df:67'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-25a7b83f-37', 'address', u'fa:16:3e:61:df:67']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.411 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.412 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-25a7b83f-37', 'netns', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.462 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-25a7b83f-37', 'netns', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.463 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', 'qg-25a7b83f-37', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', u'qg-25a7b83f-37', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.534 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-25a7b83f-37), namespace(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:35:26.534 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.681 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.682 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '172.24.4.3/24', 'scope', 'global', 'dev', 'qg-25a7b83f-37', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '172.24.4.3/24', 'scope', 'global', 'dev', u'qg-25a7b83f-37', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'addr', 'add', '2001:db8::4/64', 'scope', 'global', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.780 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:35:26.805 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'addr', 'add', '2001:db8::4/64', 'scope', 'global', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.806 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.873 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.873 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.930 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:26.931 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', 'qg-25a7b83f-37', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:26.993 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 8b4538180c984535b167e70194b2a592 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:35:26.995 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-71f1075b-163e-4dd6-b154-fab547a59128 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:35:27.009 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', u'qg-25a7b83f-37', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.009 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', 'qg-25a7b83f-37', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.065 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', u'qg-25a7b83f-37', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.066 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:35:27.067 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:35:27.067 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.068 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', 'qg-25a7b83f-37', '-c', '3', '-w', '4.5', '172.24.4.3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.121 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.122 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:35:27.123 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.185 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.190 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.258 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.314 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.365 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.365 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:35:27.366 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:35:27.366 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.417 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.418 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:35:27.418 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:35:27.419 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:35:27.419 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.488 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:27.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:27.582 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:35:27.582 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:35:27.584 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:35:27.585 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:28.391 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:28.392 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:35:28.392 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:35:28.393 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1bf84c6a8e8d48c1be7c92805cc38d05 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:35:29.037 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1bf84c6a8e8d48c1be7c92805cc38d05[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:35:29.038 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:35:29.047 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.048 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:35:29.048 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:35:29.049 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(3fe94adc-66ef-479b-ba43-736828551353)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:35:29.049 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qr-3fe94adc-66'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.110 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qr-3fe94adc-66']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.110 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:35:29.118 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.119 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-3fe94adc-66', '--', 'add-port', 'br-int', 'qr-3fe94adc-66', '--', 'set', 'Interface', 'qr-3fe94adc-66', 'type=internal', 'external_ids:iface-id=3fe94adc-66ef-479b-ba43-736828551353', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:3f:c4:c4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.149 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-3fe94adc-66', '--', 'add-port', 'br-int', u'qr-3fe94adc-66', '--', 'set', 'Interface', u'qr-3fe94adc-66', 'type=internal', u'external_ids:iface-id=3fe94adc-66ef-479b-ba43-736828551353', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:3f:c4:c4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-3fe94adc-66'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.172 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', u'qg-25a7b83f-37', '-c', 3, '-w', 4.5, u'172.24.4.3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.198 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-3fe94adc-66']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.201 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-3fe94adc-66', 'address', 'fa:16:3e:3f:c4:c4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.211 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-3fe94adc-66', 'address', u'fa:16:3e:3f:c4:c4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.215 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.230 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.231 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-3fe94adc-66', 'netns', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-3fe94adc-66', 'netns', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.275 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', 'qr-3fe94adc-66', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', u'qr-3fe94adc-66', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.338 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-3fe94adc-66), namespace(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:35:29.339 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qr-3fe94adc-66'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.397 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qr-3fe94adc-66']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.398 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qr-3fe94adc-66', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.461 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qr-3fe94adc-66', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.461 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-3fe94adc-66'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.513 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-3fe94adc-66']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.514 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', 'qr-3fe94adc-66', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.589 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', u'qr-3fe94adc-66', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.589 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', 'qr-3fe94adc-66', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.649 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', u'qr-3fe94adc-66', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.650 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'8e6d6616-5999-4538-a1e4-cdeefddc64d9', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'3fe94adc-66ef-479b-ba43-736828551353', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:3f:c4:c4', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'8e6d6616-5999-4538-a1e4-cdeefddc64d9', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'67bc57ca-8e10-411f-904a-4e13edb04953', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'd98cde91-0e5b-4c83-b466-ec5f5f30aebe', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:35:29.651 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(c0586b5a-3648-42b9-88b0-701530122221)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:35:29.651 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qr-c0586b5a-36'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.686 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 55feea48aa1d497eae4a89c012393785 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:35:29.689 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-0a876924-ea0f-44cd-b507-feece7a5aa5f [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:35:29.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qr-c0586b5a-36']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:35:29.714 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.715 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-c0586b5a-36', '--', 'add-port', 'br-int', 'qr-c0586b5a-36', '--', 'set', 'Interface', 'qr-c0586b5a-36', 'type=internal', 'external_ids:iface-id=c0586b5a-3648-42b9-88b0-701530122221', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:a2:d9:48'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.738 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-c0586b5a-36', '--', 'add-port', 'br-int', u'qr-c0586b5a-36', '--', 'set', 'Interface', u'qr-c0586b5a-36', 'type=internal', u'external_ids:iface-id=c0586b5a-3648-42b9-88b0-701530122221', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:a2:d9:48']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.738 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-c0586b5a-36'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.749 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-c0586b5a-36']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.755 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-c0586b5a-36', 'address', 'fa:16:3e:a2:d9:48'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.768 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-c0586b5a-36', 'address', u'fa:16:3e:a2:d9:48']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.770 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.783 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.784 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-c0586b5a-36', 'netns', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.845 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-c0586b5a-36', 'netns', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.845 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', 'qr-c0586b5a-36', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.917 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'link', 'set', u'qr-c0586b5a-36', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.917 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-c0586b5a-36), namespace(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:35:29.918 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qr-c0586b5a-36'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:29.990 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qr-c0586b5a-36']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:29.990 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qr-c0586b5a-36', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qr-c0586b5a-36', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.074 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-c0586b5a-36', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-c0586b5a-36', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', 'qr-c0586b5a-36', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', u'qr-c0586b5a-36', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', 'qr-c0586b5a-36', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', u'qr-c0586b5a-36', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.313 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'd98cde91-0e5b-4c83-b466-ec5f5f30aebe', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'c0586b5a-3648-42b9-88b0-701530122221', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:a2:d9:48', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'd98cde91-0e5b-4c83-b466-ec5f5f30aebe', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'67bc57ca-8e10-411f-904a-4e13edb04953', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'8e6d6616-5999-4538-a1e4-cdeefddc64d9', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:35:30.314 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:35:30.314 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:35:30.316 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:35:30.316 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'radvd', '-C', '/opt/stack/data/neutron/ra/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.317 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', 'qr-c0586b5a-36', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.344 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'radvd', '-C', u'/opt/stack/data/neutron/ra/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.344 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:35:30.344 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.412 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.413 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:35:30.413 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:35:30.414 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.3'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::4'}], u'id': u'25a7b83f-37e5-4889-aba6-4de2f7b31f62', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:61:df:67', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-25a7b83f-37), ns(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:35:30.414 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.477 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.477 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-25a7b83f-37 already exists[00m
2016-01-27 20:35:30.478 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-25a7b83f-37), namespace(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:35:30.478 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.598 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', 'qg-25a7b83f-37', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', u'qg-25a7b83f-37', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.770 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', 'qg-25a7b83f-37', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.833 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', u'qg-25a7b83f-37', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', 'qg-25a7b83f-37', '-c', '3', '-w', '4.5', '172.24.4.3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.889 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.889 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:35:30.890 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:30.965 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:30.969 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:31.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:31.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:31.089 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:31.090 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:35:31.090 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:35:31.091 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:31.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:31.137 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:35:31.138 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:35:31.733 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: b0f6cd4ba1c54820a8957684ad377551 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:35:32.409 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', u'qr-c0586b5a-36', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:32.908 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', u'qg-25a7b83f-37', '-c', 3, '-w', 4.5, u'172.24.4.3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.185 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 3400f89e1e5b4b5e96429e52d77a3e67 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:35:33.188 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-23627fef-299c-40bd-8587-be548f944447 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:35:33.189 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:35:33.190 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 4d261d7b1ff249e89cbb11db6ec79de8 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:35:33.478 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 4d261d7b1ff249e89cbb11db6ec79de8[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:35:33.479 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:35:33.487 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.489 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:35:33.490 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:35:33.490 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.538 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:35:33.538 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:35:33.539 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.3'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::4'}], u'id': u'25a7b83f-37e5-4889-aba6-4de2f7b31f62', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:61:df:67', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-25a7b83f-37), ns(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:35:33.539 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.581 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-25a7b83f-37 already exists[00m
2016-01-27 20:35:33.582 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-25a7b83f-37), namespace(qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:35:33.582 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.641 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.642 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.685 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.686 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.733 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.733 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.777 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.777 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', 'qg-25a7b83f-37', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.812 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'route', 'list', 'dev', u'qg-25a7b83f-37', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.813 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', 'qg-25a7b83f-37', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.856 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'route', 'list', 'dev', u'qg-25a7b83f-37', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.857 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.858 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', 'qg-25a7b83f-37', '-c', '3', '-w', '4.5', '172.24.4.3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.900 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.901 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:35:33.902 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:33.953 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:33.960 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:34.009 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:34.009 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:34.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:34.058 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:35:34.058 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:35:34.059 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:34.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:34.098 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '172.24.4.4/32', 'scope', 'global', 'dev', 'qg-25a7b83f-37', 'brd', '172.24.4.4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:34.136 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '172.24.4.4/32', 'scope', 'global', 'dev', u'qg-25a7b83f-37', 'brd', '172.24.4.4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:34.137 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 9c9e17da-d5b3-4e04-bc37-d0069c9b3350 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:35:34.137 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9c9e17da-d5b3-4e04-bc37-d0069c9b3350': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:35:34.138 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 0a0d1aed6a4d4ef88f7aab1085930b1f exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:35:34.139 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', 'qg-25a7b83f-37', '-c', '3', '-w', '4.5', '172.24.4.4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:35:34.158 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 0a0d1aed6a4d4ef88f7aab1085930b1f[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:35:34.159 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:35:34.159 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:35:35.905 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', u'qg-25a7b83f-37', '-c', 3, '-w', 4.5, u'172.24.4.3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:35:36.201 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', u'qg-25a7b83f-37', '-c', 3, '-w', 4.5, u'172.24.4.4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:01.544 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:01.546 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:01.732 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: cc4b4a48f96b46cb87448dfd769171e2 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:01.766 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 6724c90b3cfb46d7a34cee8becc0c02f [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:01.768 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-86e0e97d-7345-4f33-964b-d40f155c99d2 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:05.325 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: d303b79ff3e74ca3a82bc2025884ac87 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:05.326 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-72f09237-8eba-4a55-80e4-afd109842d65 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:05.327 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:05.328 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: ab50385c03e84175beb951a843721c18 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:05.560 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: ab50385c03e84175beb951a843721c18[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:05.561 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:05.568 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.569 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:05.569 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:05.570 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.621 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.621 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:05.622 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:05.622 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.660 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.662 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:05.662 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.708 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.765 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.765 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.825 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.826 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:05.826 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:05.826 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.869 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.870 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '172.24.4.5/32', 'scope', 'global', 'dev', 'qg-25a7b83f-37', 'brd', '172.24.4.5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.933 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'add', '172.24.4.5/32', 'scope', 'global', 'dev', u'qg-25a7b83f-37', 'brd', '172.24.4.5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:05.933 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip af0fa75f-24ee-43ea-a8ec-c742918b7187 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:36:05.934 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'af0fa75f-24ee-43ea-a8ec-c742918b7187': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:36:05.935 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 8d08d0a9d49d4901aca528ab93a89af8 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:05.936 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', 'qg-25a7b83f-37', '-c', '3', '-w', '4.5', '172.24.4.5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:05.954 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 8d08d0a9d49d4901aca528ab93a89af8[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:05.955 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:05.955 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:06.781 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:36:08.017 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'arping', '-A', '-I', u'qg-25a7b83f-37', '-c', 3, '-w', 4.5, u'172.24.4.5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:31.736 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: f3683baabf9e4e3989facf44c91fa7bd exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:34.735 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f484fd5f9b974f2d856755215ffbb3eb [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:34.737 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-99400d80-b03e-40b0-9a88-5cbe99af70fd [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:34.737 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:34.738 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1a209025cb5c4bfcaaef1637d82feab7 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:34.964 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1a209025cb5c4bfcaaef1637d82feab7[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:34.965 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:34.972 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:34.973 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:34.973 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:34.974 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.037 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.038 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:35.039 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:35.039 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.109 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.111 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:35.112 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.173 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.182 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.237 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.237 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.298 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.300 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:35.300 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:35.301 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.365 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.367 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.5/32 from interface qg-25a7b83f-37 in namespace qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:36:35.368 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'del', '172.24.4.5/32', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'del', u'172.24.4.5/32', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '172.24.4.5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '172.24.4.5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '172.24.4.5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:35.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '172.24.4.5']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:35.525 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'af0fa75f-24ee-43ea-a8ec-c742918b7187': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:36:35.527 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: b761037050ee488ebca2026ef5a0f883 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:35.549 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: b761037050ee488ebca2026ef5a0f883[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:35.550 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:35.550 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:37.840 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 8f7921519a4442b69dd1234e92186f97 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:37.843 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c040099d-21b9-4cf5-a945-f843ab9cf2fc [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:37.843 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:37.844 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 9455adaa48be4d3295f437a5e7091b05 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:38.114 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 9455adaa48be4d3295f437a5e7091b05[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:38.115 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:38.123 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.123 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:38.123 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:38.124 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.177 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.178 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:38.178 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:38.178 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.234 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:38.235 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.301 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.306 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.365 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.365 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.422 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:38.422 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:38.423 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.481 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.481 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.4/32 from interface qg-25a7b83f-37 in namespace qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:36:38.482 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'del', '172.24.4.4/32', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'del', u'172.24.4.4/32', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '172.24.4.4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.593 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '172.24.4.4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.593 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '172.24.4.4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:38.629 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '172.24.4.4']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:38.629 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9c9e17da-d5b3-4e04-bc37-d0069c9b3350': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:36:38.630 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 718efa2aef0043ad95ad4a08ceda7b35 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:38.646 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 718efa2aef0043ad95ad4a08ceda7b35[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:38.647 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:38.647 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:41.012 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9facac3a903c4d28890d5910f3e7f19f [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:41.014 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-acb0d667-b2da-42c7-bbf6-58dfe298d12b [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:41.015 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:41.016 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: a9610c04087347229cb36446a53b4594 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:41.243 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: a9610c04087347229cb36446a53b4594[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:41.244 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:41.253 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.254 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:41.254 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:41.255 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(3fe94adc-66ef-479b-ba43-736828551353) interface(qr-3fe94adc-66)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:36:41.256 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qr-3fe94adc-66'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qr-3fe94adc-66']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.310 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:41.319 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.320 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-3fe94adc-66'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.367 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-3fe94adc-66']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.368 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'8e6d6616-5999-4538-a1e4-cdeefddc64d9', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'3fe94adc-66ef-479b-ba43-736828551353', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:3f:c4:c4', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'8e6d6616-5999-4538-a1e4-cdeefddc64d9', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'67bc57ca-8e10-411f-904a-4e13edb04953', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'd98cde91-0e5b-4c83-b466-ec5f5f30aebe', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:36:41.369 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:36:41.370 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '20987'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.376 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 20987]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.377 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:36:41.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.408 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a21d551d84cf4ca89a47cc5c0d0fb86a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:41.411 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-594b9d97-b113-4fa6-a1ea-ccf08193d188 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:41.437 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.437 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:41.438 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:41.438 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.501 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.502 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:41.502 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.565 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.569 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.625 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.625 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.693 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.693 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:41.694 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:41.694 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:41.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:41.761 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:41.762 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:41.932 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 99b0867f06d741e3a3d0f68f717da905 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:41.934 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-f09db936-b1d7-4832-bfdb-b6c284a53292 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:41.934 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:41.935 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 2c1e96bf566147e4803283306707a413 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:42.159 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 2c1e96bf566147e4803283306707a413[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:42.160 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:42.168 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.169 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:42.170 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:42.170 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(c0586b5a-3648-42b9-88b0-701530122221) interface(qr-c0586b5a-36)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:36:42.171 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', 'qr-c0586b5a-36'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.201 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 02d4c81859d4476599e20759ec8f95f6 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:42.204 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-288d58aa-bfb4-4b39-a3f3-1d964a1d730a [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:42.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-o', 'link', 'show', u'qr-c0586b5a-36']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.234 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:42.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.242 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-c0586b5a-36'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.287 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-c0586b5a-36']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.287 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'd98cde91-0e5b-4c83-b466-ec5f5f30aebe', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'c0586b5a-3648-42b9-88b0-701530122221', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:a2:d9:48', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'd98cde91-0e5b-4c83-b466-ec5f5f30aebe', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'67bc57ca-8e10-411f-904a-4e13edb04953', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'8e6d6616-5999-4538-a1e4-cdeefddc64d9', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:36:42.288 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.342 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:42.342 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:42.342 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.405 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:42.406 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.465 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.468 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.598 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:42.598 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:42.599 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:42.645 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', 'addr', 'show', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.645 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:42.645 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:42.801 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e338ea17473c412d8e91c74add3fa7bf [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:42.802 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c5e8c30a-8a7f-46cb-8222-f0682dbd1d96 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:42.804 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:42.805 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: dc210eb8dc5342cda0e8f0228e35ba58 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:42.966 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: dc210eb8dc5342cda0e8f0228e35ba58[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:42.966 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:42.973 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:42.974 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:42.974 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:42.974 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.025 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a105222620d24cb6bf11e908fa9bcc3a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:43.029 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-ab04a9b8-4ec0-4978-a51d-a33ea4d913ef [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:36:43.037 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.037 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:43.038 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:43.038 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.3'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::4'}], u'id': u'25a7b83f-37e5-4889-aba6-4de2f7b31f62', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:61:df:67', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-25a7b83f-37)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:36:43.038 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'del', '172.24.4.3/24', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.093 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-4', 'addr', 'del', '172.24.4.3/24', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.094 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '172.24.4.3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.149 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '172.24.4.3']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.149 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '172.24.4.3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '172.24.4.3']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.206 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'addr', 'del', '2001:db8::4/64', 'dev', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip', '-6', 'addr', 'del', '2001:db8::4/64', 'dev', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '2001:db8::4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-d', '2001:db8::4']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '2001:db8::4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.390 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'conntrack', '-D', '-q', '2001:db8::4']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.391 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:43.400 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.401 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-25a7b83f-37'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.440 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-25a7b83f-37']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.441 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:43.442 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:43.442 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.506 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:43.507 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.561 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.565 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.679 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 14 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:43.679 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:43.680 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:43.681 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:43.681 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2, action 1, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:43.682 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:43.682 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:36:43.684 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:43.685 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.740 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.810 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.811 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:43.812 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:43.813 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '20796'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.820 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 20796]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.820 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:43.821 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.881 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.882 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:43.882 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:43.882 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.929 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.929 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:43.930 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:43.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:43.995 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:44.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:44.058 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 0 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:44.058 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:44.059 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:36:44.059 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:36:44.059 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/0b9007e3-d3f9-40f5-a927-6b493a6ce2f2.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:36:44.060 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:36:44.060 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:36:44.061 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:44.113 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:44.113 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:44.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-0b9007e3-d3f9-40f5-a927-6b493a6ce2f2']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:44.137 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:44.137 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:36:44.138 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:44.138 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:44.138 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 0b9007e3-d3f9-40f5-a927-6b493a6ce2f2[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:36:45.897 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: d9d1c840ded1402993199a739b72784b [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:45.899 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:46.313 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 96f4603b797945ae950247f1711e2eb4 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:46.315 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-cca8a7e9-04b8-4774-b598-aceebad91cc4 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:46.316 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:46.318 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 95f70cff778f4c47acc6f14584ea395b exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:46.718 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 95f70cff778f4c47acc6f14584ea395b[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:46.719 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:46.728 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:46.730 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:46.730 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:36:46.731 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:46.732 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:46.732 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:46.741 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:46.742 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:46.751 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:46.752 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:46.783 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:36:46.813 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 4575d17f19844b08b3cc3a24e192c00a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:46.816 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-71ab07ad-3517-4fbb-a9ce-a74f41bf2b3f [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:46.818 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:46.819 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:46.881 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:46.882 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:46.957 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:46.957 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.005 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:47.006 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.058 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:47.059 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:47.059 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.6'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::7'}], u'id': u'1873a5b2-f306-4e0c-84a4-c110bd01e698', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:91:3c:05', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'efeef80e-ace8-4c7f-9e01-db641a047c69', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-1873a5b2-f3), ns(qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:36:47.060 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.121 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qg-1873a5b2-f3']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.121 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:47.131 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.133 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-1873a5b2-f3', '--', 'add-port', 'br-ex', 'qg-1873a5b2-f3', '--', 'set', 'Interface', 'qg-1873a5b2-f3', 'type=internal', 'external_ids:iface-id=1873a5b2-f306-4e0c-84a4-c110bd01e698', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:91:3c:05'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.153 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-1873a5b2-f3', '--', 'add-port', 'br-ex', u'qg-1873a5b2-f3', '--', 'set', 'Interface', u'qg-1873a5b2-f3', 'type=internal', u'external_ids:iface-id=1873a5b2-f306-4e0c-84a4-c110bd01e698', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:91:3c:05']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.154 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.163 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.163 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-1873a5b2-f3', 'address', 'fa:16:3e:91:3c:05'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.167 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-1873a5b2-f3', 'address', u'fa:16:3e:91:3c:05']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.167 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.173 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.174 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-1873a5b2-f3', 'netns', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.209 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-1873a5b2-f3', 'netns', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.210 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', 'qg-1873a5b2-f3', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.281 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', u'qg-1873a5b2-f3', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.282 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-1873a5b2-f3), namespace(qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:36:47.282 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.406 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '172.24.4.6/24', 'scope', 'global', 'dev', 'qg-1873a5b2-f3', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.470 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9c3e800ac7e148488af2734a10b90171 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:47.472 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:47.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '172.24.4.6/24', 'scope', 'global', 'dev', u'qg-1873a5b2-f3', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'addr', 'add', '2001:db8::7/64', 'scope', 'global', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.549 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'addr', 'add', '2001:db8::7/64', 'scope', 'global', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.549 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.598 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', 'qg-1873a5b2-f3', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.745 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', u'qg-1873a5b2-f3', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.745 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', 'qg-1873a5b2-f3', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.747 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a11e554b9c2f4d19979f0359fd43b7f8 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:47.749 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-acdf9765-f44c-482b-9e52-5e42f9facccc [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:47.821 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', u'qg-1873a5b2-f3', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.822 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:47.822 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:47.822 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.823 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', 'qg-1873a5b2-f3', '-c', '3', '-w', '4.5', '172.24.4.6'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.893 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:47.894 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:47.969 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:47.972 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:48.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:48.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:48.091 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:48.093 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:48.157 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:48.158 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:48.159 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:48.159 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:48.229 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:48.231 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:48.231 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:36:48.231 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:48.232 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:48.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:48.300 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:48.357 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:48.357 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:48.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:48.406 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:48.406 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:48.407 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:36:48.407 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=efeef80e-ace8-4c7f-9e01-db641a047c69', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.127 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=efeef80e-ace8-4c7f-9e01-db641a047c69', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.128 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:49.129 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:49.129 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 922c309175514622b59dfae68bbc2657 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:49.615 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 789c4f1fab5142f8942c480b69227a40 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:49.616 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6b08eef7-56d8-4bb6-83ef-4c79dfd4cba5 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:49.652 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 922c309175514622b59dfae68bbc2657[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:49.653 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:49.659 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.660 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:49.660 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:49.661 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(7b7b886b-62a1-4c79-b549-ea138e941365)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:36:49.661 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qr-7b7b886b-62'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.743 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qr-7b7b886b-62']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.744 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:49.750 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.752 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-7b7b886b-62', '--', 'add-port', 'br-int', 'qr-7b7b886b-62', '--', 'set', 'Interface', 'qr-7b7b886b-62', 'type=internal', 'external_ids:iface-id=7b7b886b-62a1-4c79-b549-ea138e941365', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:18:82:be'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.775 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-7b7b886b-62', '--', 'add-port', 'br-int', u'qr-7b7b886b-62', '--', 'set', 'Interface', u'qr-7b7b886b-62', 'type=internal', u'external_ids:iface-id=7b7b886b-62a1-4c79-b549-ea138e941365', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:18:82:be']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.776 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-7b7b886b-62'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.783 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-7b7b886b-62']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.785 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-7b7b886b-62', 'address', 'fa:16:3e:18:82:be'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.792 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-7b7b886b-62', 'address', u'fa:16:3e:18:82:be']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.792 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.799 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.799 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-7b7b886b-62', 'netns', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.844 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-7b7b886b-62', 'netns', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.844 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', 'qr-7b7b886b-62', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.909 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', u'qr-7b7b886b-62', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.910 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-7b7b886b-62), namespace(qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:36:49.910 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qr-7b7b886b-62'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:49.925 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', u'qg-1873a5b2-f3', '-c', 3, '-w', 4.5, u'172.24.4.6']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.968 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qr-7b7b886b-62']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:49.969 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qr-7b7b886b-62', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.021 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 90550a22d6074713a74ad4837aa55984 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:50.022 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-fe7207de-ac43-474c-8c82-538f182cb0ce [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:50.038 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qr-7b7b886b-62', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.038 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-7b7b886b-62', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.085 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-7b7b886b-62', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.086 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', 'qr-7b7b886b-62', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', u'qr-7b7b886b-62', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', 'qr-7b7b886b-62', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.197 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', u'qr-7b7b886b-62', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.197 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'9da15990-9daa-4097-8dec-b966a303d779', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'7b7b886b-62a1-4c79-b549-ea138e941365', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:18:82:be', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'9da15990-9daa-4097-8dec-b966a303d779', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'efeef80e-ace8-4c7f-9e01-db641a047c69', u'name': u'', u'admin_state_up': True, u'network_id': u'71281a50-4082-4185-a40e-33ff443782a7', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:36:50.198 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(b3428ae0-f50c-4751-bee8-7e08fe50f7a9)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:36:50.198 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qr-b3428ae0-f5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.199 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', 'qr-7b7b886b-62', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qr-b3428ae0-f5']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:50.285 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.286 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-b3428ae0-f5', '--', 'add-port', 'br-int', 'qr-b3428ae0-f5', '--', 'set', 'Interface', 'qr-b3428ae0-f5', 'type=internal', 'external_ids:iface-id=b3428ae0-f50c-4751-bee8-7e08fe50f7a9', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:66:42:93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-b3428ae0-f5', '--', 'add-port', 'br-int', u'qr-b3428ae0-f5', '--', 'set', 'Interface', u'qr-b3428ae0-f5', 'type=internal', u'external_ids:iface-id=b3428ae0-f50c-4751-bee8-7e08fe50f7a9', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:66:42:93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.310 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-b3428ae0-f5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.317 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-b3428ae0-f5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.317 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-b3428ae0-f5', 'address', 'fa:16:3e:66:42:93'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.325 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-b3428ae0-f5', 'address', u'fa:16:3e:66:42:93']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.325 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.330 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.330 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-b3428ae0-f5', 'netns', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.367 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-b3428ae0-f5', 'netns', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.367 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', 'qr-b3428ae0-f5', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'link', 'set', u'qr-b3428ae0-f5', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.421 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-b3428ae0-f5), namespace(qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:36:50.422 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qr-b3428ae0-f5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qr-b3428ae0-f5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qr-b3428ae0-f5', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.544 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qr-b3428ae0-f5', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-b3428ae0-f5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.605 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-b3428ae0-f5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.607 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', 'qr-b3428ae0-f5', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.669 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', u'qr-b3428ae0-f5', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.670 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', 'qr-b3428ae0-f5', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.725 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', u'qr-b3428ae0-f5', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.725 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'5023580e-fa9d-4a24-82dc-51deafdf924a', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'b3428ae0-f50c-4751-bee8-7e08fe50f7a9', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:66:42:93', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'5023580e-fa9d-4a24-82dc-51deafdf924a', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'efeef80e-ace8-4c7f-9e01-db641a047c69', u'name': u'', u'admin_state_up': True, u'network_id': u'8a01296c-226e-47e6-8aae-8b0668370656', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:36:50.726 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:36:50.726 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:36:50.727 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:36:50.728 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'radvd', '-C', '/opt/stack/data/neutron/ra/efeef80e-ace8-4c7f-9e01-db641a047c69.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.768 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'radvd', '-C', u'/opt/stack/data/neutron/ra/efeef80e-ace8-4c7f-9e01-db641a047c69.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.768 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:36:50.768 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.829 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:50.830 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:50.830 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.6'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::7'}], u'id': u'1873a5b2-f306-4e0c-84a4-c110bd01e698', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:91:3c:05', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'efeef80e-ace8-4c7f-9e01-db641a047c69', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-1873a5b2-f3), ns(qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:36:50.830 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.886 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-1873a5b2-f3 already exists[00m
2016-01-27 20:36:50.886 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-1873a5b2-f3), namespace(qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:36:50.887 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:50.945 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:50.945 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.006 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.065 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.065 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.100 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.102 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', 'qg-1873a5b2-f3', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'route', 'list', 'dev', u'qg-1873a5b2-f3', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', 'qg-1873a5b2-f3', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.193 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'route', 'list', 'dev', u'qg-1873a5b2-f3', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.194 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.195 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', 'qg-1873a5b2-f3', '-c', '3', '-w', '4.5', '172.24.4.6'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.261 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.262 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:51.262 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.333 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.389 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.389 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.444 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:51.445 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:51.445 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:51.517 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:51.518 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:51.518 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:52.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', u'qr-7b7b886b-62', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.277 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', u'qg-1873a5b2-f3', '-c', 3, '-w', 4.5, u'172.24.4.6']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.303 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a75da14427974c19860b6931afb2ee27 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:36:53.305 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-5b5767c1-05fd-4ce7-a3e8-5f3ba6f81eaf [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:36:53.306 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:36:53.306 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 5f188646461b4c68a4150ea18637db61 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:53.589 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 5f188646461b4c68a4150ea18637db61[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:53.590 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:36:53.596 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.597 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:53.598 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:36:53.598 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:53.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.657 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:36:53.658 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:36:53.658 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:53.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.713 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:36:53.714 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:53.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.774 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:53.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:53.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.886 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:36:53.886 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:36:53.887 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:53.937 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:53.937 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '172.24.4.7/32', 'scope', 'global', 'dev', 'qg-1873a5b2-f3', 'brd', '172.24.4.7'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:54.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '172.24.4.7/32', 'scope', 'global', 'dev', u'qg-1873a5b2-f3', 'brd', '172.24.4.7']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:36:54.005 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 23117cac-1f1f-481c-b604-0e243ff240d1 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:36:54.006 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'23117cac-1f1f-481c-b604-0e243ff240d1': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:36:54.006 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: ad180b7f80094c6bbc5bc02e481e77f2 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:36:54.007 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', 'qg-1873a5b2-f3', '-c', '3', '-w', '4.5', '172.24.4.7'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:36:54.025 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: ad180b7f80094c6bbc5bc02e481e77f2[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:36:54.026 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:36:54.026 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:36:56.045 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', u'qg-1873a5b2-f3', '-c', 3, '-w', 4.5, u'172.24.4.7']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:01.545 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:37:01.547 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:37:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:37:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:37:01.740 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 170efe982b4e41728684e55f7e30db3c exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:37:21.517 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 15a31dd7562f4cf3946f24bd206927cc [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:37:21.519 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-e6cfc97d-688f-4dae-b670-e1109515aa25 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:37:22.098 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 64cf2f9b3ed545cfbce23af9c34815c1 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:37:22.099 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-9b9adb13-8799-4f9b-acf9-759541c1ba1e [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:37:25.230 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: bfde40e040d6466394888b999c31959b [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:37:25.231 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-79b71bfd-6c03-4ff0-a263-8d0aff8456ce [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:37:25.232 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:37:25.233 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: e8fdfc2495bb41fb96efa13cfab567c4 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:37:25.475 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: e8fdfc2495bb41fb96efa13cfab567c4[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:37:25.475 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:37:25.483 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.484 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:37:25.484 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:37:25.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.544 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.545 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:37:25.545 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:37:25.546 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.601 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.601 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:37:25.602 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.666 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.721 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.721 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.774 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:37:25.774 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:37:25.774 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.813 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.814 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '172.24.4.8/32', 'scope', 'global', 'dev', 'qg-1873a5b2-f3', 'brd', '172.24.4.8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.849 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'add', '172.24.4.8/32', 'scope', 'global', 'dev', u'qg-1873a5b2-f3', 'brd', '172.24.4.8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:25.849 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 539db075-5c64-4725-96ff-69d28c6423ad added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:37:25.850 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'539db075-5c64-4725-96ff-69d28c6423ad': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:37:25.851 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1db8270a1e89489a97fce38ca435291a exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:37:25.851 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', 'qg-1873a5b2-f3', '-c', '3', '-w', '4.5', '172.24.4.8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:25.869 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1db8270a1e89489a97fce38ca435291a[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:37:25.870 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:37:25.870 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:37:26.784 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:37:27.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'arping', '-A', '-I', u'qg-1873a5b2-f3', '-c', 3, '-w', 4.5, u'172.24.4.8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:31.745 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 6d9a0f837bcf4b7eb4201afebfb987fd exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:37:56.918 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f216a2ee9ca749a987d7fda229259bf3 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:37:56.920 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-a423742f-62f8-493e-a591-d27caba83b0e [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:37:56.921 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:37:56.922 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: f8b7062f9f614e6b949f537c5ed97aeb exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:37:57.157 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: f8b7062f9f614e6b949f537c5ed97aeb[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:37:57.158 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:37:57.166 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.167 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:37:57.167 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:37:57.168 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.242 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:37:57.242 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:37:57.243 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.310 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:37:57.310 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.365 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.498 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.499 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:37:57.499 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:37:57.500 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.554 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.8/32 from interface qg-1873a5b2-f3 in namespace qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:37:57.555 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'del', '172.24.4.8/32', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.609 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'del', u'172.24.4.8/32', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.609 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '172.24.4.8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '172.24.4.8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '172.24.4.8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:37:57.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '172.24.4.8']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:37:57.705 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'539db075-5c64-4725-96ff-69d28c6423ad': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:37:57.706 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 9efb51e9ace548898063612d65c98570 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:37:57.722 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 9efb51e9ace548898063612d65c98570[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:37:57.722 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:37:57.723 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:00.072 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 0ca698fb3d374df3983e17b3ac924e12 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:00.074 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-34dfbb49-22da-47c0-87ec-96c098794526 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:00.075 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:00.075 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: f2953157a1b2478dbea104a8b7ce79f0 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:00.381 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: f2953157a1b2478dbea104a8b7ce79f0[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:00.382 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:00.391 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.392 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:00.393 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:00.393 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.445 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.446 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:00.446 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:00.447 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.506 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:00.507 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.577 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.586 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.717 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.718 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:00.718 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:00.719 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.754 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.7/32 from interface qg-1873a5b2-f3 in namespace qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:38:00.754 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'del', '172.24.4.7/32', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.809 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'del', u'172.24.4.7/32', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.810 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '172.24.4.7'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.861 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '172.24.4.7']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.861 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '172.24.4.7'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:00.901 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '172.24.4.7']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:00.901 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'23117cac-1f1f-481c-b604-0e243ff240d1': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:38:00.902 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: eaf20b5c16424e5f842556fc56ba1a7f exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:00.919 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: eaf20b5c16424e5f842556fc56ba1a7f[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:00.920 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:00.920 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:01.545 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:01.547 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:01.748 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 9136a66578f0448f86ffbb146d9b28ff exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:03.507 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f12321b488784a6b99ddcc93d76806f3 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:03.509 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-9d84d5a7-320d-4398-bcea-cf61fd6b79f6 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:03.510 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:03.511 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 332cd1482e4e4d33a36b8758729a1988 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:03.702 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 332cd1482e4e4d33a36b8758729a1988[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:03.704 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:03.712 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:03.714 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:03.714 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:03.714 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(b3428ae0-f50c-4751-bee8-7e08fe50f7a9) interface(qr-b3428ae0-f5)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:38:03.715 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qr-b3428ae0-f5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:03.746 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 6d7adeadaa714b9f978327405af7833c [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:03.750 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-1e7d1d08-5412-4a04-b6a7-5d2babe03c4c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:03.777 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qr-b3428ae0-f5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:03.778 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:03.785 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:03.786 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-b3428ae0-f5'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:03.839 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-b3428ae0-f5']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:03.840 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'5023580e-fa9d-4a24-82dc-51deafdf924a', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'b3428ae0-f50c-4751-bee8-7e08fe50f7a9', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:66:42:93', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'5023580e-fa9d-4a24-82dc-51deafdf924a', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'efeef80e-ace8-4c7f-9e01-db641a047c69', u'name': u'', u'admin_state_up': True, u'network_id': u'8a01296c-226e-47e6-8aae-8b0668370656', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:38:03.840 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:38:03.841 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '21941'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:03.847 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 21941]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:03.849 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:38:03.849 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:03.924 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:03.925 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:03.925 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:03.926 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:03.981 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:03.982 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:03.982 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.049 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.053 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.181 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.182 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:04.182 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:04.182 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.242 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:04.242 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:04.275 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ca2abe85ba80445098e5ddaa553ec57a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:04.277 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-5dbce828-6769-4695-b8d5-0e11b8fb98be [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:04.277 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:04.278 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1ec68bd148ae415b86cdae50c53f8731 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:04.470 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1ec68bd148ae415b86cdae50c53f8731[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:04.471 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:04.478 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.479 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:04.479 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:04.479 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(7b7b886b-62a1-4c79-b549-ea138e941365) interface(qr-7b7b886b-62)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:38:04.480 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', 'qr-7b7b886b-62'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-o', 'link', 'show', u'qr-7b7b886b-62']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:04.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-7b7b886b-62'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.599 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-7b7b886b-62']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.600 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'9da15990-9daa-4097-8dec-b966a303d779', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'7b7b886b-62a1-4c79-b549-ea138e941365', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:18:82:be', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'9da15990-9daa-4097-8dec-b966a303d779', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'efeef80e-ace8-4c7f-9e01-db641a047c69', u'name': u'', u'admin_state_up': True, u'network_id': u'71281a50-4082-4185-a40e-33ff443782a7', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:38:04.600 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.602 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: aa872843c01c4033aa16a8506d4bb138 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:04.604 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-80d9e936-67d2-4b3e-bc3c-1da4e759ddfe [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:04.653 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.653 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:04.654 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:04.654 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.717 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.718 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:04.718 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.765 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.770 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.895 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:04.895 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:04.896 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:04.957 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', 'addr', 'show', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:04.958 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:04.958 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:05.171 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: c97c057958e3457fbc734e5509a783b5 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:05.174 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-f7d5eff9-42a1-497f-8f48-4d28988dc619 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:05.175 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:05.176 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1fc0408205144f7cb5fa1bbe21a9df00 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:05.352 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1fc0408205144f7cb5fa1bbe21a9df00[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:05.353 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:05.360 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.362 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:05.362 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:05.363 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.371 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ea8a5bd6b99949c7ba667ecf583394f1 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:05.373 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-bb248123-658d-4af1-804c-fbd5714dee94 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:38:05.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.426 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:05.427 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:05.427 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.6'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::7'}], u'id': u'1873a5b2-f306-4e0c-84a4-c110bd01e698', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:91:3c:05', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'efeef80e-ace8-4c7f-9e01-db641a047c69', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-1873a5b2-f3)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:38:05.428 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'del', '172.24.4.6/24', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-4', 'addr', 'del', '172.24.4.6/24', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.490 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '172.24.4.6'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '172.24.4.6']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.554 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '172.24.4.6'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '172.24.4.6']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'addr', 'del', '2001:db8::7/64', 'dev', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip', '-6', 'addr', 'del', '2001:db8::7/64', 'dev', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '2001:db8::7'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.741 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-d', '2001:db8::7']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.741 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '2001:db8::7'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.805 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'conntrack', '-D', '-q', '2001:db8::7']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.805 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:05.813 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.814 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-1873a5b2-f3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.858 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-1873a5b2-f3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.859 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:05.860 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:05.860 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:05.925 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:05.926 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:05.926 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.001 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.008 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.065 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.065 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.121 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.123 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 14 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:06.124 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:06.125 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:06.125 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:06.126 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for efeef80e-ace8-4c7f-9e01-db641a047c69, action 1, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:06.126 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:06.126 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:38:06.127 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:06.128 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.193 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.197 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.277 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.279 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:06.279 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:06.280 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '21758'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.285 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 21758]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.285 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:06.286 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.345 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.346 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:06.347 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:06.347 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.421 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:06.422 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.491 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.549 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.550 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 0 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:06.550 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:06.550 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:38:06.551 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:38:06.551 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/efeef80e-ace8-4c7f-9e01-db641a047c69.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:38:06.552 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:38:06.552 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:38:06.552 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.596 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:06.629 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-efeef80e-ace8-4c7f-9e01-db641a047c69']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:06.629 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:06.629 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:38:06.630 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:06.630 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:06.630 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for efeef80e-ace8-4c7f-9e01-db641a047c69[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:38:06.785 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:38:08.531 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 28c481adec244997adcd9ca14b41cdc6 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:08.533 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:08.951 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e87f2853dbcb4c20893a0f5e4ff69a5d [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:08.953 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-d27f0d6c-898f-4c97-944f-7bd662331231 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:08.953 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:08.954 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 267ccaf670fb44a68613c2ae93424768 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:09.397 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 267ccaf670fb44a68613c2ae93424768[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:09.398 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:09.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.407 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:09.407 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:38:09.408 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:09.409 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.002s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:09.410 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.422 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.423 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 918f2a136d634547bbd5747338eaa102 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:09.425 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-a16c0b40-78a6-45bc-b842-4329952f0509 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:09.427 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.427 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.493 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.494 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.549 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.549 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.665 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.666 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:09.667 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.729 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.729 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:09.730 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:09.730 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.9'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::a'}], u'id': u'7f4cf34c-279b-429c-bb57-a714f8880af8', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:ae:5f:d3', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-7f4cf34c-27), ns(qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:38:09.731 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.789 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qg-7f4cf34c-27']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.789 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:09.798 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.799 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-7f4cf34c-27', '--', 'add-port', 'br-ex', 'qg-7f4cf34c-27', '--', 'set', 'Interface', 'qg-7f4cf34c-27', 'type=internal', 'external_ids:iface-id=7f4cf34c-279b-429c-bb57-a714f8880af8', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:ae:5f:d3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.816 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-7f4cf34c-27', '--', 'add-port', 'br-ex', u'qg-7f4cf34c-27', '--', 'set', 'Interface', u'qg-7f4cf34c-27', 'type=internal', u'external_ids:iface-id=7f4cf34c-279b-429c-bb57-a714f8880af8', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:ae:5f:d3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.817 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.826 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.827 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-7f4cf34c-27', 'address', 'fa:16:3e:ae:5f:d3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-7f4cf34c-27', 'address', u'fa:16:3e:ae:5f:d3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.835 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.839 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.840 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-7f4cf34c-27', 'netns', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.878 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-7f4cf34c-27', 'netns', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.879 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', 'qg-7f4cf34c-27', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:09.961 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', u'qg-7f4cf34c-27', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:09.962 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-7f4cf34c-27), namespace(qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:38:09.962 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.001 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.002 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.048 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 3874192c53454e12ab549eee2f926845 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:10.050 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:10.065 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.066 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '172.24.4.9/24', 'scope', 'global', 'dev', 'qg-7f4cf34c-27', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.133 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '172.24.4.9/24', 'scope', 'global', 'dev', u'qg-7f4cf34c-27', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.134 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'add', '2001:db8::a/64', 'scope', 'global', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'add', '2001:db8::a/64', 'scope', 'global', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.311 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 72a34fa86eda4d26ba61b55581e2896f [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:10.313 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-0d8e697e-3ac9-4df7-9888-a2e3fd8ab279 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:10.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', 'qg-7f4cf34c-27', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', u'qg-7f4cf34c-27', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', 'qg-7f4cf34c-27', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.497 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', u'qg-7f4cf34c-27', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.498 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:10.498 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:10.499 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.499 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', 'qg-7f4cf34c-27', '-c', '3', '-w', '4.5', '172.24.4.9'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.568 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.569 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:10.569 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.637 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.639 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.706 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.765 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.766 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.821 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.821 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:10.822 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:10.822 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.873 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.874 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:10.874 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:38:10.874 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:10.875 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:10.937 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:10.941 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:11.013 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:11.014 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:11.077 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:11.079 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:11.079 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:11.080 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:38:11.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:11.291 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 099f2d3424cb413481453c71b0c42002 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:11.293 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-7e3fb939-6069-4196-940e-b9a7a72bc47f [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:11.842 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:11.842 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:11.842 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:11.843 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 3db422cec7d04f989f40e9f21ac5ffdd exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:12.368 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 3db422cec7d04f989f40e9f21ac5ffdd[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:12.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:12.376 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.377 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:12.377 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:12.378 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(3e068c87-1428-415b-8acf-195b8b4f856e)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:38:12.379 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qr-3e068c87-14']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.442 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:12.448 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.450 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-3e068c87-14', '--', 'add-port', 'br-int', 'qr-3e068c87-14', '--', 'set', 'Interface', 'qr-3e068c87-14', 'type=internal', 'external_ids:iface-id=3e068c87-1428-415b-8acf-195b8b4f856e', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:d4:6a:a4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-3e068c87-14', '--', 'add-port', 'br-int', u'qr-3e068c87-14', '--', 'set', 'Interface', u'qr-3e068c87-14', 'type=internal', u'external_ids:iface-id=3e068c87-1428-415b-8acf-195b8b4f856e', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:d4:6a:a4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.470 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.479 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.479 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-3e068c87-14', 'address', 'fa:16:3e:d4:6a:a4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.486 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-3e068c87-14', 'address', u'fa:16:3e:d4:6a:a4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.486 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.493 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.494 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-3e068c87-14', 'netns', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.538 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-3e068c87-14', 'netns', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.539 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', 'qr-3e068c87-14', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', u'qg-7f4cf34c-27', '-c', 3, '-w', 4.5, u'172.24.4.9']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.604 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', u'qr-3e068c87-14', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.605 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-3e068c87-14), namespace(qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:38:12.606 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.669 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.670 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qr-3e068c87-14', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qr-3e068c87-14', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.738 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.781 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.782 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.841 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.842 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', 'qr-3e068c87-14', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.909 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', u'qr-3e068c87-14', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.909 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', 'qr-3e068c87-14', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:12.981 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', u'qr-3e068c87-14', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:12.982 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'64c67a15-0005-4c76-b73f-aaf04598a1ab', u'prefixlen': 64, u'ip_address': u'2003:0:0:1::1'}, {u'subnet_id': u'a5704284-5dc5-49cb-94b7-618a64e79835', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'3e068c87-1428-415b-8acf-195b8b4f856e', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:d4:6a:a4', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'64c67a15-0005-4c76-b73f-aaf04598a1ab', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'a5704284-5dc5-49cb-94b7-618a64e79835', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'85f35469-5f08-4480-ab9d-27a4fba482f5', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:38:12.982 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(f78bef77-4a26-4f7e-b1be-086e9b075dfc)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:38:12.982 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qr-f78bef77-4a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.053 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qr-f78bef77-4a']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.053 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:13.062 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.063 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-f78bef77-4a', '--', 'add-port', 'br-int', 'qr-f78bef77-4a', '--', 'set', 'Interface', 'qr-f78bef77-4a', 'type=internal', 'external_ids:iface-id=f78bef77-4a26-4f7e-b1be-086e9b075dfc', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:d4:c6:8d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.088 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-f78bef77-4a', '--', 'add-port', 'br-int', u'qr-f78bef77-4a', '--', 'set', 'Interface', u'qr-f78bef77-4a', 'type=internal', u'external_ids:iface-id=f78bef77-4a26-4f7e-b1be-086e9b075dfc', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:d4:c6:8d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.089 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-f78bef77-4a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-f78bef77-4a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-f78bef77-4a', 'address', 'fa:16:3e:d4:c6:8d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.109 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-f78bef77-4a', 'address', u'fa:16:3e:d4:c6:8d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.110 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.119 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.120 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-f78bef77-4a', 'netns', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.159 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-f78bef77-4a', 'netns', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.160 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', 'qr-f78bef77-4a', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.203 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 43b76cda4c9543039970eb81e5965ead [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:13.205 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-1cd051f4-b535-40a1-9f30-57414a12f680 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:13.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'link', 'set', u'qr-f78bef77-4a', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.225 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-f78bef77-4a), namespace(qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:38:13.226 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qr-f78bef77-4a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.301 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qr-f78bef77-4a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.302 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qr-f78bef77-4a', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.370 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qr-f78bef77-4a', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.370 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-f78bef77-4a', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.443 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-f78bef77-4a', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.443 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', 'qr-f78bef77-4a', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.504 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', u'qr-f78bef77-4a', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', 'qr-f78bef77-4a', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.573 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', u'qr-f78bef77-4a', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.573 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'e97b5a06-dcde-4db3-aa3c-453a62595331', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'f78bef77-4a26-4f7e-b1be-086e9b075dfc', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:d4:c6:8d', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'e97b5a06-dcde-4db3-aa3c-453a62595331', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'6a9c72dc-6a60-4c78-bcaf-6c08de616367', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:38:13.574 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:38:13.574 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:38:13.575 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:38:13.575 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'radvd', '-C', '/opt/stack/data/neutron/ra/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.576 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', 'qr-f78bef77-4a', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'radvd', '-C', u'/opt/stack/data/neutron/ra/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.618 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:38:13.618 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.673 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:13.674 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:13.674 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.9'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::a'}], u'id': u'7f4cf34c-279b-429c-bb57-a714f8880af8', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:ae:5f:d3', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-7f4cf34c-27), ns(qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:38:13.674 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.700 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: fd3d8236795a4431965ed9e86de8e89c [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:13.702 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-509fe467-d6bf-40a4-85c3-8e1109e85d13 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:13.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.738 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-7f4cf34c-27 already exists[00m
2016-01-27 20:38:13.738 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-7f4cf34c-27), namespace(qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:38:13.739 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.802 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.802 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.861 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.862 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:13.933 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:13.933 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.006 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', 'qg-7f4cf34c-27', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'route', 'list', 'dev', u'qg-7f4cf34c-27', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', 'qg-7f4cf34c-27', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.113 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'route', 'list', 'dev', u'qg-7f4cf34c-27', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.114 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.114 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', 'qg-7f4cf34c-27', '-c', '3', '-w', '4.5', '172.24.4.9'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.169 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.171 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:14.172 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.237 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.244 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.342 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:14.342 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:14.343 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:14.401 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:14.402 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:14.402 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:15.645 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', u'qr-f78bef77-4a', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:16.190 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', u'qg-7f4cf34c-27', '-c', 3, '-w', 4.5, u'172.24.4.9']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:16.829 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 1bbda6fa311c4e1d9fe4c20e4de420af [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:16.831 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-fb3ea73c-aaf6-482c-a748-24dbe783097d [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:16.831 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:16.832 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: f89a57326fdd47709cbb9d851cd978c9 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:17.065 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: f89a57326fdd47709cbb9d851cd978c9[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:17.066 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:17.074 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.074 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:17.075 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:17.075 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.124 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.125 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:17.126 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:17.126 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.169 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.169 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:17.170 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.210 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.245 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.245 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.289 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.290 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:17.290 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:17.290 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.333 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.333 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '172.24.4.10/32', 'scope', 'global', 'dev', 'qg-7f4cf34c-27', 'brd', '172.24.4.10'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '172.24.4.10/32', 'scope', 'global', 'dev', u'qg-7f4cf34c-27', 'brd', '172.24.4.10']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:17.369 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip cc883c2f-9d32-4477-8f8b-6c71ff876a16 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:38:17.369 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'cc883c2f-9d32-4477-8f8b-6c71ff876a16': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:38:17.370 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 0a0d4fe854aa4952885c0724b5a40061 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:17.371 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', 'qg-7f4cf34c-27', '-c', '3', '-w', '4.5', '172.24.4.10'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:17.387 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 0a0d4fe854aa4952885c0724b5a40061[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:17.388 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:17.388 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:19.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', u'qg-7f4cf34c-27', '-c', 3, '-w', 4.5, u'172.24.4.10']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:31.752 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 0dd89a19c16b42bc8de0ded2ce5dd19c exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:45.067 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: c6a7e4f97229428c9e63e4d4c1f9002a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:45.069 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-b1f1b277-1990-4811-903a-642c4a81b326 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:45.609 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 799d0088077d4e30a7a93833d343dc60 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:45.610 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-49b01668-5c87-43d8-8939-93837665c58e [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:46.786 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:38:48.752 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 402679e0ee5740a5bed4051d70bba280 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:38:48.754 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-1498a8eb-abde-4ec2-ac43-9e7a4c3b916f [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:38:48.754 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:38:48.755 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: ae00c27824994276bc3c3cede50c18f4 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:48.988 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: ae00c27824994276bc3c3cede50c18f4[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:48.989 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:38:48.999 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.000 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:49.000 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:38:49.001 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.053 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.054 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:38:49.054 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:38:49.054 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.092 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.093 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:38:49.094 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.145 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.266 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:38:49.267 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:38:49.267 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.314 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '172.24.4.11/32', 'scope', 'global', 'dev', 'qg-7f4cf34c-27', 'brd', '172.24.4.11'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.352 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'add', '172.24.4.11/32', 'scope', 'global', 'dev', u'qg-7f4cf34c-27', 'brd', '172.24.4.11']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:38:49.353 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip b3a48337-400b-4509-b725-f9f690496308 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:38:49.353 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'b3a48337-400b-4509-b725-f9f690496308': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:38:49.354 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: c61bcfbc059c4f7b97813a6688a15dbe exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:38:49.355 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', 'qg-7f4cf34c-27', '-c', '3', '-w', '4.5', '172.24.4.11'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:38:49.372 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: c61bcfbc059c4f7b97813a6688a15dbe[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:38:49.373 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:38:49.374 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:38:51.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'arping', '-A', '-I', u'qg-7f4cf34c-27', '-c', 3, '-w', 4.5, u'172.24.4.11']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:01.545 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:01.546 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:01.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:01.756 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 3a6fda66e4b0449f9840327d4c86cddf exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:26.788 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:39:31.759 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 742214a5d8bc45ec96ab84c6fcb5c98d exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:36.312 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 2b7ca52cbdf44ffc8a4cb6614f31ae9f [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:36.314 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-282c420e-0188-47f1-9792-73800f20b2c4 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:36.315 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:36.316 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: c86decaa65ea4285a3c0859b0b2cac2e exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:36.555 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: c86decaa65ea4285a3c0859b0b2cac2e[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:36.556 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:36.564 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.566 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:36.566 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:36.566 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:36.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.613 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:36.614 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:36.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:36.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.678 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:36.679 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:36.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:36.813 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.813 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:36.861 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.862 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:36.862 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:36.862 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:36.913 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.915 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.11/32 from interface qg-7f4cf34c-27 in namespace qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:39:36.915 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'del', '172.24.4.11/32', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:36.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'del', u'172.24.4.11/32', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:36.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '172.24.4.11'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:37.045 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '172.24.4.11']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:37.045 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '172.24.4.11'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:37.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '172.24.4.11']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:37.101 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'b3a48337-400b-4509-b725-f9f690496308': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:39:37.102 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: fe232e6fcb41417aa9830871d9060bb4 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:37.117 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: fe232e6fcb41417aa9830871d9060bb4[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:37.118 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:37.118 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:39.702 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 27ef74443b554712b81f15f1a7841200 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:39.705 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-e06b4e09-57d6-4d8a-84cc-a9f8a92e00b0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:39.706 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:39.707 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 46f8f1380b854ffeac59cca88d478948 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:39.929 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 46f8f1380b854ffeac59cca88d478948[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:39.930 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:39.938 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:39.939 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:39.939 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:39.939 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.013 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.014 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:40.014 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:40.015 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.058 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:40.058 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.102 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.109 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.185 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.186 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.242 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:40.242 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:40.243 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.305 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.306 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.10/32 from interface qg-7f4cf34c-27 in namespace qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:39:40.306 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'del', '172.24.4.10/32', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'del', u'172.24.4.10/32', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '172.24.4.10'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.417 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '172.24.4.10']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.417 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '172.24.4.10'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:40.465 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '172.24.4.10']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:40.465 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'cc883c2f-9d32-4477-8f8b-6c71ff876a16': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:39:40.466 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: e0af5f6680d3437bb8c2b517eb09a860 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:40.483 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: e0af5f6680d3437bb8c2b517eb09a860[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:40.484 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:40.484 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:43.186 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e471c1c446cc44adbfe96e5b12c8e063 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:43.189 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-4f53ac78-ea99-4161-8417-c7f5202eb97e [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:43.190 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:43.191 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: d1cb5c18b29942599578431eaff0dad8 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:43.461 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: d1cb5c18b29942599578431eaff0dad8[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:43.462 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:43.472 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 761d9b968de3462fa4d654efd3bba8ba [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:43.477 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-3440b5bc-47fc-40ee-a284-8ae40367b276 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:43.478 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.479 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:43.479 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:43.481 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mupdating internal network for port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'a5704284-5dc5-49cb-94b7-618a64e79835', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'3e068c87-1428-415b-8acf-195b8b4f856e', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:d4:6a:a4', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'a5704284-5dc5-49cb-94b7-618a64e79835', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'85f35469-5f08-4480-ab9d-27a4fba482f5', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'64c67a15-0005-4c76-b73f-aaf04598a1ab', u'subnetpool_id': None}]}[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:423[00m
2016-01-27 20:39:43.482 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.546 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qr-3e068c87-14', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qr-3e068c87-14', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'del', '2003:0:0:1::1/64', 'dev', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.669 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'del', u'2003:0:0:1::1/64', 'dev', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.670 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:39:43.670 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:39:43.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-HUP', '23047'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.679 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-HUP', 23047]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.681 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:39:43.681 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.758 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.758 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:43.759 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:43.759 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.817 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.817 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:43.818 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.878 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.883 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:43.945 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:43.945 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.006 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.007 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:44.007 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:44.008 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.036 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 7b266fc4fd07430aa8d9c71c8a15184c [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:44.040 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-95744ccf-bb49-430b-b260-d62b2adef84c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:44.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.082 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:44.083 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:44.083 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:44.084 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1a2eb8135d94400ab802e4a547c233ef exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:44.276 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 243fc78b2cc845adbb784aa4725519d3 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:44.278 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-fc44ee49-5ff1-4afc-8636-8193dd4998d0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:44.301 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1a2eb8135d94400ab802e4a547c233ef[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:44.302 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:44.310 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.311 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:44.311 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:44.312 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(3e068c87-1428-415b-8acf-195b8b4f856e) interface(qr-3e068c87-14)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:39:44.312 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.374 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.375 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:44.387 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.388 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-3e068c87-14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.427 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-3e068c87-14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.428 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'a5704284-5dc5-49cb-94b7-618a64e79835', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'3e068c87-1428-415b-8acf-195b8b4f856e', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:d4:6a:a4', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'a5704284-5dc5-49cb-94b7-618a64e79835', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'85f35469-5f08-4480-ab9d-27a4fba482f5', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'64c67a15-0005-4c76-b73f-aaf04598a1ab', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:39:44.428 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:39:44.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '23047'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.434 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 23047]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.436 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:39:44.436 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.493 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.494 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:44.494 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:44.494 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.561 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.561 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:44.562 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.637 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.641 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.765 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.767 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:44.767 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:44.767 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:44.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:44.831 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:44.831 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:44.889 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 0f8c322980854d74a8161189f5ba5200 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:44.892 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-ddb2bc2f-ef25-4164-a7be-1c7db20542fa [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:44.893 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:44.894 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: eae3cd3ed4b24113b3947f830532d438 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:45.080 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: eae3cd3ed4b24113b3947f830532d438[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:45.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:45.089 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.090 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:45.091 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:45.091 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(f78bef77-4a26-4f7e-b1be-086e9b075dfc) interface(qr-f78bef77-4a)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:39:45.091 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', 'qr-f78bef77-4a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.116 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e53fad62b3b4435c97efab6727f8488d [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:45.118 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-40734c3c-ad79-4554-8370-b2947f3bfc9c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:45.145 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-o', 'link', 'show', u'qr-f78bef77-4a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.146 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:45.153 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.154 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-f78bef77-4a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.220 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-f78bef77-4a']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.221 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'e97b5a06-dcde-4db3-aa3c-453a62595331', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'f78bef77-4a26-4f7e-b1be-086e9b075dfc', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:d4:c6:8d', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'e97b5a06-dcde-4db3-aa3c-453a62595331', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'6a9c72dc-6a60-4c78-bcaf-6c08de616367', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:39:45.221 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.277 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.278 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:45.278 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:45.278 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.349 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.350 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:45.350 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.493 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.494 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.569 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.570 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:45.570 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:45.570 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:45.621 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', 'addr', 'show', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.622 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:45.622 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:45.806 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 1d546cd1aae04c86b1f96fd5de73f614 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:45.809 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6f403f15-c24b-41b4-9270-e057850d4849 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:45.809 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:45.810 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 71ef591fcc4641168e484c8b404b8596 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:45.977 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 71ef591fcc4641168e484c8b404b8596[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:45.977 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:45.985 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:45.986 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:45.986 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:45.987 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.010 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 96bcfa3373ea40feb030e39d5a06c800 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:46.014 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-2144c377-5f36-409d-8753-d7c8c7d4c0f3 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:39:46.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.058 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:46.059 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:46.059 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.9'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::a'}], u'id': u'7f4cf34c-279b-429c-bb57-a714f8880af8', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:ae:5f:d3', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-7f4cf34c-27)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:39:46.059 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'del', '172.24.4.9/24', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.125 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-4', 'addr', 'del', '172.24.4.9/24', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.126 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '172.24.4.9'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.189 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '172.24.4.9']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.189 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '172.24.4.9'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.249 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '172.24.4.9']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.250 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'del', '2001:db8::a/64', 'dev', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip', '-6', 'addr', 'del', '2001:db8::a/64', 'dev', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '2001:db8::a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-d', '2001:db8::a']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '2001:db8::a'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.438 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'conntrack', '-D', '-q', '2001:db8::a']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.438 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:46.446 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.447 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-7f4cf34c-27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.491 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-7f4cf34c-27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.492 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:46.492 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:46.493 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.554 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.554 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:46.555 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.621 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.681 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.682 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.729 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.730 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 14 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:46.730 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:46.730 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:46.731 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:46.731 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb, action 1, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:46.731 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:46.731 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:39:46.732 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:46.732 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.797 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.799 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.853 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.853 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.901 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.902 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:46.902 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:46.903 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '22865'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.909 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 22865]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.909 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:46.910 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:46.973 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:46.973 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:46.974 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:46.974 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:47.037 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:47.038 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:47.039 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:47.093 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:47.098 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:47.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:47.166 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 0 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:47.166 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:47.167 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:39:47.167 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:39:47.168 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:39:47.168 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:39:47.169 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:39:47.169 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:47.221 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:47.222 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:47.245 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:47.246 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:47.246 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:39:47.246 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:47.247 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:47.247 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 86d6af42-8161-4ec0-ac9f-1e0dd7ca24eb[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:39:49.082 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 78f0b3a283b645aa8987dfab0f2eb706 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:49.084 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:49.586 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: bf47dfd316e64e5e8e1915eed5fdcb8e [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:49.588 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-124fbf4b-6420-4493-be13-0b7a08859704 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:49.589 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:49.590 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: c4c41f738c0548de918a00bda7b0b337 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:49.920 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: c4c41f738c0548de918a00bda7b0b337[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:49.921 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:49.928 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:49.930 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:49.930 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:39:49.931 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:49.931 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:49.931 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:49.938 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:49.939 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:49.945 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:49.946 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.013 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.013 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.058 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ca75151756a24cd78e3c07b6b032e208 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:50.061 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-4c76115e-5c44-4403-b6fd-6b2ed36cd8f2 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:50.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.185 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.185 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:50.186 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.241 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:50.242 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:50.242 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.12'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::d'}], u'id': u'453dd2eb-e8f7-4c01-a234-b3eb187be2db', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:68:f0:55', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-453dd2eb-e8), ns(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:39:50.243 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.306 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qg-453dd2eb-e8']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.307 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:50.318 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.320 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-453dd2eb-e8', '--', 'add-port', 'br-ex', 'qg-453dd2eb-e8', '--', 'set', 'Interface', 'qg-453dd2eb-e8', 'type=internal', 'external_ids:iface-id=453dd2eb-e8f7-4c01-a234-b3eb187be2db', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:68:f0:55'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.340 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-453dd2eb-e8', '--', 'add-port', 'br-ex', u'qg-453dd2eb-e8', '--', 'set', 'Interface', u'qg-453dd2eb-e8', 'type=internal', u'external_ids:iface-id=453dd2eb-e8f7-4c01-a234-b3eb187be2db', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:68:f0:55']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.349 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.350 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-453dd2eb-e8', 'address', 'fa:16:3e:68:f0:55'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.356 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-453dd2eb-e8', 'address', u'fa:16:3e:68:f0:55']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.356 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.362 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.363 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-453dd2eb-e8', 'netns', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.398 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-453dd2eb-e8', 'netns', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.398 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', 'qg-453dd2eb-e8', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.453 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', u'qg-453dd2eb-e8', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.454 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-453dd2eb-e8), namespace(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:39:50.454 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.517 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.518 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '172.24.4.12/24', 'scope', 'global', 'dev', 'qg-453dd2eb-e8', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.645 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '172.24.4.12/24', 'scope', 'global', 'dev', u'qg-453dd2eb-e8', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.646 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'add', '2001:db8::d/64', 'scope', 'global', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.710 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'add', '2001:db8::d/64', 'scope', 'global', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.710 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.732 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ebc16bc4936640c483f8fec3b8efaad5 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:50.735 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:50.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.836 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.838 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', 'qg-453dd2eb-e8', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.914 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', u'qg-453dd2eb-e8', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.915 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', 'qg-453dd2eb-e8', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.969 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', u'qg-453dd2eb-e8', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:50.969 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:50.970 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:50.970 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.971 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', 'qg-453dd2eb-e8', '-c', '3', '-w', '4.5', '172.24.4.12'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:50.975 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ec6320fb364f481b829ec92d4747f224 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:50.976 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-4e529f9c-3ac2-4541-a2a6-5e5b5664a2fc [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:51.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.026 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:51.026 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.093 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.095 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.143 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.143 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.207 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.273 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:51.274 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:51.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.338 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:51.339 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:39:51.339 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:51.340 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.410 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.461 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.461 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.517 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:51.518 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:51.519 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:51.519 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:39:51.520 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=39778a3e-7bca-4e8d-a341-01a92a4372ff', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:51.854 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 999dab56d5dc4217b9ba4ed57dededea [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:51.856 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-00d8141e-71c0-4251-96f0-bbeefda16d2c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:52.180 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=39778a3e-7bca-4e8d-a341-01a92a4372ff', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.180 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:52.181 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:52.182 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 92dc726828e3423c9935f2362f4b30da exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:52.704 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 92dc726828e3423c9935f2362f4b30da[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:52.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:52.716 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.717 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:52.717 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:52.717 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(97ddc70d-7ea6-4c7b-aff2-e9e191c58055)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:39:52.718 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qr-97ddc70d-7e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:52.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qr-97ddc70d-7e']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:52.780 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.781 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-97ddc70d-7e', '--', 'add-port', 'br-int', 'qr-97ddc70d-7e', '--', 'set', 'Interface', 'qr-97ddc70d-7e', 'type=internal', 'external_ids:iface-id=97ddc70d-7ea6-4c7b-aff2-e9e191c58055', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:c3:ad:14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:52.807 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-97ddc70d-7e', '--', 'add-port', 'br-int', u'qr-97ddc70d-7e', '--', 'set', 'Interface', u'qr-97ddc70d-7e', 'type=internal', u'external_ids:iface-id=97ddc70d-7ea6-4c7b-aff2-e9e191c58055', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:c3:ad:14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.808 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-97ddc70d-7e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:52.818 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-97ddc70d-7e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.818 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-97ddc70d-7e', 'address', 'fa:16:3e:c3:ad:14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:52.827 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-97ddc70d-7e', 'address', u'fa:16:3e:c3:ad:14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.827 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:52.836 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.836 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-97ddc70d-7e', 'netns', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:52.873 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-97ddc70d-7e', 'netns', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.874 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', 'qr-97ddc70d-7e', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:52.965 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', u'qr-97ddc70d-7e', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:52.966 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-97ddc70d-7e), namespace(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:39:52.966 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qr-97ddc70d-7e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qr-97ddc70d-7e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qr-97ddc70d-7e', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.049 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', u'qg-453dd2eb-e8', '-c', 3, '-w', 4.5, u'172.24.4.12']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qr-97ddc70d-7e', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-97ddc70d-7e', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.173 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-97ddc70d-7e', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.174 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', 'qr-97ddc70d-7e', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.229 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', u'qr-97ddc70d-7e', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.229 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', 'qr-97ddc70d-7e', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.301 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', u'qr-97ddc70d-7e', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.302 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'271f6d38-30c6-4f47-82fd-52ffbe2f2a8e', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'97ddc70d-7ea6-4c7b-aff2-e9e191c58055', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:c3:ad:14', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'271f6d38-30c6-4f47-82fd-52ffbe2f2a8e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'bf68e2af-5e1f-4315-9c98-b0850c1ace8a', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:39:53.303 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(c1a7f9c5-734d-4083-98a1-fafe3e1949ce)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:39:53.303 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.305 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', 'qr-97ddc70d-7e', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qr-c1a7f9c5-73']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:53.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.378 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-c1a7f9c5-73', '--', 'add-port', 'br-int', 'qr-c1a7f9c5-73', '--', 'set', 'Interface', 'qr-c1a7f9c5-73', 'type=internal', 'external_ids:iface-id=c1a7f9c5-734d-4083-98a1-fafe3e1949ce', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:0b:b7:97'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.408 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-c1a7f9c5-73', '--', 'add-port', 'br-int', u'qr-c1a7f9c5-73', '--', 'set', 'Interface', u'qr-c1a7f9c5-73', 'type=internal', u'external_ids:iface-id=c1a7f9c5-734d-4083-98a1-fafe3e1949ce', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:0b:b7:97']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.409 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.417 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.418 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-c1a7f9c5-73', 'address', 'fa:16:3e:0b:b7:97'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.424 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-c1a7f9c5-73', 'address', u'fa:16:3e:0b:b7:97']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.432 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.432 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-c1a7f9c5-73', 'netns', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.474 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-c1a7f9c5-73', 'netns', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.474 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', 'qr-c1a7f9c5-73', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.549 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'link', 'set', u'qr-c1a7f9c5-73', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.550 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-c1a7f9c5-73), namespace(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:39:53.551 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qr-c1a7f9c5-73', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qr-c1a7f9c5-73', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.733 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.733 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.769 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 05beff3c0bff404fae13d26051feb036 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:53.773 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-51621cfa-f254-478b-8e46-46e667452813 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:53.805 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.806 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', 'qr-c1a7f9c5-73', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.881 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', u'qr-c1a7f9c5-73', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.881 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', 'qr-c1a7f9c5-73', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.933 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', u'qr-c1a7f9c5-73', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.933 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'100b7729-53ba-444a-a432-d0468587d789', u'prefixlen': 64, u'ip_address': u'2003:0:0:1::1'}, {u'subnet_id': u'8a0e3cdb-64ce-4166-bf56-3a8f6c0da7c9', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'c1a7f9c5-734d-4083-98a1-fafe3e1949ce', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:0b:b7:97', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'100b7729-53ba-444a-a432-d0468587d789', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'8a0e3cdb-64ce-4166-bf56-3a8f6c0da7c9', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'a397c09b-22ec-4b2f-9c84-b06dc80f890a', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:39:53.934 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:39:53.934 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:39:53.935 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:39:53.936 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'radvd', '-C', '/opt/stack/data/neutron/ra/39778a3e-7bca-4e8d-a341-01a92a4372ff.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:53.979 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'radvd', '-C', u'/opt/stack/data/neutron/ra/39778a3e-7bca-4e8d-a341-01a92a4372ff.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:53.980 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:39:53.980 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.041 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.041 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:54.042 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:54.042 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.12'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::d'}], u'id': u'453dd2eb-e8f7-4c01-a234-b3eb187be2db', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:68:f0:55', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-453dd2eb-e8), ns(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:39:54.042 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.105 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.105 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-453dd2eb-e8 already exists[00m
2016-01-27 20:39:54.106 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-453dd2eb-e8), namespace(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:39:54.106 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.161 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.161 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.217 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.217 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.261 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.262 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', 'qg-453dd2eb-e8', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.336 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 5b79893131ff4340882d9a88690db710 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:54.338 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-1d4e66f7-094b-4cc7-acb3-d2579ec16669 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:54.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', u'qg-453dd2eb-e8', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.374 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', 'qg-453dd2eb-e8', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.437 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', u'qg-453dd2eb-e8', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.437 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.438 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', 'qg-453dd2eb-e8', '-c', '3', '-w', '4.5', '172.24.4.12'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.490 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.491 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:54.491 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.549 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.552 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.605 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.605 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.670 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.671 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:54.672 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:54.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:54.741 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:54.742 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:54.742 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:39:55.397 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', u'qr-97ddc70d-7e', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:56.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', u'qg-453dd2eb-e8', '-c', 3, '-w', 4.5, u'172.24.4.12']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:57.535 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e6a7e1e1756d4ed8ba28f732c1f0d9b2 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:39:57.537 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-3d8102e8-7b7b-41c9-8106-9529b19ca81a [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:39:57.538 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:39:57.538 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: edc7df52e9a94510b12f34351245b948 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:57.755 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: edc7df52e9a94510b12f34351245b948[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:57.755 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:39:57.762 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:57.763 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:57.763 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:39:57.764 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:57.820 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:57.821 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:39:57.822 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:39:57.822 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:57.853 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:57.853 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:39:57.854 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:57.905 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:57.910 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:57.960 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:57.961 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:58.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:58.006 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:39:58.007 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:39:58.007 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:58.045 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:58.045 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '172.24.4.13/32', 'scope', 'global', 'dev', 'qg-453dd2eb-e8', 'brd', '172.24.4.13'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:58.088 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '172.24.4.13/32', 'scope', 'global', 'dev', u'qg-453dd2eb-e8', 'brd', '172.24.4.13']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:39:58.089 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip ce7f400c-581b-4542-9b53-883c51166b04 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:39:58.089 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'ce7f400c-581b-4542-9b53-883c51166b04': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:39:58.090 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 055ec70b81784163840272711b523301 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:39:58.091 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', 'qg-453dd2eb-e8', '-c', '3', '-w', '4.5', '172.24.4.13'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:39:58.108 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 055ec70b81784163840272711b523301[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:39:58.108 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:39:58.109 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:40:00.133 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', u'qg-453dd2eb-e8', '-c', 3, '-w', 4.5, u'172.24.4.13']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:01.546 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:40:01.547 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:40:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:40:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:40:01.762 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 7a09c59fbfa043719044cb30e75bce49 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:40:06.790 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:40:25.694 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 26f3d6f1a10f4004b20603187992c04a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:40:25.696 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-70c3bef6-54fa-400c-a0b8-9157b9fc71b5 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:40:26.174 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 1aef746c7097422baf8075c52e3b2775 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:40:26.175 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-e0ccfe73-bab3-4b12-a5c0-7c799d6b9445 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:40:29.210 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a16113ad32bf4f5cb120ea55dae0543e [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:40:29.212 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-840b1e73-d9b8-4198-91be-fdee7ba20355 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:40:29.213 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:40:29.213 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: f79adfe3a42a4520b95dd056f6adea79 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:40:29.520 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: f79adfe3a42a4520b95dd056f6adea79[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:40:29.520 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:40:29.531 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.532 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:40:29.533 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:40:29.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.573 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.573 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:40:29.574 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:40:29.575 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.612 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.614 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:40:29.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.649 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.658 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.693 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.693 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.754 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:40:29.754 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:40:29.755 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.793 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.794 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '172.24.4.14/32', 'scope', 'global', 'dev', 'qg-453dd2eb-e8', 'brd', '172.24.4.14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.845 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'add', '172.24.4.14/32', 'scope', 'global', 'dev', u'qg-453dd2eb-e8', 'brd', '172.24.4.14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:29.845 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip feecca4f-1f64-4b49-9260-321cb35ed4ef added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:40:29.846 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'feecca4f-1f64-4b49-9260-321cb35ed4ef': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:40:29.847 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 20d2e56f7f8447969ce924f445025cc6 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:40:29.848 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', 'qg-453dd2eb-e8', '-c', '3', '-w', '4.5', '172.24.4.14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:40:29.865 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 20d2e56f7f8447969ce924f445025cc6[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:40:29.866 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:40:29.866 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:40:31.766 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 448f11f6b20b49a68fb7d10f9d69ad3f exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:40:31.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', u'qg-453dd2eb-e8', '-c', 3, '-w', 4.5, u'172.24.4.14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:40:46.791 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:41:01.546 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:01.548 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:01.770 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 845c2e75678646ce95a6b9763d8b763e exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:04.153 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: b9b0dd482c1d4f2ca48d866b05fbb6fb [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:04.155 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-9b3efb01-608e-490f-be00-fd8ec8e2a650 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:04.155 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:04.156 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 32fe0b8f64ec43e7a2a6f818f8be4246 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:04.373 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 32fe0b8f64ec43e7a2a6f818f8be4246[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:04.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:04.383 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.384 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:04.385 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:04.386 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.437 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.438 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:04.438 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:04.438 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.504 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.505 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:04.506 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.573 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.585 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.653 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.654 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.717 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.718 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:04.718 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:04.719 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.789 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.789 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.14/32 from interface qg-453dd2eb-e8 in namespace qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:41:04.790 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'del', '172.24.4.14/32', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.857 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'del', u'172.24.4.14/32', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.858 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '172.24.4.14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.925 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '172.24.4.14']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.926 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '172.24.4.14'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:04.977 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '172.24.4.14']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:04.977 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'feecca4f-1f64-4b49-9260-321cb35ed4ef': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:41:04.978 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1e4b1fabe848400bb22be86cac00574b exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:04.995 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1e4b1fabe848400bb22be86cac00574b[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:04.996 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:04.996 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:07.513 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 6e98b6ff43414da884025e54f6caad6d [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:07.516 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c7059f09-955b-47f2-a90b-807df99e2755 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:07.517 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:07.518 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 70b2fd5078d64b628d8f87d852f0d938 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:07.739 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 70b2fd5078d64b628d8f87d852f0d938[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:07.740 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:07.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:07.754 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:07.755 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:07.755 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:07.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:07.830 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:07.830 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:07.830 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:07.897 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:07.898 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:07.899 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:07.957 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:07.966 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:08.041 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:08.041 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:08.113 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:08.114 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:08.115 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:08.115 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:08.177 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:08.178 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.13/32 from interface qg-453dd2eb-e8 in namespace qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:41:08.179 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'del', '172.24.4.13/32', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:08.213 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'del', u'172.24.4.13/32', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:08.214 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '172.24.4.13'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:08.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '172.24.4.13']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:08.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '172.24.4.13'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:08.305 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '172.24.4.13']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:08.305 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'ce7f400c-581b-4542-9b53-883c51166b04': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:41:08.306 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 42e24c0948004ad09cbe4c7078eaf514 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:08.323 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 42e24c0948004ad09cbe4c7078eaf514[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:08.324 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:08.324 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:10.972 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 4a7c9276ee2249c9aaf682beb00c2398 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:10.975 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-8b1971b1-e5d1-4327-beb0-b58c6614ed27 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:10.977 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:10.978 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 8049af50519546029ba0071b72c135d2 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:11.225 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 8049af50519546029ba0071b72c135d2[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:11.226 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:11.236 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.237 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:11.238 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:11.238 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mupdating internal network for port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'8a0e3cdb-64ce-4166-bf56-3a8f6c0da7c9', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'c1a7f9c5-734d-4083-98a1-fafe3e1949ce', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:0b:b7:97', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'8a0e3cdb-64ce-4166-bf56-3a8f6c0da7c9', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'a397c09b-22ec-4b2f-9c84-b06dc80f890a', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'100b7729-53ba-444a-a432-d0468587d789', u'subnetpool_id': None}]}[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:423[00m
2016-01-27 20:41:11.240 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.310 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qr-c1a7f9c5-73', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.333 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 3d86e4165fb04b47b9b7b6c58b89a64d [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:11.336 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-967fce1c-26e3-4305-943e-18dd6c2c500a [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:11.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qr-c1a7f9c5-73', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.375 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'del', '2003:0:0:1::1/64', 'dev', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.437 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'del', u'2003:0:0:1::1/64', 'dev', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.438 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:41:11.438 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:41:11.440 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-HUP', '24208'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.448 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-HUP', 24208]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.449 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:41:11.449 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.517 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.519 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:11.520 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:11.521 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.584 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.586 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:11.586 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.653 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.656 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.709 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.709 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.770 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:11.771 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:11.771 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:11.833 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:11.834 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:11.834 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:11.874 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 96253065738341da8ceb2069367411c7 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:11.875 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-90bf00aa-2166-4beb-ae49-9f7b0abe7c69 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:11.876 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:11.877 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 8d3634b0ae4f424f8510a47e617f06fc exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:12.067 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 8d3634b0ae4f424f8510a47e617f06fc[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:12.067 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:12.074 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.075 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:12.076 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:12.076 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(c1a7f9c5-734d-4083-98a1-fafe3e1949ce) interface(qr-c1a7f9c5-73)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:41:12.076 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.119 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a8c2a79d163247e2b8c047c5b6543cb5 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:12.122 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-a0b1a353-b8c5-4740-8097-39abc6175e9c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:12.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.130 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:12.140 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-c1a7f9c5-73'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.188 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-c1a7f9c5-73']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.189 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'8a0e3cdb-64ce-4166-bf56-3a8f6c0da7c9', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'c1a7f9c5-734d-4083-98a1-fafe3e1949ce', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:0b:b7:97', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'8a0e3cdb-64ce-4166-bf56-3a8f6c0da7c9', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'a397c09b-22ec-4b2f-9c84-b06dc80f890a', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'100b7729-53ba-444a-a432-d0468587d789', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:41:12.190 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:41:12.190 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '24208'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.196 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 24208]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.198 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:41:12.199 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.258 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:12.258 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:12.259 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.12'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::d'}], u'id': u'453dd2eb-e8f7-4c01-a234-b3eb187be2db', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:68:f0:55', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-453dd2eb-e8), ns(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:41:12.259 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.314 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-453dd2eb-e8 already exists[00m
2016-01-27 20:41:12.315 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-453dd2eb-e8), namespace(qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:41:12.316 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.384 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.385 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.445 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.446 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.574 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.575 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', 'qg-453dd2eb-e8', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.621 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9fcf095e864d472fb792d902063f237b [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:12.624 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-b36272a4-5241-4f78-8153-4eef2ab7fac4 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:12.637 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'route', 'list', 'dev', u'qg-453dd2eb-e8', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.637 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', 'qg-453dd2eb-e8', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'route', 'list', 'dev', u'qg-453dd2eb-e8', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.702 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', 'qg-453dd2eb-e8', '-c', '3', '-w', '4.5', '172.24.4.12'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.766 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.767 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:12.767 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.806 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.812 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.877 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.877 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.953 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:12.954 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:12.954 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:12.955 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:12.960 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 2bf9284b92814772b2f1721940c807b2 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:12.962 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-da5a61b5-94a6-4828-9a38-27ff3fd5282a [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:13.013 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.014 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:13.014 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:13.014 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:13.015 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 0ab8934eae4249f1859bbdb07274bf33 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:13.234 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 0ab8934eae4249f1859bbdb07274bf33[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:13.235 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:13.242 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.243 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:13.243 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:13.245 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(97ddc70d-7ea6-4c7b-aff2-e9e191c58055) interface(qr-97ddc70d-7e)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:41:13.245 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', 'qr-97ddc70d-7e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.321 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-o', 'link', 'show', u'qr-97ddc70d-7e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.322 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:13.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.330 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-97ddc70d-7e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.375 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-97ddc70d-7e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.376 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'271f6d38-30c6-4f47-82fd-52ffbe2f2a8e', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'97ddc70d-7ea6-4c7b-aff2-e9e191c58055', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:c3:ad:14', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'271f6d38-30c6-4f47-82fd-52ffbe2f2a8e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'bf68e2af-5e1f-4315-9c98-b0850c1ace8a', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:41:13.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.437 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.438 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:13.438 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:13.438 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.484 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.485 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:13.486 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.546 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.548 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a1b38ec9064f4da0b761a4125784b858 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:13.550 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c0eed005-de42-49d2-ae7b-a5b342061710 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:13.609 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.610 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.678 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:13.678 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:13.679 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.741 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', 'addr', 'show', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.741 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:13.742 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:13.742 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:13.743 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: b94d2c4d84f743fb977b5f01992e1d61 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:13.766 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 2a93103439614390a0bf5de22c5f85b6 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:13.767 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-3d6aaaad-1dcc-438c-a331-6aeaacea040a [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:41:13.802 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: b94d2c4d84f743fb977b5f01992e1d61[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:13.804 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:13.804 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:41:13.805 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:13.806 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.877 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.881 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:13.953 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:13.953 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.017 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.018 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:14.018 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:14.019 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '24022'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 24022]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.025 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:14.026 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.073 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:14.074 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:14.074 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.12'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::d'}], u'id': u'453dd2eb-e8f7-4c01-a234-b3eb187be2db', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:68:f0:55', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'39778a3e-7bca-4e8d-a341-01a92a4372ff', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-453dd2eb-e8)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:41:14.075 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'del', '172.24.4.12/24', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-4', 'addr', 'del', '172.24.4.12/24', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '172.24.4.12'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.193 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '172.24.4.12']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.193 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '172.24.4.12'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '172.24.4.12']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'del', '2001:db8::d/64', 'dev', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.312 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip', '-6', 'addr', 'del', '2001:db8::d/64', 'dev', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '2001:db8::d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.365 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-d', '2001:db8::d']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.365 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '2001:db8::d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'conntrack', '-D', '-q', '2001:db8::d']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:14.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-453dd2eb-e8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.479 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-453dd2eb-e8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.480 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:14.480 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:14.480 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.536 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.537 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:14.538 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.585 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.589 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.653 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.653 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.702 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 12 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:14.703 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:14.703 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:41:14.704 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:41:14.704 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/39778a3e-7bca-4e8d-a341-01a92a4372ff.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:41:14.704 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:41:14.705 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:41:14.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:14.777 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff', 'arping', '-A', '-I', u'qg-453dd2eb-e8', '-c', 3, '-w', 4.5, u'172.24.4.12']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.778 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-39778a3e-7bca-4e8d-a341-01a92a4372ff']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.778 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:14.778 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:41:14.779 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:14.779 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:14.780 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:41:14.780 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff, action 1, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:14.780 [01;33mWARNING neutron.agent.l3.agent [[00;36m-[01;33m] [01;35m[01;33mInfo for router 39778a3e-7bca-4e8d-a341-01a92a4372ff was not found. Performing router cleanup[00m
2016-01-27 20:41:14.781 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', 'netns', 'list'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:14.788 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:14.789 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 39778a3e-7bca-4e8d-a341-01a92a4372ff[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:41:16.749 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9c5fee264d37451ca4e8b181adc24917 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:16.752 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:17.195 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 7f48e15000164afdbc1de6c3bb060259 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:17.197 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-d3354947-61a5-4ac8-aba0-501e3231bf88 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:17.197 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:17.198 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 2c53088e582e48ff8d0270820e94ed34 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:17.691 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 2c53088e582e48ff8d0270820e94ed34[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:17.693 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:17.702 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:17.704 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:17.704 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:41:17.705 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:17.705 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:17.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:17.716 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:17.717 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:17.723 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:17.725 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:17.797 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:17.797 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:17.857 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:17.857 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:17.917 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:17.917 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:17.921 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: c2d5cb11637b4b1ea1fd734f6aa3ed7c [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:17.923 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-a6d74e73-88c9-4912-9591-2827547fddea [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:17.981 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:17.981 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:17.982 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.029 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.030 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:18.031 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:18.031 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.15'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::10'}], u'id': u'564e23f1-0b63-4a8b-b44e-6dc4df81e7ee', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:40:1f:c8', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'165a95f2-987c-4eea-9c53-f9252e2d17be', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-564e23f1-0b), ns(qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:41:18.032 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.085 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qg-564e23f1-0b']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.086 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:18.094 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.095 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-564e23f1-0b', '--', 'add-port', 'br-ex', 'qg-564e23f1-0b', '--', 'set', 'Interface', 'qg-564e23f1-0b', 'type=internal', 'external_ids:iface-id=564e23f1-0b63-4a8b-b44e-6dc4df81e7ee', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:40:1f:c8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.118 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-564e23f1-0b', '--', 'add-port', 'br-ex', u'qg-564e23f1-0b', '--', 'set', 'Interface', u'qg-564e23f1-0b', 'type=internal', u'external_ids:iface-id=564e23f1-0b63-4a8b-b44e-6dc4df81e7ee', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:40:1f:c8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.119 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.130 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-564e23f1-0b', 'address', 'fa:16:3e:40:1f:c8'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.136 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-564e23f1-0b', 'address', u'fa:16:3e:40:1f:c8']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.136 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.142 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.143 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-564e23f1-0b', 'netns', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.178 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-564e23f1-0b', 'netns', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.179 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', 'qg-564e23f1-0b', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', u'qg-564e23f1-0b', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.242 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-564e23f1-0b), namespace(qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:41:18.242 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.305 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.306 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.374 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '172.24.4.15/24', 'scope', 'global', 'dev', 'qg-564e23f1-0b', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.437 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '172.24.4.15/24', 'scope', 'global', 'dev', u'qg-564e23f1-0b', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.438 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'addr', 'add', '2001:db8::10/64', 'scope', 'global', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'addr', 'add', '2001:db8::10/64', 'scope', 'global', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.569 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.570 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.575 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: b88914bb31df422eb758c3eb6aef80ae [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:18.578 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:18.622 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.622 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', 'qg-564e23f1-0b', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.681 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', u'qg-564e23f1-0b', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.682 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', 'qg-564e23f1-0b', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.747 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', u'qg-564e23f1-0b', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.748 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:18.748 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:18.749 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.749 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', 'qg-564e23f1-0b', '-c', '3', '-w', '4.5', '172.24.4.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.821 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.821 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:18.822 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.887 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.941 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:18.941 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:18.951 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: be28069aea584becb2bda5b931574dfd [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:18.954 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-ff19e2a9-d087-4e94-990b-6914831d51e3 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:19.001 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:19.003 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:19.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:19.074 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:19.074 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:19.075 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:19.134 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:19.135 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:19.136 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:41:19.136 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:19.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:19.197 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:19.203 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:19.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:19.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:19.325 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:19.328 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:19.328 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:19.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:41:19.330 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=165a95f2-987c-4eea-9c53-f9252e2d17be', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:19.977 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=165a95f2-987c-4eea-9c53-f9252e2d17be', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:19.978 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:19.978 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:19.980 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 478aa30f041348cc843fa3ef14862713 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:20.655 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 478aa30f041348cc843fa3ef14862713[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:20.656 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:20.663 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.664 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:20.665 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:20.665 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(0e3ce9ef-a4a0-467d-82d3-7a37aa789759)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:41:20.665 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qr-0e3ce9ef-a4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.721 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qr-0e3ce9ef-a4']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.721 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:20.729 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.731 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-0e3ce9ef-a4', '--', 'add-port', 'br-int', 'qr-0e3ce9ef-a4', '--', 'set', 'Interface', 'qr-0e3ce9ef-a4', 'type=internal', 'external_ids:iface-id=0e3ce9ef-a4a0-467d-82d3-7a37aa789759', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:57:b7:2d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.751 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-0e3ce9ef-a4', '--', 'add-port', 'br-int', u'qr-0e3ce9ef-a4', '--', 'set', 'Interface', u'qr-0e3ce9ef-a4', 'type=internal', u'external_ids:iface-id=0e3ce9ef-a4a0-467d-82d3-7a37aa789759', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:57:b7:2d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.752 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-0e3ce9ef-a4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-0e3ce9ef-a4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.762 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-0e3ce9ef-a4', 'address', 'fa:16:3e:57:b7:2d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.767 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-0e3ce9ef-a4', 'address', u'fa:16:3e:57:b7:2d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.768 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.774 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.775 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-0e3ce9ef-a4', 'netns', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.814 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-0e3ce9ef-a4', 'netns', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.814 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', 'qr-0e3ce9ef-a4', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.845 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', u'qg-564e23f1-0b', '-c', 3, '-w', 4.5, u'172.24.4.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.861 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', u'qr-0e3ce9ef-a4', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.862 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-0e3ce9ef-a4), namespace(qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:41:20.862 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qr-0e3ce9ef-a4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.913 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qr-0e3ce9ef-a4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.913 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qr-0e3ce9ef-a4', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:20.943 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 5f629812d34c4080af3069b75015dd3c [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:20.945 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-80735227-3498-4c0e-8433-6c65b68a43af [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:20.982 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qr-0e3ce9ef-a4', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:20.982 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-0e3ce9ef-a4', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.041 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-0e3ce9ef-a4', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.041 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', 'qr-0e3ce9ef-a4', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.105 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', u'qr-0e3ce9ef-a4', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.105 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', 'qr-0e3ce9ef-a4', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.169 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', u'qr-0e3ce9ef-a4', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.169 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'd7fbf752-229d-44df-85e2-dfee5046f45e', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'0e3ce9ef-a4a0-467d-82d3-7a37aa789759', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:57:b7:2d', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'd7fbf752-229d-44df-85e2-dfee5046f45e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'165a95f2-987c-4eea-9c53-f9252e2d17be', u'name': u'', u'admin_state_up': True, u'network_id': u'6d2b079f-14e3-4825-8fc0-ddf1fd93b7c6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:41:21.169 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(8da5e44f-cccd-411e-916a-a3dbe36300b2)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:41:21.169 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qr-8da5e44f-cc'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.170 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', 'qr-0e3ce9ef-a4', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.237 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qr-8da5e44f-cc']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.237 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:21.245 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.246 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-8da5e44f-cc', '--', 'add-port', 'br-int', 'qr-8da5e44f-cc', '--', 'set', 'Interface', 'qr-8da5e44f-cc', 'type=internal', 'external_ids:iface-id=8da5e44f-cccd-411e-916a-a3dbe36300b2', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:49:5e:96'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.266 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-8da5e44f-cc', '--', 'add-port', 'br-int', u'qr-8da5e44f-cc', '--', 'set', 'Interface', u'qr-8da5e44f-cc', 'type=internal', u'external_ids:iface-id=8da5e44f-cccd-411e-916a-a3dbe36300b2', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:49:5e:96']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.266 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-8da5e44f-cc'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-8da5e44f-cc']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-8da5e44f-cc', 'address', 'fa:16:3e:49:5e:96'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.279 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-8da5e44f-cc', 'address', u'fa:16:3e:49:5e:96']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.280 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.289 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.290 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-8da5e44f-cc', 'netns', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.325 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-8da5e44f-cc', 'netns', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.326 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', 'qr-8da5e44f-cc', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.351 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f9824b3eccce4c1ab69b261f60dff3ed [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:21.354 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-5e9cc7f9-33ed-4704-acc2-8dc4e6e899f1 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:21.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'link', 'set', u'qr-8da5e44f-cc', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.370 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-8da5e44f-cc), namespace(qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:41:21.370 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qr-8da5e44f-cc'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qr-8da5e44f-cc']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.426 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qr-8da5e44f-cc', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qr-8da5e44f-cc', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-8da5e44f-cc'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-8da5e44f-cc']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', 'qr-8da5e44f-cc', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', u'qr-8da5e44f-cc', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.618 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', 'qr-8da5e44f-cc', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', u'qr-8da5e44f-cc', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.674 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'21cac89b-a8fe-41bf-8caa-0ca1af54eff5', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'8da5e44f-cccd-411e-916a-a3dbe36300b2', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:49:5e:96', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'21cac89b-a8fe-41bf-8caa-0ca1af54eff5', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'165a95f2-987c-4eea-9c53-f9252e2d17be', u'name': u'', u'admin_state_up': True, u'network_id': u'0cc9467c-3331-4964-a5a0-f3051c4188b6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:41:21.675 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:41:21.676 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:41:21.678 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:41:21.678 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'radvd', '-C', '/opt/stack/data/neutron/ra/165a95f2-987c-4eea-9c53-f9252e2d17be.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.716 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'radvd', '-C', u'/opt/stack/data/neutron/ra/165a95f2-987c-4eea-9c53-f9252e2d17be.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.716 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:41:21.716 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.765 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.766 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:21.766 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:21.766 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.15'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::10'}], u'id': u'564e23f1-0b63-4a8b-b44e-6dc4df81e7ee', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:40:1f:c8', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'165a95f2-987c-4eea-9c53-f9252e2d17be', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-564e23f1-0b), ns(qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:41:21.767 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.837 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.838 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-564e23f1-0b already exists[00m
2016-01-27 20:41:21.839 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-564e23f1-0b), namespace(qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:41:21.840 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:21.945 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:21.946 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.005 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.069 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.070 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', 'qg-564e23f1-0b', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'route', 'list', 'dev', u'qg-564e23f1-0b', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.142 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', 'qg-564e23f1-0b', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.213 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'route', 'list', 'dev', u'qg-564e23f1-0b', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.213 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.214 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', 'qg-564e23f1-0b', '-c', '3', '-w', '4.5', '172.24.4.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.265 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:22.266 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.345 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.409 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.409 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.473 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.474 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:22.474 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:22.475 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:22.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:22.538 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:22.538 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:23.221 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', u'qr-0e3ce9ef-a4', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.293 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', u'qg-564e23f1-0b', '-c', 3, '-w', 4.5, u'172.24.4.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.365 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 288a0aa790f448e59514b3b59edd5892 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:24.368 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-16748a45-235f-4c42-98a1-8452ef1ed333 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:24.368 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:41:24.370 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 12ef0c2de88446db8bdb5e2dee740584 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:24.610 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 12ef0c2de88446db8bdb5e2dee740584[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:24.610 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:41:24.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.618 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:24.618 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:41:24.619 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.665 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.665 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:41:24.666 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:41:24.666 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.709 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.710 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:41:24.710 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.757 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.796 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.797 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.841 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.842 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:41:24.842 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:41:24.842 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.889 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.889 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '172.24.4.16/32', 'scope', 'global', 'dev', 'qg-564e23f1-0b', 'brd', '172.24.4.16'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.925 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '172.24.4.16/32', 'scope', 'global', 'dev', u'qg-564e23f1-0b', 'brd', '172.24.4.16']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:24.925 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 9795f8a7-9348-46b8-95ab-263dcdb0b6b8 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:41:24.926 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9795f8a7-9348-46b8-95ab-263dcdb0b6b8': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:41:24.927 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 5d3a274362e443fba00c8dcc0ed9d249 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:24.928 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', 'qg-564e23f1-0b', '-c', '3', '-w', '4.5', '172.24.4.16'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:41:24.944 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 5d3a274362e443fba00c8dcc0ed9d249[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:41:24.945 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:41:24.947 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:41:26.792 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:41:27.009 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', u'qg-564e23f1-0b', '-c', 3, '-w', 4.5, u'172.24.4.16']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:41:31.773 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: b714bce39d9c4d5c884fd81b3bb3936a exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:41:58.963 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: fcbef552d557478fbc170fd93dbb79e9 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:58.965 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-a946da8c-3920-4d74-92e4-979d8ca29a7c [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:41:59.352 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ca6de81ba3a24db4bc6904579cb1c71e [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:41:59.354 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-eed5b8e4-28b8-4efd-9255-d8ba0127a90e [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:01.548 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:01.550 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:01.684 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:01.776 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: e3c2cd3eb4884176903b13586508b49e exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:02.585 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a56dfccce9384beb8e084df0354488a0 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:02.587 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-44013713-351c-4c58-9ab4-562895ff5091 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:02.588 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:02.588 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 73bf347324e142efb3426640bdc5250a exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:02.826 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 73bf347324e142efb3426640bdc5250a[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:02.827 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:02.844 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:02.845 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:02.845 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:02.846 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:02.921 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:02.922 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:02.922 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:02.922 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:02.985 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:02.986 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:02.986 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:03.049 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:03.058 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:03.105 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:03.106 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:03.145 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:03.146 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:03.146 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:03.146 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:03.181 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:03.181 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '172.24.4.17/32', 'scope', 'global', 'dev', 'qg-564e23f1-0b', 'brd', '172.24.4.17'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:03.221 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'add', '172.24.4.17/32', 'scope', 'global', 'dev', u'qg-564e23f1-0b', 'brd', '172.24.4.17']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:03.221 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 9567eac6-78a4-4995-b1cb-493dc0960759 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:42:03.222 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9567eac6-78a4-4995-b1cb-493dc0960759': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:42:03.222 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 8f79daabf76e4f298af76b6648b0d697 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:03.223 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', 'qg-564e23f1-0b', '-c', '3', '-w', '4.5', '172.24.4.17'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:03.240 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 8f79daabf76e4f298af76b6648b0d697[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:03.241 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:03.241 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:05.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'arping', '-A', '-I', u'qg-564e23f1-0b', '-c', 3, '-w', 4.5, u'172.24.4.17']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:06.794 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:42:31.780 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 096f8a533d41466c883ffd37694e11c9 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:36.730 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9884c1a42c8440158f4b68f3805e5b7e [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:36.734 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-08ad347f-dd6e-430f-a18b-20f1355e1f0d [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:36.735 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:36.736 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 8f827cfd666945bca624ae7f01b2ad84 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:36.971 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 8f827cfd666945bca624ae7f01b2ad84[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:36.972 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:36.983 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:36.984 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:36.985 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:36.986 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.053 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.054 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:37.054 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:37.054 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.109 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.110 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:37.111 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.161 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.170 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.234 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.289 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.290 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:37.291 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:37.291 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.341 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.17/32 from interface qg-564e23f1-0b in namespace qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:42:37.342 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'del', '172.24.4.17/32', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'del', u'172.24.4.17/32', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '172.24.4.17'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '172.24.4.17']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.430 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '172.24.4.17'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:37.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '172.24.4.17']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:37.485 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9567eac6-78a4-4995-b1cb-493dc0960759': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:42:37.486 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 2ea052f58753467f86ba9c0dad7f846a exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:37.502 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 2ea052f58753467f86ba9c0dad7f846a[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:37.502 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:37.503 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:39.911 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: fd8488a2c88546fbb8275c10a707c4a7 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:39.914 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-be5b90ec-9731-48a1-9a31-553ba93f9857 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:39.915 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:39.916 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: d64a3beed40a4f7abc1d26c1cd76c387 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:40.113 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: d64a3beed40a4f7abc1d26c1cd76c387[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:40.114 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:40.123 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.125 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:40.125 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:40.126 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.182 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.183 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:40.183 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:40.183 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.253 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.255 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:40.256 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.309 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.315 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.381 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.382 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.442 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:40.443 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:40.443 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.485 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.16/32 from interface qg-564e23f1-0b in namespace qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:42:40.486 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'del', '172.24.4.16/32', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'del', u'172.24.4.16/32', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '172.24.4.16'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.573 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '172.24.4.16']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.573 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '172.24.4.16'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:40.620 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '172.24.4.16']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:40.621 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9795f8a7-9348-46b8-95ab-263dcdb0b6b8': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:42:40.622 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 2faa72bfac1343b4abf5b5909eb5c8ae exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:40.639 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 2faa72bfac1343b4abf5b5909eb5c8ae[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:40.640 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:40.640 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:43.048 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 71ece633ddec42be97b424a4e5d557fc [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:43.050 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-95201c09-3a3a-49a0-8630-611f280222bf [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:43.050 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:43.051 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: d7ba068ceb384dbab1e17244af009695 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:43.280 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: d7ba068ceb384dbab1e17244af009695[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:43.281 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:43.290 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.292 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:43.293 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:43.293 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(8da5e44f-cccd-411e-916a-a3dbe36300b2) interface(qr-8da5e44f-cc)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:42:43.294 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qr-8da5e44f-cc'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.322 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 3ff1390dfba3448f94f0e5b0879380c4 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:43.325 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-27aa0841-b0a3-4be8-9f20-8fd07038a022 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:43.361 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qr-8da5e44f-cc']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.362 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:43.368 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.369 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-8da5e44f-cc'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.415 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-8da5e44f-cc']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.416 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'21cac89b-a8fe-41bf-8caa-0ca1af54eff5', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'8da5e44f-cccd-411e-916a-a3dbe36300b2', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:49:5e:96', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'21cac89b-a8fe-41bf-8caa-0ca1af54eff5', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'165a95f2-987c-4eea-9c53-f9252e2d17be', u'name': u'', u'admin_state_up': True, u'network_id': u'0cc9467c-3331-4964-a5a0-f3051c4188b6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:42:43.417 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:42:43.418 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '25349'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 25349]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.426 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:42:43.426 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.501 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.501 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:43.502 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:43.502 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.569 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.570 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:43.570 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.633 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.641 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.781 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.783 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:43.783 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:43.784 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:43.841 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:43.842 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:43.842 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:43.865 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 8476cc86a642475fb62a6e0275fd78b7 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:43.868 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-84009880-919b-43dc-9d96-c823e1a5e397 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:43.869 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:43.870 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 83671e877a5a4cc6a001ed6ac85cecc8 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:44.137 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 227cb44601ee44eb9e8c7dff830dad07 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:44.139 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-58d0b595-fd77-4434-9c98-b4a0aecd1bc2 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:44.179 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 83671e877a5a4cc6a001ed6ac85cecc8[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:44.180 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:44.188 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.189 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:44.189 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:44.190 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(0e3ce9ef-a4a0-467d-82d3-7a37aa789759) interface(qr-0e3ce9ef-a4)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:42:44.190 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', 'qr-0e3ce9ef-a4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.250 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-o', 'link', 'show', u'qr-0e3ce9ef-a4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.250 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:44.262 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.264 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-0e3ce9ef-a4'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.323 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-0e3ce9ef-a4']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.324 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'd7fbf752-229d-44df-85e2-dfee5046f45e', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'0e3ce9ef-a4a0-467d-82d3-7a37aa789759', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:57:b7:2d', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'd7fbf752-229d-44df-85e2-dfee5046f45e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'165a95f2-987c-4eea-9c53-f9252e2d17be', u'name': u'', u'admin_state_up': True, u'network_id': u'6d2b079f-14e3-4825-8fc0-ddf1fd93b7c6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': []} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:42:44.324 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.381 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.382 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:44.382 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:44.382 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.430 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:44.430 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.490 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.618 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:44.619 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:44.619 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:44.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', 'addr', 'show', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:44.674 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:44.674 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:44.816 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ce2f942afd074baab6e0da0ab11b7e1a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:44.819 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-15b71b90-ea85-4d72-a7ba-4ac610d0dfc0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:44.821 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:44.822 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 7ad4306e08bf430893730702e9a4eb55 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:44.991 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 7ad4306e08bf430893730702e9a4eb55[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:44.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:45.001 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.002 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:45.002 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:45.002 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.061 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.062 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:45.062 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:45.063 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.15'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::10'}], u'id': u'564e23f1-0b63-4a8b-b44e-6dc4df81e7ee', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:40:1f:c8', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'165a95f2-987c-4eea-9c53-f9252e2d17be', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-564e23f1-0b)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:42:45.063 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'del', '172.24.4.15/24', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-4', 'addr', 'del', '172.24.4.15/24', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.138 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f42d9baf43634a7c8da13b6eebe40077 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:45.139 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '172.24.4.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.140 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-8cfa0ae7-6af7-45a8-8fa8-3a9fb23f52e9 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:42:45.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '172.24.4.15']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '172.24.4.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.253 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '172.24.4.15']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.254 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'addr', 'del', '2001:db8::10/64', 'dev', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip', '-6', 'addr', 'del', '2001:db8::10/64', 'dev', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '2001:db8::10'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-d', '2001:db8::10']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '2001:db8::10'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'conntrack', '-D', '-q', '2001:db8::10']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:45.433 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.434 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-564e23f1-0b'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.475 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-564e23f1-0b']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.476 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:45.476 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:45.477 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.537 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.538 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:45.539 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.609 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.681 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.682 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.725 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.727 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 14 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:45.727 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:45.728 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:45.728 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:45.729 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 165a95f2-987c-4eea-9c53-f9252e2d17be, action 1, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:45.729 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:45.730 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:42:45.730 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:45.731 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.790 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.793 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.849 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.850 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.905 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.907 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:45.907 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:45.908 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '25162'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.913 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 25162]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.913 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:45.914 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:45.989 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:45.989 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:45.990 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:45.990 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:46.061 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:46.061 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:46.062 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:46.121 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:46.124 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:46.169 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:46.170 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 0 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:46.171 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:46.171 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:42:46.171 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:42:46.172 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/165a95f2-987c-4eea-9c53-f9252e2d17be.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:42:46.172 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:42:46.172 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:42:46.173 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:46.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:46.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:46.261 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-165a95f2-987c-4eea-9c53-f9252e2d17be']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:46.262 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:46.262 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:42:46.262 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:46.263 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:46.263 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 165a95f2-987c-4eea-9c53-f9252e2d17be[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:42:46.795 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:42:48.146 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 2ea2056b2c3e44d182da65fa5b1878af [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:48.148 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:48.635 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f1be2055bbd64c13b01cd6ab274de04b [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:48.639 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-2d72058e-7f6b-45bb-9269-c7132ce731b9 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:48.639 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:48.640 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 49d75ba7849d4a08bed504dc88035921 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:49.009 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 49d75ba7849d4a08bed504dc88035921[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:49.011 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:49.019 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.021 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:49.021 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:42:49.022 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:49.022 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:49.022 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.030 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.031 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.038 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.039 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.052 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 2b44641e479a4b9aa90240af2ccadbec [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:49.055 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-89f42488-e5f7-4469-a04c-e08921d15398 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:49.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.102 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.161 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.161 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.305 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.306 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:49.306 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.373 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:49.374 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:49.374 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.18'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::13'}], u'id': u'd45c4ad7-506b-4c64-a798-79989567544a', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:e0:6d:e3', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-d45c4ad7-50), ns(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:42:49.375 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qg-d45c4ad7-50']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.422 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:49.431 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.433 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-d45c4ad7-50', '--', 'add-port', 'br-ex', 'qg-d45c4ad7-50', '--', 'set', 'Interface', 'qg-d45c4ad7-50', 'type=internal', 'external_ids:iface-id=d45c4ad7-506b-4c64-a798-79989567544a', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:e0:6d:e3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.453 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-d45c4ad7-50', '--', 'add-port', 'br-ex', u'qg-d45c4ad7-50', '--', 'set', 'Interface', u'qg-d45c4ad7-50', 'type=internal', u'external_ids:iface-id=d45c4ad7-506b-4c64-a798-79989567544a', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:e0:6d:e3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.454 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.463 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.464 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-d45c4ad7-50', 'address', 'fa:16:3e:e0:6d:e3'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-d45c4ad7-50', 'address', u'fa:16:3e:e0:6d:e3']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.470 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.475 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.475 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-d45c4ad7-50', 'netns', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.509 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-d45c4ad7-50', 'netns', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.509 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', 'qg-d45c4ad7-50', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.557 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', u'qg-d45c4ad7-50', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.558 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-d45c4ad7-50), namespace(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:42:49.558 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.621 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.623 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.685 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.687 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '172.24.4.18/24', 'scope', 'global', 'dev', 'qg-d45c4ad7-50', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.741 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '172.24.4.18/24', 'scope', 'global', 'dev', u'qg-d45c4ad7-50', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.741 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'add', '2001:db8::13/64', 'scope', 'global', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.801 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'add', '2001:db8::13/64', 'scope', 'global', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.801 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.856 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.857 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.921 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.922 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', 'qg-d45c4ad7-50', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', u'qg-d45c4ad7-50', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:49.994 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', 'qg-d45c4ad7-50', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:49.998 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e9a44934db13443fbe804f7dc6f462ad [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:50.002 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-346616b2-746d-48c9-a425-5f509dc48454 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:50.053 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', u'qg-d45c4ad7-50', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.055 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:50.056 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:50.056 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.057 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', 'qg-d45c4ad7-50', '-c', '3', '-w', '4.5', '172.24.4.18'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.113 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.114 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:50.116 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.168 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.226 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.226 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.293 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.295 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.357 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.358 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:50.358 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:50.359 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.425 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.425 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:50.426 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:42:50.426 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:50.427 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.492 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:50.598 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:50.598 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:50.599 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:42:50.599 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=a4bd2d86-d63f-4f52-80d8-211d8acbde19', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:50.893 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 5a8cbebb640c4e898211803935bac400 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:50.896 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-8726b7fd-dd22-46ab-a627-4746a2440ff5 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:51.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=a4bd2d86-d63f-4f52-80d8-211d8acbde19', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.314 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:51.314 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:51.315 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: ac3529ae46064745bcb7c198efeb9249 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:51.855 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: ac3529ae46064745bcb7c198efeb9249[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:51.856 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:51.865 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.866 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:51.866 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:51.866 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(7ac9a6c5-1cfb-46b1-ab5d-3bb1553a6a78)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:42:51.867 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:51.922 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qr-7ac9a6c5-1c']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.922 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:51.929 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.930 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-7ac9a6c5-1c', '--', 'add-port', 'br-int', 'qr-7ac9a6c5-1c', '--', 'set', 'Interface', 'qr-7ac9a6c5-1c', 'type=internal', 'external_ids:iface-id=7ac9a6c5-1cfb-46b1-ab5d-3bb1553a6a78', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:5d:fa:27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:51.952 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-7ac9a6c5-1c', '--', 'add-port', 'br-int', u'qr-7ac9a6c5-1c', '--', 'set', 'Interface', u'qr-7ac9a6c5-1c', 'type=internal', u'external_ids:iface-id=7ac9a6c5-1cfb-46b1-ab5d-3bb1553a6a78', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:5d:fa:27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.953 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:51.959 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.960 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-7ac9a6c5-1c', 'address', 'fa:16:3e:5d:fa:27'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:51.967 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-7ac9a6c5-1c', 'address', u'fa:16:3e:5d:fa:27']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.969 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:51.983 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:51.984 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-7ac9a6c5-1c', 'netns', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.026 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-7ac9a6c5-1c', 'netns', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.027 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', 'qr-7ac9a6c5-1c', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.085 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', u'qr-7ac9a6c5-1c', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.086 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-7ac9a6c5-1c), namespace(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:42:52.087 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', u'qg-d45c4ad7-50', '-c', 3, '-w', 4.5, u'172.24.4.18']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.153 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.154 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qr-7ac9a6c5-1c', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.209 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qr-7ac9a6c5-1c', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.210 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.338 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', 'qr-7ac9a6c5-1c', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.413 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', u'qr-7ac9a6c5-1c', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.413 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', 'qr-7ac9a6c5-1c', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.481 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', u'qr-7ac9a6c5-1c', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.481 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'0a89c93d-c11c-46ac-b301-bde7b0116f2e', u'prefixlen': 64, u'ip_address': u'2003:0:0:1::1'}, {u'subnet_id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'7ac9a6c5-1cfb-46b1-ab5d-3bb1553a6a78', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:5d:fa:27', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'0a89c93d-c11c-46ac-b301-bde7b0116f2e', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'd053f801-14bd-4c9e-86f7-ce4b033de3d6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'01a43d0e-c479-45a3-a74c-e6dcbac0847e', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:42:52.482 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(ddcdcf29-7d06-4da1-a221-f2048c0b4761)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:42:52.482 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qr-ddcdcf29-7d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.542 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qr-ddcdcf29-7d']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.542 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:52.548 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.550 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-ddcdcf29-7d', '--', 'add-port', 'br-int', 'qr-ddcdcf29-7d', '--', 'set', 'Interface', 'qr-ddcdcf29-7d', 'type=internal', 'external_ids:iface-id=ddcdcf29-7d06-4da1-a221-f2048c0b4761', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:23:fc:88'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.571 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-ddcdcf29-7d', '--', 'add-port', 'br-int', u'qr-ddcdcf29-7d', '--', 'set', 'Interface', u'qr-ddcdcf29-7d', 'type=internal', u'external_ids:iface-id=ddcdcf29-7d06-4da1-a221-f2048c0b4761', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:23:fc:88']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.571 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-ddcdcf29-7d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.587 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-ddcdcf29-7d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.587 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-ddcdcf29-7d', 'address', 'fa:16:3e:23:fc:88'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.594 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-ddcdcf29-7d', 'address', u'fa:16:3e:23:fc:88']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.595 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.603 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.604 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-ddcdcf29-7d', 'netns', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.642 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-ddcdcf29-7d', 'netns', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.642 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', 'qr-ddcdcf29-7d', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.697 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'link', 'set', u'qr-ddcdcf29-7d', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.697 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-ddcdcf29-7d), namespace(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:42:52.698 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qr-ddcdcf29-7d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.699 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 3e308ced57d74f479a52703b8e182030 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:52.701 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-8a72d57a-9769-4104-a04a-4601580f0745 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:52.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qr-ddcdcf29-7d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.770 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qr-ddcdcf29-7d', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.833 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qr-ddcdcf29-7d', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-ddcdcf29-7d', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-ddcdcf29-7d', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', 'qr-ddcdcf29-7d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:52.973 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', u'qr-ddcdcf29-7d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:52.973 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', 'qr-ddcdcf29-7d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.029 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', u'qr-ddcdcf29-7d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.029 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'01a43d0e-c479-45a3-a74c-e6dcbac0847e', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'ddcdcf29-7d06-4da1-a221-f2048c0b4761', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:23:fc:88', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'01a43d0e-c479-45a3-a74c-e6dcbac0847e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'd053f801-14bd-4c9e-86f7-ce4b033de3d6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'0a89c93d-c11c-46ac-b301-bde7b0116f2e', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:42:53.030 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:42:53.030 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:42:53.031 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:42:53.031 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'radvd', '-C', '/opt/stack/data/neutron/ra/a4bd2d86-d63f-4f52-80d8-211d8acbde19.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.032 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', 'qr-ddcdcf29-7d', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.047 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'radvd', '-C', u'/opt/stack/data/neutron/ra/a4bd2d86-d63f-4f52-80d8-211d8acbde19.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.048 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:42:53.048 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.101 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:53.102 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:53.102 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.18'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::13'}], u'id': u'd45c4ad7-506b-4c64-a798-79989567544a', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:e0:6d:e3', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-d45c4ad7-50), ns(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:42:53.103 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.166 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-d45c4ad7-50 already exists[00m
2016-01-27 20:42:53.167 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-d45c4ad7-50), namespace(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:42:53.167 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.242 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.298 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.358 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.359 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.422 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', 'qg-d45c4ad7-50', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', u'qg-d45c4ad7-50', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', 'qg-d45c4ad7-50', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.557 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', u'qg-d45c4ad7-50', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.558 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.559 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', 'qg-d45c4ad7-50', '-c', '3', '-w', '4.5', '172.24.4.18'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.619 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:53.620 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.677 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.729 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.730 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.802 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.803 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:53.805 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:53.806 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:53.861 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:53.862 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:53.862 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:55.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', u'qr-ddcdcf29-7d', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:55.621 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', u'qg-d45c4ad7-50', '-c', 3, '-w', 4.5, u'172.24.4.18']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.342 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e9c7ac4130714cc0b30c7fe606969628 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:42:56.344 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-1345ce02-e133-4fc3-bb59-f41b69bb4051 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:42:56.344 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:42:56.345 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: a985ab7755a04da89f3c8507e637f216 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:56.554 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: a985ab7755a04da89f3c8507e637f216[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:56.555 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:42:56.562 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.562 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:56.563 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:42:56.563 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.608 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.609 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:42:56.610 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:42:56.610 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.652 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.653 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:42:56.654 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.693 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.697 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.737 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.793 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.794 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:42:56.794 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:42:56.795 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '172.24.4.19/32', 'scope', 'global', 'dev', 'qg-d45c4ad7-50', 'brd', '172.24.4.19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '172.24.4.19/32', 'scope', 'global', 'dev', u'qg-d45c4ad7-50', 'brd', '172.24.4.19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:42:56.885 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip fcef7f73-8363-4731-a17d-7e60f4b35012 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:42:56.886 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'fcef7f73-8363-4731-a17d-7e60f4b35012': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:42:56.886 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 328367fc26f6499783e2e4cb40bbc519 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:42:56.888 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', 'qg-d45c4ad7-50', '-c', '3', '-w', '4.5', '172.24.4.19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:42:56.908 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 328367fc26f6499783e2e4cb40bbc519[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:42:56.909 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:42:56.909 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:42:58.949 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', u'qg-d45c4ad7-50', '-c', 3, '-w', 4.5, u'172.24.4.19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:01.548 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:43:01.550 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:43:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:43:01.684 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:43:01.783 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 21f4063614f649f3b7a9d089137163fa exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:43:24.406 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 92b96b6a01424b16bb1718048e4dd283 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:43:24.407 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c1748d6f-3431-49a8-b0f8-24d8cd0e0832 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:43:26.797 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:43:27.745 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 0f8ff9ec4eea41be86ec790f05f8730e [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:43:27.747 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-13bbf63d-963e-4125-abf1-322800286716 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:43:27.747 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:43:27.748 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 2c462058e1d14800b91c1938ad44813a exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:43:27.984 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 2c462058e1d14800b91c1938ad44813a[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:43:27.985 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:43:27.991 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:27.992 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:43:27.993 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:43:27.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.037 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:28.037 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:43:28.038 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:43:28.038 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.084 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:28.085 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:43:28.086 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:28.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.173 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:28.173 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.221 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:28.222 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:43:28.222 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:43:28.223 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:28.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '172.24.4.20/32', 'scope', 'global', 'dev', 'qg-d45c4ad7-50', 'brd', '172.24.4.20'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'add', '172.24.4.20/32', 'scope', 'global', 'dev', u'qg-d45c4ad7-50', 'brd', '172.24.4.20']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:28.313 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 8538e44a-f91e-4214-b9f0-25d3885a1bca added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:43:28.314 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'8538e44a-f91e-4214-b9f0-25d3885a1bca': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:43:28.315 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: b62b26786a9b418f8dae95b0429ca745 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:43:28.316 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', 'qg-d45c4ad7-50', '-c', '3', '-w', '4.5', '172.24.4.20'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:43:28.332 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: b62b26786a9b418f8dae95b0429ca745[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:43:28.333 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:43:28.333 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:43:30.361 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', u'qg-d45c4ad7-50', '-c', 3, '-w', 4.5, u'172.24.4.20']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:43:31.787 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: ff5dace054a64b598f2b9d40a91c1372 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:00.136 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 5136cc0000534d6e83937c52185ee1eb [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:00.138 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-aebc1072-394d-4357-b086-859975073d97 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:00.139 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:00.140 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 84ea23e1203e497eb68b3cfed1e9d908 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:00.438 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 84ea23e1203e497eb68b3cfed1e9d908[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:00.439 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:00.448 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.449 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:00.449 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:00.450 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.505 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:00.506 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:00.506 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.569 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.570 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:00.571 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.622 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.631 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.757 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.758 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:00.758 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:00.758 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.801 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.801 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.20/32 from interface qg-d45c4ad7-50 in namespace qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:44:00.802 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'del', '172.24.4.20/32', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.841 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'del', u'172.24.4.20/32', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.841 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '172.24.4.20'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '172.24.4.20']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '172.24.4.20'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:00.921 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '172.24.4.20']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:00.921 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'8538e44a-f91e-4214-b9f0-25d3885a1bca': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:44:00.922 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: e2978567aa13471ea9ab69bf4c367739 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:00.938 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: e2978567aa13471ea9ab69bf4c367739[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:00.939 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:00.939 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:01.549 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:01.550 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:01.684 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:01.790 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 2aa607d244744044afd7444e559a197e exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:03.257 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 3d3d16eba5334957bc7945eccf1238c2 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:03.259 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-28fc9467-8c40-448e-b0a3-dca20467f2ff [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:03.259 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:03.260 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: eb54d2975fe2496991372e00352ce18e exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:03.455 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: eb54d2975fe2496991372e00352ce18e[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:03.456 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:03.464 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.465 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:03.465 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:03.466 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.542 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:03.542 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:03.542 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.605 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.605 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:03.606 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.665 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.673 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.738 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.739 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.793 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.795 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:03.796 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:03.796 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.849 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.850 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.19/32 from interface qg-d45c4ad7-50 in namespace qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:44:03.850 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'del', '172.24.4.19/32', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.897 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'del', u'172.24.4.19/32', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.897 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '172.24.4.19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.937 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '172.24.4.19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.937 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '172.24.4.19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:03.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '172.24.4.19']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:03.993 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'fcef7f73-8363-4731-a17d-7e60f4b35012': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:44:03.994 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1474739cdaae425ca4dc9a1f8155bab9 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:04.010 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1474739cdaae425ca4dc9a1f8155bab9[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:04.011 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:04.012 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:06.559 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9ae405987f7746139fd77195bf34dfcb [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:06.561 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-3baae4d8-d4d8-46c9-bf58-3f3e74ab1824 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:06.562 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:06.562 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: e6d282ffc85345199d2670282506fa01 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:06.767 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: e6d282ffc85345199d2670282506fa01[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:06.768 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:06.775 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:06.775 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:06.776 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:06.776 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mupdating internal network for port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'7ac9a6c5-1cfb-46b1-ab5d-3bb1553a6a78', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:5d:fa:27', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'd053f801-14bd-4c9e-86f7-ce4b033de3d6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'01a43d0e-c479-45a3-a74c-e6dcbac0847e', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'0a89c93d-c11c-46ac-b301-bde7b0116f2e', u'subnetpool_id': None}]}[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:423[00m
2016-01-27 20:44:06.777 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:06.798 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:44:06.824 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 581d3da1d7244c98ab204e17d6fa4b73 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:06.827 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c40f47b1-b9f4-444a-a098-c3ffa1936518 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:06.845 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:06.846 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qr-7ac9a6c5-1c', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:06.909 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qr-7ac9a6c5-1c', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:06.910 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'del', '2003:0:0:1::1/64', 'dev', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:06.981 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'del', u'2003:0:0:1::1/64', 'dev', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:06.981 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:44:06.981 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:44:06.983 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-HUP', '26375'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:06.988 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-HUP', 26375]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:06.989 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:44:06.989 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.053 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.054 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:07.054 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:07.054 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.129 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.129 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:07.130 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.194 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.196 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.313 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.314 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:07.314 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:07.315 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.378 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:07.378 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:07.425 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 26f38e913be349b9b86da4d43be6ac7d [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:07.427 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c769fa49-f1e0-4ea1-a722-2735979ad793 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:07.428 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:07.428 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 7f10247d556f405481ae4205daceea8e exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:07.626 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 7f10247d556f405481ae4205daceea8e[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:07.627 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:07.635 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.636 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:07.637 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:07.637 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(7ac9a6c5-1cfb-46b1-ab5d-3bb1553a6a78) interface(qr-7ac9a6c5-1c)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:44:07.638 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.685 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 1af087c87fbf4e0ba79aa3b44013042c [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:07.688 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-1e4fa24c-fbce-472c-9148-f5bb212141b0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:07.689 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.690 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:07.699 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.700 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-7ac9a6c5-1c'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.743 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-7ac9a6c5-1c']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.743 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'7ac9a6c5-1cfb-46b1-ab5d-3bb1553a6a78', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:5d:fa:27', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'd053f801-14bd-4c9e-86f7-ce4b033de3d6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'01a43d0e-c479-45a3-a74c-e6dcbac0847e', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'0a89c93d-c11c-46ac-b301-bde7b0116f2e', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:44:07.744 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:44:07.745 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '26375'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.752 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 26375]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.753 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:44:07.754 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.810 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.810 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:07.811 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:07.811 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.873 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.874 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:07.874 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.937 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.942 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:07.997 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:07.997 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.061 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.062 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:08.063 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:08.063 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.125 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.126 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:08.126 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:08.235 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 90f5946fe90d4fdd8139fbb8529e2ca4 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:08.238 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-7490a352-9355-4acf-99a4-9e4b6ee3fad0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:08.239 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:08.240 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1f3b09929e5c43a6992fcd7c5c0ce698 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:08.475 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1f3b09929e5c43a6992fcd7c5c0ce698[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:08.475 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:08.483 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.484 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:08.484 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:08.484 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(ddcdcf29-7d06-4da1-a221-f2048c0b4761) interface(qr-ddcdcf29-7d)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:44:08.485 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qr-ddcdcf29-7d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.495 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e452ddd2ceb843869b79f44b3a46ba78 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:08.498 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-d4e84840-ae69-486b-a98d-e8d85a16a9f7 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:08.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qr-ddcdcf29-7d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.545 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:08.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.554 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-ddcdcf29-7d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.600 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-ddcdcf29-7d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.601 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'01a43d0e-c479-45a3-a74c-e6dcbac0847e', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'ddcdcf29-7d06-4da1-a221-f2048c0b4761', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:23:fc:88', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'01a43d0e-c479-45a3-a74c-e6dcbac0847e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'd053f801-14bd-4c9e-86f7-ce4b033de3d6', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'0a89c93d-c11c-46ac-b301-bde7b0116f2e', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'dhcpv6-stateless', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'5c73d0b3-a6d8-4f2f-9ebb-3c68fba4de83', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:44:08.602 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.661 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.662 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:08.663 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:08.663 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.18'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::13'}], u'id': u'd45c4ad7-506b-4c64-a798-79989567544a', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:e0:6d:e3', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-d45c4ad7-50), ns(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:44:08.663 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.733 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.733 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-d45c4ad7-50 already exists[00m
2016-01-27 20:44:08.734 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-d45c4ad7-50), namespace(qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:44:08.734 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.790 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-o', 'link', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.791 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.853 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.853 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.901 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.901 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:08.969 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:08.969 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', 'qg-d45c4ad7-50', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'route', 'list', 'dev', u'qg-d45c4ad7-50', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', 'qg-d45c4ad7-50', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'route', 'list', 'dev', u'qg-d45c4ad7-50', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.082 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', 'qg-d45c4ad7-50', '-c', '3', '-w', '4.5', '172.24.4.18'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.091 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 6e4b9c5891de45659d7d452b7dbc00ca [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:09.093 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6d10473b-f676-409c-b532-27fc05788ebe [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:09.146 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.147 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:09.147 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.203 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.206 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.333 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.335 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:09.335 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:09.336 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.386 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: bfe79344b6984b459557bead515a627d [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:09.388 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-94159a01-73b9-4a4f-9b62-8f84accad3f0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:44:09.389 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', 'addr', 'show', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.390 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:09.390 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:09.390 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:09.391 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 83a12bf88443474ab39d6093385143e3 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:09.449 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 83a12bf88443474ab39d6093385143e3[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:09.450 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:09.451 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:44:09.451 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:09.452 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.501 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.504 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.553 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.554 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.621 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.622 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:09.622 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:09.623 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '26191'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.627 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 26191]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.628 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:09.628 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.681 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.681 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:09.682 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:09.682 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.18'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::13'}], u'id': u'd45c4ad7-506b-4c64-a798-79989567544a', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:e0:6d:e3', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'a4bd2d86-d63f-4f52-80d8-211d8acbde19', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-d45c4ad7-50)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:44:09.682 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'del', '172.24.4.18/24', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.729 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-4', 'addr', 'del', '172.24.4.18/24', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.730 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '172.24.4.18'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.793 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '172.24.4.18']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.794 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '172.24.4.18'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.846 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '172.24.4.18']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.847 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'del', '2001:db8::13/64', 'dev', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.909 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip', '-6', 'addr', 'del', '2001:db8::13/64', 'dev', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.910 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '2001:db8::13'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:09.981 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-d', '2001:db8::13']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:09.981 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '2001:db8::13'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.050 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'conntrack', '-D', '-q', '2001:db8::13']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.050 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:10.061 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.062 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-d45c4ad7-50'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.098 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-d45c4ad7-50']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.099 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:10.099 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:10.100 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.161 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.161 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:10.162 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.217 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.220 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.338 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 12 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:10.339 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:10.339 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:44:10.339 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:44:10.340 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/a4bd2d86-d63f-4f52-80d8-211d8acbde19.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:44:10.340 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:44:10.340 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:44:10.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.404 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:10.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:10.429 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:10.429 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:44:10.430 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:10.430 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:10.430 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for a4bd2d86-d63f-4f52-80d8-211d8acbde19[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:44:11.157 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-a4bd2d86-d63f-4f52-80d8-211d8acbde19', 'arping', '-A', '-I', u'qg-d45c4ad7-50', '-c', 3, '-w', 4.5, u'172.24.4.18']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:11.977 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9d341b2943b544b0bdaa741bfb219200 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:11.978 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:12.339 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 6f22b0345edb444bb4fdeca0e99b9663 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:12.341 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-53cc63f8-11e6-474d-8388-10138096c9a0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:12.342 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:12.343 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 2004091d8acf47269ecc838585573b18 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:12.695 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 2004091d8acf47269ecc838585573b18[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:12.696 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:12.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:12.706 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:12.707 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:44:12.707 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:12.708 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:12.708 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:12.718 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:12.718 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:12.726 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:12.726 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:12.775 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 3e8bdc45922b4f1387dcbb48848b0f35 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:12.777 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-e15d5926-4a37-4ada-9a3d-ea251fe38ae4 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:12.778 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:12.779 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:12.837 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:12.837 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:12.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:12.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:12.949 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:12.949 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:12.950 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.017 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.017 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:13.018 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:13.018 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.21'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::16'}], u'id': u'6fa27b4b-dddf-41f2-969f-5c21f8e98e48', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:58:8f:57', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-6fa27b4b-dd), ns(qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:44:13.018 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qg-6fa27b4b-dd']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.082 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:13.089 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.091 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-6fa27b4b-dd', '--', 'add-port', 'br-ex', 'qg-6fa27b4b-dd', '--', 'set', 'Interface', 'qg-6fa27b4b-dd', 'type=internal', 'external_ids:iface-id=6fa27b4b-dddf-41f2-969f-5c21f8e98e48', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:58:8f:57'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.115 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-6fa27b4b-dd', '--', 'add-port', 'br-ex', u'qg-6fa27b4b-dd', '--', 'set', 'Interface', u'qg-6fa27b4b-dd', 'type=internal', u'external_ids:iface-id=6fa27b4b-dddf-41f2-969f-5c21f8e98e48', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:58:8f:57']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.116 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.124 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.125 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-6fa27b4b-dd', 'address', 'fa:16:3e:58:8f:57'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.131 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-6fa27b4b-dd', 'address', u'fa:16:3e:58:8f:57']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.132 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.138 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.140 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-6fa27b4b-dd', 'netns', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.182 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-6fa27b4b-dd', 'netns', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.182 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', 'qg-6fa27b4b-dd', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', u'qg-6fa27b4b-dd', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.242 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-6fa27b4b-dd), namespace(qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:44:13.242 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.289 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.290 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.349 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.350 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '172.24.4.21/24', 'scope', 'global', 'dev', 'qg-6fa27b4b-dd', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.413 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '172.24.4.21/24', 'scope', 'global', 'dev', u'qg-6fa27b4b-dd', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.414 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'add', '2001:db8::16/64', 'scope', 'global', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.461 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'add', '2001:db8::16/64', 'scope', 'global', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.461 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.583 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', 'qg-6fa27b4b-dd', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.649 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', u'qg-6fa27b4b-dd', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.649 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', 'qg-6fa27b4b-dd', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.655 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ecf8e6029c5548ec9c3e2d7a612941d9 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:13.659 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-d1652207-b988-48e7-b791-11134c886b5f [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:13.717 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', u'qg-6fa27b4b-dd', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.718 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:13.719 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:13.719 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.720 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', 'qg-6fa27b4b-dd', '-c', '3', '-w', '4.5', '172.24.4.21'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.765 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.766 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:13.767 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.817 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.820 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.886 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:13.942 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:13.943 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:14.009 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:14.010 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:14.010 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:14.011 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:14.069 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:14.070 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:14.070 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:44:14.071 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:14.072 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:14.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:14.143 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:14.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:14.206 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:14.261 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:14.263 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:14.263 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:14.264 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:44:14.264 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=50ffb105-ecf7-4a4c-a9a5-04965f778981', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:14.508 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 26031629aa7040e2b3abfcf8a8cf4e27 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:14.510 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-cd8690ac-52f8-4259-9b0e-1cf3f082bee2 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:15.030 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=50ffb105-ecf7-4a4c-a9a5-04965f778981', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.031 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:15.031 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:15.033 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: a6dc0e6e2855422d9c1eba012490879d exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:15.699 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: a6dc0e6e2855422d9c1eba012490879d[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:15.700 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:15.709 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.711 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:15.711 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:15.712 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(8ffc6b74-8f4c-4dfe-bd15-d586b6dfacd4)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:44:15.712 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:15.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qr-8ffc6b74-8f']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:15.781 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', u'qg-6fa27b4b-dd', '-c', 3, '-w', 4.5, u'172.24.4.21']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.783 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.784 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-8ffc6b74-8f', '--', 'add-port', 'br-int', 'qr-8ffc6b74-8f', '--', 'set', 'Interface', 'qr-8ffc6b74-8f', 'type=internal', 'external_ids:iface-id=8ffc6b74-8f4c-4dfe-bd15-d586b6dfacd4', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:f9:44:61'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:15.811 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-8ffc6b74-8f', '--', 'add-port', 'br-int', u'qr-8ffc6b74-8f', '--', 'set', 'Interface', u'qr-8ffc6b74-8f', 'type=internal', u'external_ids:iface-id=8ffc6b74-8f4c-4dfe-bd15-d586b6dfacd4', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:f9:44:61']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.812 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:15.821 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.822 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-8ffc6b74-8f', 'address', 'fa:16:3e:f9:44:61'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:15.833 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-8ffc6b74-8f', 'address', u'fa:16:3e:f9:44:61']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:15.840 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.840 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-8ffc6b74-8f', 'netns', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:15.876 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-8ffc6b74-8f', 'netns', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.876 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', 'qr-8ffc6b74-8f', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:15.953 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', u'qr-8ffc6b74-8f', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:15.954 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-8ffc6b74-8f), namespace(qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:44:15.955 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.014 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.014 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qr-8ffc6b74-8f', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qr-8ffc6b74-8f', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.077 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'add', '2003:0:0:1::1/64', 'scope', 'global', 'dev', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.142 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', 'qr-8ffc6b74-8f', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.285 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', u'qr-8ffc6b74-8f', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.285 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', 'qr-8ffc6b74-8f', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.358 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', u'qr-8ffc6b74-8f', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.358 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'ace39e3a-4f41-4d84-b76a-763cf58ac5f3', u'prefixlen': 64, u'ip_address': u'2003:0:0:1::1'}, {u'subnet_id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'8ffc6b74-8f4c-4dfe-bd15-d586b6dfacd4', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:f9:44:61', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'ace39e3a-4f41-4d84-b76a-763cf58ac5f3', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'fc7c15ef-e0ab-449e-ab82-4466bb339a83', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'0127e8ca-fad3-43c3-a363-1318030f5e71', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:44:16.359 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(e2e788d9-42c0-481b-82ab-f1dd952a8a2c)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:44:16.360 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qr-e2e788d9-42'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.412 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qr-e2e788d9-42']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.413 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:16.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.422 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-e2e788d9-42', '--', 'add-port', 'br-int', 'qr-e2e788d9-42', '--', 'set', 'Interface', 'qr-e2e788d9-42', 'type=internal', 'external_ids:iface-id=e2e788d9-42c0-481b-82ab-f1dd952a8a2c', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:17:9f:72'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.445 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-e2e788d9-42', '--', 'add-port', 'br-int', u'qr-e2e788d9-42', '--', 'set', 'Interface', u'qr-e2e788d9-42', 'type=internal', u'external_ids:iface-id=e2e788d9-42c0-481b-82ab-f1dd952a8a2c', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:17:9f:72']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.446 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-e2e788d9-42'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.459 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-e2e788d9-42']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.459 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-e2e788d9-42', 'address', 'fa:16:3e:17:9f:72'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.468 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-e2e788d9-42', 'address', u'fa:16:3e:17:9f:72']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.483 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.483 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-e2e788d9-42', 'netns', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-e2e788d9-42', 'netns', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.526 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', 'qr-e2e788d9-42', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'link', 'set', u'qr-e2e788d9-42', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.598 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-e2e788d9-42), namespace(qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:44:16.598 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qr-e2e788d9-42'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.669 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qr-e2e788d9-42']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.669 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qr-e2e788d9-42', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.749 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qr-e2e788d9-42', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.750 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-e2e788d9-42', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.825 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-e2e788d9-42', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.825 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', 'qr-e2e788d9-42', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.835 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 1d5baf4b58f445288a1bc59f8252e4bd [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:16.837 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-e04f335c-b543-4f1a-9d74-137aa5f9fc8c [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:16.877 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', u'qr-e2e788d9-42', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.878 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', 'qr-e2e788d9-42', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.925 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', u'qr-e2e788d9-42', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.925 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'0127e8ca-fad3-43c3-a363-1318030f5e71', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'e2e788d9-42c0-481b-82ab-f1dd952a8a2c', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:17:9f:72', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'0127e8ca-fad3-43c3-a363-1318030f5e71', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'fc7c15ef-e0ab-449e-ab82-4466bb339a83', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'ace39e3a-4f41-4d84-b76a-763cf58ac5f3', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:44:16.926 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:44:16.926 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:44:16.929 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:44:16.930 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'radvd', '-C', '/opt/stack/data/neutron/ra/50ffb105-ecf7-4a4c-a9a5-04965f778981.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.931 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', 'qr-e2e788d9-42', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:16.976 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'radvd', '-C', u'/opt/stack/data/neutron/ra/50ffb105-ecf7-4a4c-a9a5-04965f778981.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:16.977 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:44:16.978 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.041 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.042 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:17.042 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:17.043 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.21'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::16'}], u'id': u'6fa27b4b-dddf-41f2-969f-5c21f8e98e48', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:58:8f:57', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-6fa27b4b-dd), ns(qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:44:17.044 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.097 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-6fa27b4b-dd already exists[00m
2016-01-27 20:44:17.098 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-6fa27b4b-dd), namespace(qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:44:17.099 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.166 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.285 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.286 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', 'qg-6fa27b4b-dd', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.386 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'route', 'list', 'dev', u'qg-6fa27b4b-dd', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.386 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', 'qg-6fa27b4b-dd', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.433 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'route', 'list', 'dev', u'qg-6fa27b4b-dd', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.433 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.434 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', 'qg-6fa27b4b-dd', '-c', '3', '-w', '4.5', '172.24.4.21'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.489 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.491 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:17.493 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.550 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.556 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.613 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.614 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.693 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.695 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:17.695 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:17.696 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:17.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:17.754 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:17.755 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:19.041 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', u'qr-e2e788d9-42', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:19.509 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', u'qg-6fa27b4b-dd', '-c', 3, '-w', 4.5, u'172.24.4.21']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.235 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 266c8b3e4ff04427813328ef7641f1df [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:20.238 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-d02d5b7a-25dc-4e8f-820e-872d692fb589 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:20.239 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:20.240 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: f22df0bc816148869eafaa387cd95e8c exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:20.563 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: f22df0bc816148869eafaa387cd95e8c[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:20.565 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:20.573 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.574 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:20.574 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:20.575 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.617 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:20.618 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:20.618 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.669 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.670 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:20.671 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.709 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.797 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.798 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:20.799 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:20.799 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.849 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.849 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '172.24.4.22/32', 'scope', 'global', 'dev', 'qg-6fa27b4b-dd', 'brd', '172.24.4.22'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.893 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '172.24.4.22/32', 'scope', 'global', 'dev', u'qg-6fa27b4b-dd', 'brd', '172.24.4.22']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:20.893 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 30d66d2a-8a94-4d88-a19b-85ee421ed6bd added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:44:20.893 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'30d66d2a-8a94-4d88-a19b-85ee421ed6bd': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:44:20.894 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 8fa2621cab34481080196f2fe1b1c09b exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:20.895 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', 'qg-6fa27b4b-dd', '-c', '3', '-w', '4.5', '172.24.4.22'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:20.912 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 8fa2621cab34481080196f2fe1b1c09b[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:20.913 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:20.914 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:22.961 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', u'qg-6fa27b4b-dd', '-c', 3, '-w', 4.5, u'172.24.4.22']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:31.794 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: c12170ebd3a944a3b5f9af6eacf1aea9 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:46.799 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:44:48.541 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a53fb4082d1c434a8a6033986f812d94 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:48.543 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-90545b1f-7520-4011-93f1-cdd590874b82 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:51.949 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 6079cbd733214a86a739b8746e3fba19 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:44:51.951 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-576d5a47-3dd4-4ede-981c-404e83463c53 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:44:51.952 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:44:51.952 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 7af896f620ec4f30a5f9c2a6d0323946 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:52.206 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 7af896f620ec4f30a5f9c2a6d0323946[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:52.207 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:44:52.219 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.219 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:52.220 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:44:52.220 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.257 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:44:52.258 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:44:52.258 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.293 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.294 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:44:52.294 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.345 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.353 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.393 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.393 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.433 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.434 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:44:52.434 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:44:52.434 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.473 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.474 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '172.24.4.23/32', 'scope', 'global', 'dev', 'qg-6fa27b4b-dd', 'brd', '172.24.4.23'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.512 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'add', '172.24.4.23/32', 'scope', 'global', 'dev', u'qg-6fa27b4b-dd', 'brd', '172.24.4.23']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:44:52.513 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 9e6ee7fb-69e4-4e96-9462-2e35217fdb5a added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:44:52.514 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9e6ee7fb-69e4-4e96-9462-2e35217fdb5a': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:44:52.514 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 5e97f1b238e34c4694560b12b5683757 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:44:52.515 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', 'qg-6fa27b4b-dd', '-c', '3', '-w', '4.5', '172.24.4.23'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:44:52.534 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 5e97f1b238e34c4694560b12b5683757[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:44:52.535 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:44:52.535 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:44:54.565 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'arping', '-A', '-I', u'qg-6fa27b4b-dd', '-c', 3, '-w', 4.5, u'172.24.4.23']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:01.549 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:01.552 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:01.684 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:01.797 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: f2032076f5bd4b6e95092176347a5a6f exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:25.855 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 7d09a0a5a01d4c14b6d46b943524bbe9 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:25.857 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-68b67c1e-b936-488e-9e6e-ad9cce62474d [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:25.858 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:25.859 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 16679517ff10421088465d5dd5ac1e75 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:26.140 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 16679517ff10421088465d5dd5ac1e75[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:26.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:26.149 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.150 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:26.150 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:26.151 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.201 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.202 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:26.202 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:26.203 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.266 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.268 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:26.269 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.330 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.339 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.389 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.390 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.440 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.442 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:26.442 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:26.442 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.481 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.481 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.23/32 from interface qg-6fa27b4b-dd in namespace qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:45:26.482 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'del', '172.24.4.23/32', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'del', u'172.24.4.23/32', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '172.24.4.23'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '172.24.4.23']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '172.24.4.23'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:26.629 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '172.24.4.23']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:26.629 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'9e6ee7fb-69e4-4e96-9462-2e35217fdb5a': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:45:26.630 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 10e00e907a70472ca57d15c59bb763e4 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:26.649 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 10e00e907a70472ca57d15c59bb763e4[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:26.649 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:26.650 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:26.801 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:45:28.807 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 64b0c040252f47bcbd2f59f60ee19fc4 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:28.810 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-83ff6992-c071-4b54-9692-c8da62bfd0af [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:28.811 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:28.811 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: aaf7b090ec294754b008a259f051a98d exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:29.004 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: aaf7b090ec294754b008a259f051a98d[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:29.004 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:29.013 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.014 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:29.014 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:29.015 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.077 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.078 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:29.078 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:29.079 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.141 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:29.142 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.197 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.206 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.265 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.266 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.329 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.332 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:29.332 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:29.333 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.393 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.393 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.22/32 from interface qg-6fa27b4b-dd in namespace qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:45:29.394 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'del', '172.24.4.22/32', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.453 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'del', u'172.24.4.22/32', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.453 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '172.24.4.22'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.517 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '172.24.4.22']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.517 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '172.24.4.22'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:29.561 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '172.24.4.22']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:29.561 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'30d66d2a-8a94-4d88-a19b-85ee421ed6bd': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:45:29.562 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 088910d6786f4ae2b19688177d080c3b exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:29.579 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 088910d6786f4ae2b19688177d080c3b[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:29.580 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:29.580 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:31.802 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 740199963be648a39c53cd0ca9ec87a9 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:31.953 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 9580fd93840d4407993116d060653284 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:31.955 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-dc66b368-c050-4160-9c09-4b824b205cf5 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:31.955 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:31.956 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: cfa2cc6d2eca4a09a9d039f086adbe6a exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:32.175 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: cfa2cc6d2eca4a09a9d039f086adbe6a[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:32.176 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:32.183 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.184 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:32.184 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:32.185 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mupdating internal network for port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'8ffc6b74-8f4c-4dfe-bd15-d586b6dfacd4', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:f9:44:61', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'fc7c15ef-e0ab-449e-ab82-4466bb339a83', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'0127e8ca-fad3-43c3-a363-1318030f5e71', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'ace39e3a-4f41-4d84-b76a-763cf58ac5f3', u'subnetpool_id': None}]}[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:423[00m
2016-01-27 20:45:32.185 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.229 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f8ec551cf61b4ba4b308c61d3877b963 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:32.232 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-e811c104-9dc2-44b1-ac8d-cbfe7a442567 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:32.257 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.258 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qr-8ffc6b74-8f', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.305 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qr-8ffc6b74-8f', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.306 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'del', '2003:0:0:1::1/64', 'dev', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.353 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'del', u'2003:0:0:1::1/64', 'dev', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.354 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:45:32.355 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:45:32.358 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-HUP', '27297'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.366 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-HUP', 27297]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.367 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:45:32.367 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.413 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.414 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:32.414 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:32.415 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.470 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:32.470 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.536 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.601 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.601 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.665 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.667 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:32.667 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:32.668 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:32.721 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.722 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:32.723 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:32.782 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 7a2a495ad1fb456497f89e38c13e4d4b [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:32.784 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-d77a279b-c1f4-4f9a-b329-8817ea9b1ba1 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:32.785 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:32.786 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 16ce3c2e00bb427493098913506b7395 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:32.987 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 16ce3c2e00bb427493098913506b7395[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:32.988 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:32.997 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:32.998 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:32.998 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:32.999 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(8ffc6b74-8f4c-4dfe-bd15-d586b6dfacd4) interface(qr-8ffc6b74-8f)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:45:32.999 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.049 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: d7eefc69794e486c8723f09514e95b69 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:33.051 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-b15163eb-d67c-4b4b-9af8-748de97228a1 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:33.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:33.081 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.082 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-8ffc6b74-8f'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.123 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-8ffc6b74-8f']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.124 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'8ffc6b74-8f4c-4dfe-bd15-d586b6dfacd4', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:f9:44:61', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'fc7c15ef-e0ab-449e-ab82-4466bb339a83', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'0127e8ca-fad3-43c3-a363-1318030f5e71', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'ace39e3a-4f41-4d84-b76a-763cf58ac5f3', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:45:33.124 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:45:33.125 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '27297'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.131 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 27297]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.133 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:45:33.133 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.205 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.207 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:33.207 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:33.208 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.269 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.270 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:33.271 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.341 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.401 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.401 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.457 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.458 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:33.458 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:33.459 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.521 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.522 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:33.522 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:33.652 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: b16beb4650294c7b86a30ddfe2c860c6 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:33.654 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-f0377eb4-95b9-4878-8167-0d4bf9c24480 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:33.655 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:33.656 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 2b25fac29e8c4c5a984127412005ef1b exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:33.850 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 2b25fac29e8c4c5a984127412005ef1b[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:33.850 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:33.858 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.859 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:33.859 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:33.859 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(e2e788d9-42c0-481b-82ab-f1dd952a8a2c) interface(qr-e2e788d9-42)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:45:33.860 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', 'qr-e2e788d9-42'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.879 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 650234b16cd24bcca5614dc95d43c628 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:33.882 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-5b1b5b20-1552-4f0c-85ee-a5e555106dda [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:33.921 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-o', 'link', 'show', u'qr-e2e788d9-42']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.921 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:33.928 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.929 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-e2e788d9-42'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:33.979 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-e2e788d9-42']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:33.980 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'0127e8ca-fad3-43c3-a363-1318030f5e71', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'e2e788d9-42c0-481b-82ab-f1dd952a8a2c', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:17:9f:72', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'0127e8ca-fad3-43c3-a363-1318030f5e71', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'fc7c15ef-e0ab-449e-ab82-4466bb339a83', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003:0:0:1::/64', u'gateway_ip': u'2003:0:0:1::1', u'id': u'ace39e3a-4f41-4d84-b76a-763cf58ac5f3', u'subnetpool_id': None}, {u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'cf253415-938c-489e-8ecd-91463f0fffc2', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:45:33.980 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.026 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:34.026 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:34.027 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.073 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.073 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:34.074 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.141 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.145 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.206 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.206 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.261 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.262 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:34.262 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:34.263 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.317 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', 'addr', 'show', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.318 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:34.318 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:34.404 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: d50aa7de1a7b40eca865fac421bef248 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:34.406 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-594532f7-f145-4b3a-81b8-e32d87c59750 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:34.407 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:34.408 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 63c9aa715c484a628cced8159d3905b3 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:34.573 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 63c9aa715c484a628cced8159d3905b3[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:34.574 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:34.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.582 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:34.582 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:34.583 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.605 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a925b80d3971442ba85261295ab28a61 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:34.608 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-f772364f-ff82-45b5-921f-1598f2e6d9a7 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:45:34.641 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.641 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:34.642 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:34.642 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.21'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::16'}], u'id': u'6fa27b4b-dddf-41f2-969f-5c21f8e98e48', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:58:8f:57', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'50ffb105-ecf7-4a4c-a9a5-04965f778981', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-6fa27b4b-dd)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:45:34.643 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'del', '172.24.4.21/24', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.697 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-4', 'addr', 'del', '172.24.4.21/24', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.698 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '172.24.4.21'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '172.24.4.21']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.762 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '172.24.4.21'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.805 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '172.24.4.21']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.806 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'del', '2001:db8::16/64', 'dev', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.870 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip', '-6', 'addr', 'del', '2001:db8::16/64', 'dev', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.871 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '2001:db8::16'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.933 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-d', '2001:db8::16']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.934 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '2001:db8::16'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:34.997 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'conntrack', '-D', '-q', '2001:db8::16']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:34.997 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:35.008 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.010 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-6fa27b4b-dd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.052 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-6fa27b4b-dd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.053 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:35.053 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:35.054 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.113 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.114 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:35.115 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.189 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.194 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.253 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.254 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.318 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.319 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 14 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:35.319 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:35.320 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:35.320 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:35.320 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981, action 1, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:35.321 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:35.321 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:45:35.321 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:35.322 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.377 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.379 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.442 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.505 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.508 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:35.509 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:35.510 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '27113'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.516 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 27113]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.517 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:35.517 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.589 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.589 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:35.590 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:35.590 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.637 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.637 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:35.638 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.685 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.687 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.750 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.751 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 0 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:35.751 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:35.752 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:45:35.752 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:45:35.752 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/50ffb105-ecf7-4a4c-a9a5-04965f778981.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:45:35.753 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:45:35.753 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:45:35.753 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.809 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.810 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:35.841 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-50ffb105-ecf7-4a4c-a9a5-04965f778981']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:35.842 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:35.842 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:45:35.843 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:35.843 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:35.844 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for 50ffb105-ecf7-4a4c-a9a5-04965f778981[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:45:37.421 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f7f1ee40bf694973b66b22dba95f6f88 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:37.423 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-6231294d-9fe5-4752-b2d8-80951776818c [00;36mNone None[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:37.895 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 8a233d8be52b41488e5c1f696f811d73 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:37.897 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-963b0b22-ecef-4d14-9035-9957469eefef [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:37.897 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:37.898 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1037c284af7845e3954e60ee2eeb6512 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:38.322 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 2c85309e72d44b568fcaf8b06ebf2dc0 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:38.323 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-a8683d74-471c-4c46-9cb6-07efca6212bc [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:38.328 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1037c284af7845e3954e60ee2eeb6512[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:38.330 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:38.338 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.342 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:38.342 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.add_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:45:38.343 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:38.344 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:38.344 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.352 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.353 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.359 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'add', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.360 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.421 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.422 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', 'lo', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.477 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', 'lo', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.478 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'sysctl', '-w', 'net.ipv4.ip_forward=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'sysctl', '-w', 'net.ipv4.ip_forward=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.570 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.571 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:38.571 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.634 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.634 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:38.635 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:38.635 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.24'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::19'}], u'id': u'768aad08-9dbe-4be9-afb9-1e3cbe8c23dc', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:e3:eb:ec', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-768aad08-9d), ns(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:45:38.636 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.685 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qg-768aad08-9d']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.685 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:38.693 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.695 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qg-768aad08-9d', '--', 'add-port', 'br-ex', 'qg-768aad08-9d', '--', 'set', 'Interface', 'qg-768aad08-9d', 'type=internal', 'external_ids:iface-id=768aad08-9dbe-4be9-afb9-1e3cbe8c23dc', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:e3:eb:ec'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.715 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qg-768aad08-9d', '--', 'add-port', 'br-ex', u'qg-768aad08-9d', '--', 'set', 'Interface', u'qg-768aad08-9d', 'type=internal', u'external_ids:iface-id=768aad08-9dbe-4be9-afb9-1e3cbe8c23dc', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:e3:eb:ec']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.717 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.727 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.728 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-768aad08-9d', 'address', 'fa:16:3e:e3:eb:ec'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.735 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-768aad08-9d', 'address', u'fa:16:3e:e3:eb:ec']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.735 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.742 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.743 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qg-768aad08-9d', 'netns', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.782 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qg-768aad08-9d', 'netns', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.782 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', 'qg-768aad08-9d', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.833 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', u'qg-768aad08-9d', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.834 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-768aad08-9d), namespace(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:45:38.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.886 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:38.961 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:38.961 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '172.24.4.24/24', 'scope', 'global', 'dev', 'qg-768aad08-9d', 'brd', '172.24.4.255'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '172.24.4.24/24', 'scope', 'global', 'dev', u'qg-768aad08-9d', 'brd', '172.24.4.255']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.033 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'addr', 'add', '2001:db8::19/64', 'scope', 'global', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.101 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'addr', 'add', '2001:db8::19/64', 'scope', 'global', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.102 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.225 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', 'qg-768aad08-9d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.256 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 6a811baa33a7417ebbccc04123fb38f7 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:39.259 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-abeac40d-e46c-4bb8-8e6b-5c0d5235bfa7 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:39.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', u'qg-768aad08-9d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', 'qg-768aad08-9d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.349 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', u'qg-768aad08-9d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.350 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:39.351 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:39.351 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.352 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', 'qg-768aad08-9d', '-c', '3', '-w', '4.5', '172.24.4.24'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.413 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.414 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:39.414 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.473 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.597 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.599 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.669 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.670 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 82 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:39.670 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:39.671 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.714 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_create[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:39.715 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.after_router_added[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:45:39.716 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:39.716 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.773 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:39.901 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:39.902 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:39.902 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:39.903 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:45:39.903 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'neutron-ns-metadata-proxy', '--pid_file=/opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', '--router_id=cfda9008-cb84-4ffa-a949-32746a8554ee', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:40.562 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'neutron-ns-metadata-proxy', u'--pid_file=/opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid', '--metadata_proxy_socket=/opt/stack/data/neutron/metadata_proxy', u'--router_id=cfda9008-cb84-4ffa-a949-32746a8554ee', '--state_path=/opt/stack/data/neutron', '--metadata_port=9697', '--metadata_proxy_user=1000', '--metadata_proxy_group=1000', '--debug', '--verbose']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:40.562 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:40.563 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:40.564 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 9189327e31d24c50b26136cda5d3e7da exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:41.150 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 9189327e31d24c50b26136cda5d3e7da[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:41.151 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:41.159 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.160 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:41.161 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:41.161 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(1ae659aa-84cf-46fa-a958-72a49631f933)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:45:41.162 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qr-1ae659aa-84'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.213 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qr-1ae659aa-84']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.213 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:41.222 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.223 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-1ae659aa-84', '--', 'add-port', 'br-int', 'qr-1ae659aa-84', '--', 'set', 'Interface', 'qr-1ae659aa-84', 'type=internal', 'external_ids:iface-id=1ae659aa-84cf-46fa-a958-72a49631f933', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:4e:de:6e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.236 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 98b020f15c8f44c89e9590dcc2f2522e [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:41.238 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-4b3e3828-29d1-4b6f-b26d-6711c0719d20 [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:41.246 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-1ae659aa-84', '--', 'add-port', 'br-int', u'qr-1ae659aa-84', '--', 'set', 'Interface', u'qr-1ae659aa-84', 'type=internal', u'external_ids:iface-id=1ae659aa-84cf-46fa-a958-72a49631f933', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:4e:de:6e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.247 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-1ae659aa-84'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.259 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-1ae659aa-84']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.260 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-1ae659aa-84', 'address', 'fa:16:3e:4e:de:6e'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.267 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-1ae659aa-84', 'address', u'fa:16:3e:4e:de:6e']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.268 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.274 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-1ae659aa-84', 'netns', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.310 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-1ae659aa-84', 'netns', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.311 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', 'qr-1ae659aa-84', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.373 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', u'qr-1ae659aa-84', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.374 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-1ae659aa-84), namespace(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:45:41.374 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qr-1ae659aa-84'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.429 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qr-1ae659aa-84']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.430 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qr-1ae659aa-84', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.436 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', u'qg-768aad08-9d', '-c', 3, '-w', 4.5, u'172.24.4.24']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.477 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qr-1ae659aa-84', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.477 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', 'qr-1ae659aa-84', 'brd', '10.100.0.15'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '10.100.0.1/28', 'scope', 'global', 'dev', u'qr-1ae659aa-84', 'brd', '10.100.0.15']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', 'qr-1ae659aa-84', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.585 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', u'qr-1ae659aa-84', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.586 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', 'qr-1ae659aa-84', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.645 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', u'qr-1ae659aa-84', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.646 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'2305759c-2162-4e16-9b86-83daed51a55a', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'1ae659aa-84cf-46fa-a958-72a49631f933', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:4e:de:6e', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'2305759c-2162-4e16-9b86-83daed51a55a', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'3f8e759e-9c1b-4a51-9030-b11beae6af10', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'296e7c9a-3ac0-43c5-a8fd-9da385fa2d6f', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:45:41.646 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32madding internal network: prefix(qr-), port(ab4968d2-fdd8-43ef-bd50-d5a127218066)[00m [00;33mfrom (pid=15159) _internal_network_added /opt/stack/neutron/neutron/agent/l3/router_info.py:299[00m
2016-01-27 20:45:41.646 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qr-ab4968d2-fd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.647 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', 'qr-1ae659aa-84', '-c', '3', '-w', '4.5', '10.100.0.1'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.694 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qr-ab4968d2-fd']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.694 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:41.706 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.708 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'qr-ab4968d2-fd', '--', 'add-port', 'br-int', 'qr-ab4968d2-fd', '--', 'set', 'Interface', 'qr-ab4968d2-fd', 'type=internal', 'external_ids:iface-id=ab4968d2-fdd8-43ef-bd50-d5a127218066', 'external_ids:iface-status=active', 'external_ids:attached-mac=fa:16:3e:bd:47:31'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.730 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', u'qr-ab4968d2-fd', '--', 'add-port', 'br-int', u'qr-ab4968d2-fd', '--', 'set', 'Interface', u'qr-ab4968d2-fd', 'type=internal', u'external_ids:iface-id=ab4968d2-fdd8-43ef-bd50-d5a127218066', 'external_ids:iface-status=active', u'external_ids:attached-mac=fa:16:3e:bd:47:31']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.731 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', 'qr-ab4968d2-fd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.742 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--columns=ofport', 'list', 'Interface', u'qr-ab4968d2-fd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.742 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-ab4968d2-fd', 'address', 'fa:16:3e:bd:47:31'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.750 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-ab4968d2-fd', 'address', u'fa:16:3e:bd:47:31']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.750 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', '-o', 'netns', 'list'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.757 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'netns', 'list']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.758 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'link', 'set', 'qr-ab4968d2-fd', 'netns', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.794 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'link', 'set', u'qr-ab4968d2-fd', 'netns', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.795 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', 'qr-ab4968d2-fd', 'up'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.850 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'link', 'set', u'qr-ab4968d2-fd', 'up']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.851 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qr-ab4968d2-fd), namespace(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:45:41.851 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qr-ab4968d2-fd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.913 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qr-ab4968d2-fd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.914 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qr-ab4968d2-fd', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:41.977 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qr-ab4968d2-fd', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:41.977 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', 'qr-ab4968d2-fd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.037 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'addr', 'add', '2003::1/64', 'scope', 'global', 'dev', u'qr-ab4968d2-fd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.038 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', 'qr-ab4968d2-fd', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', u'qr-ab4968d2-fd', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.098 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', 'qr-ab4968d2-fd', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.153 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', u'qr-ab4968d2-fd', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.154 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mappending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'296e7c9a-3ac0-43c5-a8fd-9da385fa2d6f', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'ab4968d2-fdd8-43ef-bd50-d5a127218066', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:bd:47:31', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'296e7c9a-3ac0-43c5-a8fd-9da385fa2d6f', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'3f8e759e-9c1b-4a51-9030-b11beae6af10', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'2305759c-2162-4e16-9b86-83daed51a55a', u'subnetpool_id': None}]} to internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:396[00m
2016-01-27 20:45:42.155 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:45:42.155 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mEnable IPv6 RA for router cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) enable /opt/stack/neutron/neutron/agent/linux/ra.py:133[00m
2016-01-27 20:45:42.158 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:45:42.158 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'radvd', '-C', '/opt/stack/data/neutron/ra/cfda9008-cb84-4ffa-a949-32746a8554ee.radvd.conf', '-p', '/opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid.radvd', '-m', 'syslog'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.189 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'radvd', '-C', u'/opt/stack/data/neutron/ra/cfda9008-cb84-4ffa-a949-32746a8554ee.radvd.conf', '-p', u'/opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid.radvd', '-m', 'syslog']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.190 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd enabled for router cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _spawn_radvd /opt/stack/neutron/neutron/agent/linux/ra.py:127[00m
2016-01-27 20:45:42.190 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.249 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.250 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:42.250 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:42.250 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.24'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::19'}], u'id': u'768aad08-9dbe-4be9-afb9-1e3cbe8c23dc', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:e3:eb:ec', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-768aad08-9d), ns(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:45:42.251 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.305 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.305 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-768aad08-9d already exists[00m
2016-01-27 20:45:42.306 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-768aad08-9d), namespace(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:45:42.306 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.345 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.345 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.397 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.397 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.440 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.441 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.497 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.497 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', 'qg-768aad08-9d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', u'qg-768aad08-9d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.541 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', 'qg-768aad08-9d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.593 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', u'qg-768aad08-9d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.593 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.594 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', 'qg-768aad08-9d', '-c', '3', '-w', '4.5', '172.24.4.24'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.649 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.650 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:42.650 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.709 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.778 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.778 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.829 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.831 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:42.832 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:42.832 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:42.869 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:42.871 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:42.871 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:43.712 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', u'qr-1ae659aa-84', '-c', 3, '-w', 4.5, u'10.100.0.1']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:44.681 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', u'qg-768aad08-9d', '-c', 3, '-w', 4.5, u'172.24.4.24']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:44.684 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 91dcbeab78974223988ac0751580ab28 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:45:44.686 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-94f7c047-1115-4ad3-9dcb-862a90a4084c [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:45:44.687 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:45:44.688 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 31911320915247b7a30d0a80997532ad exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:44.901 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 31911320915247b7a30d0a80997532ad[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:44.902 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:45:44.909 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:44.910 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:44.910 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:45:44.910 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:44.972 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:44.973 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:45:44.974 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:45:44.974 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:45.025 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:45.026 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:45:45.026 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:45.077 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:45.082 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:45.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:45.137 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:45.189 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:45.190 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:45:45.190 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:45:45.191 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:45.229 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:45.229 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '172.24.4.25/32', 'scope', 'global', 'dev', 'qg-768aad08-9d', 'brd', '172.24.4.25'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:45.269 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '172.24.4.25/32', 'scope', 'global', 'dev', u'qg-768aad08-9d', 'brd', '172.24.4.25']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:45:45.269 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 4b6fcc2e-d997-43f8-972e-ceb39b87080d added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:45:45.270 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'4b6fcc2e-d997-43f8-972e-ceb39b87080d': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:45:45.271 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 620bda2db94c4b78a9e7f48c52e64647 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:45:45.272 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', 'qg-768aad08-9d', '-c', '3', '-w', '4.5', '172.24.4.25'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:45:45.289 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 620bda2db94c4b78a9e7f48c52e64647[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:45:45.290 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:45:45.290 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:45:47.314 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', u'qg-768aad08-9d', '-c', 3, '-w', 4.5, u'172.24.4.25']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:01.549 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:01.550 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:01.684 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:01.805 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 96306509dd654714b6f3aa41ebe09476 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:06.802 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:46:12.620 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 1dacf9a783074cc8828f629055dcb152 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:12.622 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-17615eac-cb4d-4ad5-954c-ed4eb7f9313b [00;36mneutron 11eb14c59ed24887ba21024ded399275[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:16.057 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 488d04674e0f4963a6c255c0da8f06a8 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:16.058 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-c097f31f-41bb-4e88-b78f-2caeace102cd [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:16.059 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:46:16.060 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: cca9f28b024c493183b42f0dbfc24e50 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:16.293 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: cca9f28b024c493183b42f0dbfc24e50[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:16.293 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:16.300 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.301 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:16.302 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:46:16.302 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.356 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.357 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:16.358 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:16.358 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.405 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.405 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:46:16.406 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.479 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.573 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.574 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:46:16.574 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:46:16.575 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.625 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.625 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '172.24.4.26/32', 'scope', 'global', 'dev', 'qg-768aad08-9d', 'brd', '172.24.4.26'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.657 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'add', '172.24.4.26/32', 'scope', 'global', 'dev', u'qg-768aad08-9d', 'brd', '172.24.4.26']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:16.657 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mFloating ip 84dbe520-5581-4b5d-82e3-2a26058380e6 added, status ACTIVE[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:240[00m
2016-01-27 20:46:16.658 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'84dbe520-5581-4b5d-82e3-2a26058380e6': 'ACTIVE'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:46:16.659 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: bc9e66a78b45449ca39254792ec7f1cf exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:16.660 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', 'qg-768aad08-9d', '-c', '3', '-w', '4.5', '172.24.4.26'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:16.676 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: bc9e66a78b45449ca39254792ec7f1cf[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:16.677 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:16.677 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:46:18.705 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', u'qg-768aad08-9d', '-c', 3, '-w', 4.5, u'172.24.4.26']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:31.809 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: 2eca6d3507c942ebb7970497b79afe4e exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:45.500 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: e4c7030770a34b7ebcfb53ea9c01e190 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:45.502 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-a362d5f6-b278-40a7-aaf6-1b41ed465f1a [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:45.502 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:46:45.503 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: dbd6b75ff52343f7b528ab17decdf8dd exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:45.761 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: dbd6b75ff52343f7b528ab17decdf8dd[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:45.762 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:45.769 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:45.770 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:45.770 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:46:45.771 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:45.834 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:45.835 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:45.835 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:45.836 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:45.906 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:45.907 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:46:45.908 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:45.975 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:45.990 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:46.049 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:46.049 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:46.117 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:46.118 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 15 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:46:46.118 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:46:46.118 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:46.185 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:46.185 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.26/32 from interface qg-768aad08-9d in namespace qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:46:46.186 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'del', '172.24.4.26/32', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:46.237 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'del', u'172.24.4.26/32', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:46.238 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '172.24.4.26'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:46.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '172.24.4.26']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:46.298 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '172.24.4.26'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:46.345 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '172.24.4.26']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:46.346 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'84dbe520-5581-4b5d-82e3-2a26058380e6': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:46:46.347 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 48cb8d364c204fdeae83de9d6db4480c exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:46.362 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 48cb8d364c204fdeae83de9d6db4480c[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:46.363 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:46.363 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:46:46.803 [00;32mDEBUG oslo_service.periodic_task [[01;36mreq-ad8ce83e-2aa9-4f99-986d-ee288c58e959 [00;36mNone None[00;32m] [01;35m[00;32mRunning periodic task L3NATAgentWithStateReport.periodic_sync_routers_task[00m [00;33mfrom (pid=15159) run_periodic_tasks /usr/local/lib/python2.7/dist-packages/oslo_service/periodic_task.py:215[00m
2016-01-27 20:46:48.595 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: b6c4e5d18f3745cdaf48aa2cc8948f24 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:48.598 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-3f9dd87e-8dcc-4ebe-bc77-6230a97a71f0 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:48.599 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:46:48.600 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 1c9993a0d32d4783acf278e41570eabe exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:48.800 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 1c9993a0d32d4783acf278e41570eabe[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:48.800 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:48.808 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:48.809 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:48.809 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:46:48.810 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:48.877 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:48.878 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:48.878 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:48.878 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:48.941 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:48.941 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:46:48.942 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:49.017 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:49.022 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:49.090 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:49.090 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:49.133 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:49.134 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 9 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:46:49.135 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:46:49.135 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:49.177 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:49.177 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mRemoving floating ip 172.24.4.25/32 from interface qg-768aad08-9d in namespace qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) process_floating_ip_addresses /opt/stack/neutron/neutron/agent/l3/router_info.py:250[00m
2016-01-27 20:46:49.178 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'del', '172.24.4.25/32', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:49.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'del', u'172.24.4.25/32', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:49.241 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '172.24.4.25'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:49.289 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '172.24.4.25']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:49.289 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '172.24.4.25'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:49.325 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '172.24.4.25']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:49.325 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mSending floating ip statuses: {u'4b6fcc2e-d997-43f8-972e-ceb39b87080d': 'DOWN'}[00m [00;33mfrom (pid=15159) update_fip_statuses /opt/stack/neutron/neutron/agent/l3/agent.py:377[00m
2016-01-27 20:46:49.326 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 069d7ffc16e1446a907dd194a9f05407 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:49.342 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 069d7ffc16e1446a907dd194a9f05407[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:49.343 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:49.343 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:46:51.684 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 0a21a32eee5849ce87a9630389902b15 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:51.686 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-8e0d1981-dfa2-4a8c-992d-41727769da67 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:51.686 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:46:51.687 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: 119e4e7508c04f4990ee87d4a6904002 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:51.935 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: a01cde4dfdd146eeaca9be04de9b720a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:51.937 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-faf0c23e-9df4-4b6d-84e6-65a38e5de062 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:51.955 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: 119e4e7508c04f4990ee87d4a6904002[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:51.956 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:51.963 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:51.964 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:51.965 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:46:51.965 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(ab4968d2-fdd8-43ef-bd50-d5a127218066) interface(qr-ab4968d2-fd)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:46:51.965 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qr-ab4968d2-fd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.029 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qr-ab4968d2-fd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.029 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:52.036 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.037 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-ab4968d2-fd'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.084 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-ab4968d2-fd']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.084 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'296e7c9a-3ac0-43c5-a8fd-9da385fa2d6f', u'prefixlen': 64, u'ip_address': u'2003::1'}], u'id': u'ab4968d2-fdd8-43ef-bd50-d5a127218066', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:bd:47:31', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'296e7c9a-3ac0-43c5-a8fd-9da385fa2d6f', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'3f8e759e-9c1b-4a51-9030-b11beae6af10', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'2305759c-2162-4e16-9b86-83daed51a55a', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:46:52.085 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mSpawning radvd daemon in router device: cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) enable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:365[00m
2016-01-27 20:46:52.085 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '28201'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.091 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 28201]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.092 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:46:52.093 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.149 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.149 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:52.150 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:52.150 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.201 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.202 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:46:52.202 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.261 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.268 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.333 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.334 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.389 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.391 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:46:52.391 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:46:52.392 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.445 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 865174ba6555433a893c5761a759de3a [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:52.447 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-8e4888fd-faf2-4322-bfb1-96a1e94d2776 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:52.454 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.455 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:52.455 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:46:52.456 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:46:52.457 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: ae44fbc8bede41a48f976c625793c985 exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:52.646 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: ae44fbc8bede41a48f976c625793c985[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:52.647 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:52.654 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.655 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:52.655 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:46:52.656 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving internal network: port(1ae659aa-84cf-46fa-a958-72a49631f933) interface(qr-1ae659aa-84)[00m [00;33mfrom (pid=15159) internal_network_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:332[00m
2016-01-27 20:46:52.656 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qr-1ae659aa-84'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.681 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: f74cf7bc943c427b8f08afece208642f [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:52.683 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-84eb7a13-39d5-44a4-b99c-a5df9b78bd29 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:52.713 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qr-1ae659aa-84']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.714 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-int'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:52.721 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-int']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.722 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', 'qr-1ae659aa-84'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.764 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-int', u'qr-1ae659aa-84']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.765 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mremoving port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_interface', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'2305759c-2162-4e16-9b86-83daed51a55a', u'prefixlen': 28, u'ip_address': u'10.100.0.1'}], u'id': u'1ae659aa-84cf-46fa-a958-72a49631f933', u'security_groups': [], u'binding:vif_details': {}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:4e:de:6e', u'status': u'DOWN', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'10.100.0.0/28', u'gateway_ip': u'10.100.0.1', u'id': u'2305759c-2162-4e16-9b86-83daed51a55a', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'3f8e759e-9c1b-4a51-9030-b11beae6af10', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'46214808d0db44c38c14fd3b092a24c0', u'extra_subnets': [{u'ipv6_ra_mode': u'slaac', u'cidr': u'2003::/64', u'gateway_ip': u'2003::1', u'id': u'296e7c9a-3ac0-43c5-a8fd-9da385fa2d6f', u'subnetpool_id': None}]} from internal_ports cache[00m [00;33mfrom (pid=15159) _process_internal_ports /opt/stack/neutron/neutron/agent/l3/router_info.py:408[00m
2016-01-27 20:46:52.766 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.833 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.834 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:52.835 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:52.835 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.24'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::19'}], u'id': u'768aad08-9dbe-4be9-afb9-1e3cbe8c23dc', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:e3:eb:ec', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-768aad08-9d), ns(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) _external_gateway_added /opt/stack/neutron/neutron/agent/l3/router_info.py:494[00m
2016-01-27 20:46:52.835 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.897 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.897 [00;36mINFO neutron.agent.linux.interface [[00;36m-[00;36m] [01;35m[00;36mDevice qg-768aad08-9d already exists[00m
2016-01-27 20:46:52.898 [00;32mDEBUG neutron.agent.linux.interface [[00;36m-[00;32m] [01;35m[00;32minit_router_port: device_name(qg-768aad08-9d), namespace(qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee)[00m [00;33mfrom (pid=15159) init_router_port /opt/stack/neutron/neutron/agent/linux/interface.py:172[00m
2016-01-27 20:46:52.898 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:52.965 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-o', 'link', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:52.966 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d', 'permanent'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.021 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d', 'permanent']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.022 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.095 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'replace', 'default', 'via', u'172.24.4.1', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'replace', 'default', 'via', '2001:db8::2', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'replace', 'default', 'via', u'2001:db8::2', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.165 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', 'qg-768aad08-9d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.219 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: 5ed7c0e78f1941919deedfc93edea0e3 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:53.222 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-9f41d759-8486-4bc5-87dd-3d08c37230d8 [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot routers updated notification :[u'cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) routers_updated /opt/stack/neutron/neutron/agent/l3/agent.py:392[00m
2016-01-27 20:46:53.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'route', 'list', 'dev', u'qg-768aad08-9d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', 'qg-768aad08-9d', 'scope', 'link'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.297 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'route', 'list', 'dev', u'qg-768aad08-9d', 'scope', 'link']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.298 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.299 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', 'qg-768aad08-9d', '-c', '3', '-w', '4.5', '172.24.4.24'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.362 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.363 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:46:53.363 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.409 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.413 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.469 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.517 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived message unique_id: ef469757a0a44617941244b28656fdc5 [00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:195[00m
2016-01-27 20:46:53.521 [00;32mDEBUG neutron.agent.l3.agent [[01;36mreq-93655d85-96f1-46fe-91ab-454f405d341e [00;36mtempest-TestGettingAddress-1693771313 46214808d0db44c38c14fd3b092a24c0[00;32m] [01;35m[00;32mGot router deleted notification for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) router_deleted /opt/stack/neutron/neutron/agent/l3/agent.py:384[00m
2016-01-27 20:46:53.533 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.534 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 6 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:46:53.534 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:46:53.535 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', 'addr', 'show', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.582 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_update[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:53.583 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:518[00m
2016-01-27 20:46:53.583 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mStarting router update for cfda9008-cb84-4ffa-a949-32746a8554ee, action None, priority 0[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:470[00m
2016-01-27 20:46:53.585 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCALL msg_id: ee12fc59c583466fb1801130829384ed exchange 'neutron' topic 'q-l3-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
2016-01-27 20:46:53.646 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mreceived reply msg_id: ee12fc59c583466fb1801130829384ed[00m [00;33mfrom (pid=15159) __call__ /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:294[00m
2016-01-27 20:46:53.646 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, before_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:53.647 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.metadata.driver.before_router_removed[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:46:53.647 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:46:53.648 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.697 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.701 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.761 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.817 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.819 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 16 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:46:53.819 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:46:53.821 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['kill', '-9', '28019'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.830 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['kill', '-9', 28019]
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.831 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mprocess router updates[00m [00;33mfrom (pid=15159) process /opt/stack/neutron/neutron/agent/l3/router_info.py:690[00m
2016-01-27 20:46:53.831 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.885 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.886 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:53.886 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:53.886 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mExternal gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'device_owner': u'network:router_gateway', u'port_security_enabled': False, u'binding:profile': {}, u'fixed_ips': [{u'subnet_id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'prefixlen': 24, u'ip_address': u'172.24.4.24'}, {u'subnet_id': u'94044161-6c8d-475b-81da-284c8218822e', u'prefixlen': 64, u'ip_address': u'2001:db8::19'}], u'id': u'768aad08-9dbe-4be9-afb9-1e3cbe8c23dc', u'security_groups': [], u'binding:vif_details': {u'port_filter': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:e3:eb:ec', u'status': u'ACTIVE', u'subnets': [{u'ipv6_ra_mode': None, u'cidr': u'172.24.4.0/24', u'gateway_ip': u'172.24.4.1', u'id': u'6c234e5f-6bd0-4fbf-9984-1b356fb9f693', u'subnetpool_id': None}, {u'ipv6_ra_mode': None, u'cidr': u'2001:db8::/64', u'gateway_ip': u'2001:db8::2', u'id': u'94044161-6c8d-475b-81da-284c8218822e', u'subnetpool_id': None}], u'binding:host_id': u'vagrant-ubuntu-trusty-64', u'device_id': u'cfda9008-cb84-4ffa-a949-32746a8554ee', u'name': u'', u'admin_state_up': True, u'network_id': u'34314c6c-e582-4b6c-951c-2d400591d282', u'dns_name': u'', u'binding:vnic_type': u'normal', u'tenant_id': u'', u'extra_subnets': []}), interface(qg-768aad08-9d)[00m [00;33mfrom (pid=15159) external_gateway_removed /opt/stack/neutron/neutron/agent/l3/router_info.py:542[00m
2016-01-27 20:46:53.887 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'del', '172.24.4.24/24', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.929 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-4', 'addr', 'del', '172.24.4.24/24', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.930 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '172.24.4.24'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:53.993 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '172.24.4.24']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:53.994 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '172.24.4.24'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.045 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '172.24.4.24']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.046 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'addr', 'del', '2001:db8::19/64', 'dev', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.097 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip', '-6', 'addr', 'del', '2001:db8::19/64', 'dev', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.098 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '2001:db8::19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.153 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-d', '2001:db8::19']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.154 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '2001:db8::19'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.217 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'conntrack', '-D', '-q', '2001:db8::19']
Exit code: 1
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.218 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command: ['ip', '-o', 'link', 'show', 'br-ex'][00m [00;33mfrom (pid=15159) create_process /opt/stack/neutron/neutron/agent/linux/utils.py:85[00m
2016-01-27 20:46:54.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', '-o', 'link', 'show', 'br-ex']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.233 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', 'qg-768aad08-9d'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.271 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ovs-vsctl', '--timeout=10', '--oneline', '--format=json', '--', '--if-exists', 'del-port', 'br-ex', u'qg-768aad08-9d']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.272 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:54.272 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:54.273 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.337 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.338 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mAcquired semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:212[00m
2016-01-27 20:46:54.338 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.394 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.396 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.465 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'iptables-restore', '-n']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.466 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.521 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'ip6tables-save']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.523 [00;32mDEBUG neutron.agent.linux.iptables_manager [[00;36m-[00;32m] [01;35m[00;32mIPTablesManager.apply completed with success. 12 iptables commands were issued[00m [00;33mfrom (pid=15159) _apply_synchronized /opt/stack/neutron/neutron/agent/linux/iptables_manager.py:510[00m
2016-01-27 20:46:54.523 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mReleasing semaphore "iptables-qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee"[00m [00;33mfrom (pid=15159) lock /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:225[00m
2016-01-27 20:46:54.524 [00;32mDEBUG neutron.agent.l3.router_info [[00;36m-[00;32m] [01;35m[00;32mTerminating radvd daemon in router device: cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) disable_radvd /opt/stack/neutron/neutron/agent/l3/router_info.py:372[00m
2016-01-27 20:46:54.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:46:54.525 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mUnable to access /opt/stack/data/neutron/external/pids/cfda9008-cb84-4ffa-a949-32746a8554ee.pid.radvd[00m [00;33mfrom (pid=15159) get_value_from_file /opt/stack/neutron/neutron/agent/linux/utils.py:245[00m
2016-01-27 20:46:54.525 [00;32mDEBUG neutron.agent.linux.external_process [[00;36m-[00;32m] [01;35m[00;32mNo process started for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/external_process.py:118[00m
2016-01-27 20:46:54.526 [00;32mDEBUG neutron.agent.linux.ra [[00;36m-[00;32m] [01;35m[00;32mradvd disabled for router cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) disable /opt/stack/neutron/neutron/agent/linux/ra.py:147[00m
2016-01-27 20:46:54.526 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.581 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f ']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.582 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32mRunning command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee'][00m [00;33mfrom (pid=15159) execute_rootwrap_daemon /opt/stack/neutron/neutron/agent/linux/utils.py:101[00m
2016-01-27 20:46:54.617 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'delete', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:46:54.617 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mNotify callbacks for router, after_delete[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:133[00m
2016-01-27 20:46:54.618 [00;32mDEBUG neutron.callbacks.manager [[00;36m-[00;32m] [01;35m[00;32mCalling callback neutron.agent.linux.pd.remove_router[00m [00;33mfrom (pid=15159) _notify_loop /opt/stack/neutron/neutron/callbacks/manager.py:140[00m
2016-01-27 20:46:54.618 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:46:54.619 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:46:54.619 [00;32mDEBUG neutron.agent.l3.agent [[00;36m-[00;32m] [01;35m[00;32mFinished a router update for cfda9008-cb84-4ffa-a949-32746a8554ee[00m [00;33mfrom (pid=15159) _process_router_update /opt/stack/neutron/neutron/agent/l3/agent.py:500[00m
2016-01-27 20:46:55.345 [00;32mDEBUG neutron.agent.linux.utils [[00;36m-[00;32m] [01;35m[00;32m
Command: ['ip', 'netns', 'exec', u'qrouter-cfda9008-cb84-4ffa-a949-32746a8554ee', 'arping', '-A', '-I', u'qg-768aad08-9d', '-c', 3, '-w', 4.5, u'172.24.4.24']
Exit code: 0
[00m [00;33mfrom (pid=15159) execute /opt/stack/neutron/neutron/agent/linux/utils.py:156[00m
2016-01-27 20:47:01.549 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:47:01.550 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:47:01.683 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:270[00m
2016-01-27 20:47:01.684 [00;32mDEBUG oslo_concurrency.lockutils [[00;36m-[00;32m] [01;35m[00;32mLock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s[00m [00;33mfrom (pid=15159) inner /usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:282[00m
2016-01-27 20:47:01.812 [00;32mDEBUG oslo_messaging._drivers.amqpdriver [[00;36m-[00;32m] [01;35m[00;32mCAST unique_id: a07afe75f8f44d74b39e8c9390a71543 exchange 'neutron' topic 'q-plugin'[00m [00;33mfrom (pid=15159) _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448[00m
